function I18nUrlMatcher(e,t,n){t=angular.isObject(t)?t:{},this.rootLocale=t.rootLocale,this.urlMatchers=[],this.params={},this.values={},Object.keys(e).forEach(function(r){var i=e[r],a=n.compile(i,t);if(this.urlMatchers[r]=a,this.params=extend({},a.params,this.params),this.rootLocale==r&&this.params.rootLocale,!this.params.locale){if(!this.rootLocale)throw new Error("Missing ':locale' parameter in url '"+r+": "+i+"'. If you still want to use it, you must set default locale by $I18nUrlMatcherFactory.rootLocale(rootLocale).");if(this.rootLocale!=r)throw new Error("Missing ':locale' parameter in url '"+r+": "+i+"'. Only urls of default locale, which is '"+this.rootLocale+"', can be without ':locale' parameter.")}},this)}function $I18nUrlMatcherFactory(e){function t(){return{strict:s,caseInsensitive:o,rootLocale:i}}function n(e){return isFunction(e)||isArray(e)&&isFunction(e[e.length-1])}function r(){forEach(c,function(e){if(I18nUrlMatcher.prototype.$types[e.name])throw new Error("A type named '"+e.name+"' has already been defined.");var t=new Type(n(e.def)?a.invoke(e.def):e.def);I18nUrlMatcher.prototype.$types[e.name]=t})}var i,a,o=!1,s=!0,l=!0,c=[],u={"int":{decode:function(e){return parseInt(e,10)},is:function(e){return!!isDefined(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},string:{pattern:/[^\/]*/},date:{equals:function(e,t){return e.toISOString()===t.toISOString()},decode:function(e){return new Date(e)},encode:function(e){return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/}};$I18nUrlMatcherFactory.$$getDefaultValue=function(e){if(!n(e.value))return e.value;if(!a)throw new Error("Injectable functions cannot be called at configuration time");return a.invoke(e.value)},this.rootLocale=function(e){return null==e?i:void(i=e)},this.caseInsensitive=function(e){o=e},this.strictMode=function(e){s=e},this.compile=function(n,r){return new I18nUrlMatcher(n,extend(t(),r),e)},this.isMatcher=function(e){if(!isObject(e))return!1;var t=!0;return forEach(I18nUrlMatcher.prototype,function(n,r){isFunction(n)&&(t=t&&isDefined(e[r])&&isFunction(e[r]))}),t},this.type=function(e,t){return isDefined(t)?(c.push({name:e,def:t}),l||r(),this):I18nUrlMatcher.prototype.$types[e]},this.$get=["$injector",function(e){return a=e,l=!1,I18nUrlMatcher.prototype.$types={},r(),forEach(u,function(e,t){I18nUrlMatcher.prototype.$types[t]||(I18nUrlMatcher.prototype.$types[t]=new Type(e))}),this}]}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,i=2,a=arguments,o=a[0],s="["+(e?e+":":"")+o+"] ",l=a[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<a.length?_e(a[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.8/"+(e?e+"/":"")+o,r=i,n="?";r<a.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(_e(a[r]));return new t(s)}}function n(e){if(null==e||T(e))return!1;if(Kr(e)||w(e)||Mr&&e instanceof Mr)return!0;var t="length"in Object(e)&&e.length;return $(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var a,o;if(e)if(S(e))for(a in e)"prototype"==a||"length"==a||"name"==a||e.hasOwnProperty&&!e.hasOwnProperty(a)||t.call(i,e[a],a,e);else if(Kr(e)||n(e)){var s="object"!=typeof e;for(a=0,o=e.length;a<o;a++)(s||a in e)&&t.call(i,e[a],a,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(b(e))for(a in e)t.call(i,e[a],a,e);else if("function"==typeof e.hasOwnProperty)for(a in e)e.hasOwnProperty(a)&&t.call(i,e[a],a,e);else for(a in e)jr.call(e,a)&&t.call(i,e[a],a,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function a(e){return function(t,n){e(n,t)}}function o(){return++Yr}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var r=e.$$hashKey,i=0,a=t.length;i<a;++i){var o=t[i];if(y(o)||S(o))for(var c=Object.keys(o),u=0,p=c.length;u<p;u++){var d=c[u],f=o[d];n&&y(f)?x(f)?e[d]=new Date(f.valueOf()):E(f)?e[d]=new RegExp(f):f.nodeName?e[d]=f.cloneNode(!0):D(f)?e[d]=f.clone():(y(e[d])||(e[d]=Kr(f)?[]:{}),l(e[d],[f],!0)):e[d]=f}}return s(e,r),e}function c(e){return l(e,Ur.call(arguments,1),!1)}function u(e){return l(e,Ur.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function d(e,t){return c(Object.create(e),t)}function f(){}function m(e){return e}function g(e){return function(){return e}}function h(e){return S(e.toString)&&e.toString!==Vr}function v(e){return"undefined"==typeof e}function _(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function b(e){return null!==e&&"object"==typeof e&&!qr(e)}function w(e){return"string"==typeof e}function $(e){return"number"==typeof e}function x(e){return"[object Date]"===Vr.call(e)}function S(e){return"function"==typeof e}function E(e){return"[object RegExp]"===Vr.call(e)}function T(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function C(e){return"[object File]"===Vr.call(e)}function A(e){return"[object FormData]"===Vr.call(e)}function P(e){return"[object Blob]"===Vr.call(e)}function O(e){return"boolean"==typeof e}function j(e){return e&&S(e.then)}function I(e){return e&&$(e.length)&&Jr.test(Vr.call(e))}function N(e){return"[object ArrayBuffer]"===Vr.call(e)}function D(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function R(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function L(e){return Ir(e.nodeName||e[0]&&e[0].nodeName)}function M(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function F(e,t){function n(e,t){var n,r=t.$$hashKey;if(Kr(e))for(var a=0,o=e.length;a<o;a++)t.push(i(e[a]));else if(b(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)jr.call(e,n)&&(t[n]=i(e[n]));return s(t,r),t}function i(e){if(!y(e))return e;var t=o.indexOf(e);if(t!==-1)return l[t];if(T(e)||k(e))throw Gr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=a(e);return void 0===i&&(i=Kr(e)?[]:Object.create(qr(e)),r=!0),o.push(e),l.push(i),r?n(e,i):i}function a(e){switch(Vr.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(S(e.cloneNode))return e.cloneNode(!0)}var o=[],l=[];if(t){if(I(t)||N(t))throw Gr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Gr("cpi","Can't copy! Source and destination are identical.");return Kr(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),o.push(e),l.push(t),n(e,t)}return i(e)}function z(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,a=typeof e,o=typeof t;if(a==o&&"object"==a){if(!Kr(e)){if(x(e))return!!x(t)&&z(e.getTime(),t.getTime());if(E(e))return!!E(t)&&e.toString()==t.toString();if(k(e)||k(t)||T(e)||T(t)||Kr(t)||x(t)||E(t))return!1;i=me();for(r in e)if("$"!==r.charAt(0)&&!S(e[r])){if(!z(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&_(t[r])&&!S(t[r]))return!1;return!0}if(!Kr(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!z(e[r],t[r]))return!1;return!0}}return!1}function U(e,t,n){return e.concat(Ur.call(t,n))}function B(e,t){return Ur.call(e,t||0)}function W(e,t){var n=arguments.length>2?B(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,U(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function V(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:T(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":k(n)&&(r="$SCOPE"),r}function q(e,t){if(!v(e))return $(t)||(t=t?2:null),JSON.stringify(e,V,t)}function G(e){return w(e)?JSON.parse(e):e}function H(e,t){e=e.replace(ti,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Y(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function K(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=H(t,r);return Y(e,n*(i-r))}function J(e){e=Mr(e).clone();try{e.empty()}catch(t){}var n=Mr("<div>").append(e).html();try{return e[0].nodeType===si?Ir(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Ir(t)})}catch(t){return Ir(n)}}function X(e){try{return decodeURIComponent(e)}catch(t){}}function Z(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(r=e.substring(0,n),i=e.substring(n+1)),r=X(r),_(r)&&(i=!_(i)||X(i),jr.call(t,r)?Kr(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function Q(e){var t=[];return r(e,function(e,n){Kr(e)?r(e,function(e){t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}):t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}),t.length?t.join("&"):""}function ee(e){return te(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function te(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ne(e,t){var n,r,i=ni.length;for(r=0;r<i;++r)if(n=ni[r]+t,w(n=e.getAttribute(n)))return n;return null}function re(e,t){var n,i,a={};r(ni,function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))}),r(ni,function(t){var r,a=t+"app";!n&&(r=e.querySelector("["+a.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(a))}),n&&(a.strictDi=null!==ne(n,"strict-di"),t(n,i?[i]:[],a))}function ie(t,n,i){y(i)||(i={});var a={strictDi:!1};i=c(a,i);var o=function(){if(t=Mr(t),t.injector()){var r=t[0]===e.document?"document":J(t);throw Gr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var a=rt(n,i.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),a},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?o():(e.name=e.name.replace(l,""),Hr.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),o()},void(S(Hr.resumeDeferredBootstrap)&&Hr.resumeDeferredBootstrap()))}function ae(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function oe(e){var t=Hr.element(e).injector();if(!t)throw Gr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function se(e,t){return t=t||"_",e.replace(ri,function(e,n){return(n?t:"")+e.toLowerCase()})}function le(){var t;if(!ii){var n=ei();Fr=v(n)?e.jQuery:n?e[n]:void 0,Fr&&Fr.fn.on?(Mr=Fr,c(Fr.fn,{scope:Ti.scope,isolateScope:Ti.isolateScope,controller:Ti.controller,injector:Ti.injector,inheritedData:Ti.inheritedData}),t=Fr.cleanData,Fr.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=Fr._data(r,"events"),n&&n.$destroy&&Fr(r).triggerHandler("$destroy");t(e)}):Mr=Ae,Hr.element=Mr,ii=!0}}function ce(e,t,n){if(!e)throw Gr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ue(e,t,n){return n&&Kr(e)&&(e=e[e.length-1]),ce(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pe(e,t){if("hasOwnProperty"===e)throw Gr("badname","hasOwnProperty is not a valid {0} name",t)}function de(e,t,n){if(!t)return e;for(var r,i=t.split("."),a=e,o=i.length,s=0;s<o;s++)r=i[s],e&&(e=(a=e)[r]);return!n&&S(e)?W(a,e):e}function fe(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Mr(Ur.call(e,0,i))),t.push(n));return t||e}function me(){return Object.create(null)}function ge(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng"),a=n(e,"angular",Object);return a.$$minErr=a.$$minErr||t,n(a,"module",function(){var e={};return function(t,a,o){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),a&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),u}}function n(e,n){return function(r,a){return a&&S(a)&&(a.$$moduleName=t),i.push([e,n,arguments]),u}}if(!a)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var i=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:a,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return o&&c(o),u})}})}function he(e,t){if(Kr(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function ve(e){var t=[];return JSON.stringify(e,function(e,n){if(n=V(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function _e(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ve(e):e}function ye(n){c(n,{bootstrap:ie,copy:F,extend:c,merge:u,equals:z,element:Mr,forEach:r,injector:rt,noop:f,bind:W,toJson:q,fromJson:G,identity:m,isUndefined:v,isDefined:_,isString:w,isFunction:S,isObject:y,isNumber:$,isElement:D,isArray:Kr,version:pi,isDate:x,lowercase:Ir,uppercase:Nr,callbacks:{$$counter:0},getTestability:oe,$$minErr:t,$$csp:Qr,reloadWithDebugInfo:ae}),(zr=ge(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:En}),e.provider("$compile",mt).directive({a:Na,input:Qa,textarea:Qa,form:Fa,script:Ko,select:Zo,style:es,option:Qo,ngBind:no,ngBindHtml:io,ngBindTemplate:ro,ngClass:oo,ngClassEven:lo,ngClassOdd:so,ngCloak:co,ngController:uo,ngForm:za,ngHide:Bo,ngIf:mo,ngInclude:go,ngInit:vo,ngNonBindable:Io,ngPluralize:Lo,ngRepeat:Mo,ngShow:Uo,ngStyle:Wo,ngSwitch:Vo,ngSwitchWhen:qo,ngSwitchDefault:Go,ngOptions:Ro,ngTransclude:Yo,ngModel:Po,ngList:_o,ngChange:ao,pattern:ns,ngPattern:ns,required:ts,ngRequired:ts,minlength:is,ngMinlength:is,maxlength:rs,ngMaxlength:rs,ngValue:to,ngModelOptions:jo}).directive({ngInclude:ho}).directive(Da).directive(po),e.provider({$anchorScroll:it,$animate:Bi,$animateCss:qi,$$animateJs:zi,$$animateQueue:Ui,$$AnimateRunner:Vi,$$animateAsyncRun:Wi,$browser:ut,$cacheFactory:pt,$controller:bt,$document:wt,$exceptionHandler:$t,$filter:Fn,$$forceReflow:Xi,$interpolate:Rt,$interval:Lt,$http:jt,$httpParamSerializer:St,$httpParamSerializerJQLike:Et,$httpBackend:Nt,$xhrFactory:It,$jsonpCallbacks:oa,$location:Zt,$log:Qt,$parse:yn,$rootScope:Sn,$q:bn,$$q:wn,$sce:An,$sceDelegate:Cn,$sniffer:Pn,$templateCache:dt,$templateRequest:On,$$testability:jn,$timeout:In,$window:Rn,$$rAF:xn,$$jqLite:Je,$$HashMap:Pi,$$cookieReader:Mn})}])}function be(){return++fi}function we(e){return e.replace(hi,function(e,t,n,r){return r?n.toUpperCase():n}).replace(vi,"Moz$1")}function $e(e){return!wi.test(e)}function xe(e){var t=e.nodeType;return t===ai||!t||t===ci}function Se(e){for(var t in di[e.ng339])return!0;return!1}function Ee(e){for(var t=0,n=e.length;t<n;t++)Ie(e[t])}function Te(e,t){var n,i,a,o,s=t.createDocumentFragment(),l=[];if($e(e))l.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),i=($i.exec(e)||["",""])[1].toLowerCase(),a=Si[i]||Si._default,n.innerHTML=a[1]+e.replace(xi,"<$1></$2>")+a[2],o=a[0];o--;)n=n.lastChild;l=U(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(l,function(e){s.appendChild(e)}),s}function ke(t,n){n=n||e.document;var r;return(r=bi.exec(t))?[n.createElement(r[1])]:(r=Te(t,n))?r.childNodes:[]}function Ce(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Ae(e){if(e instanceof Ae)return e;var t;if(w(e)&&(e=Xr(e),t=!0),!(this instanceof Ae)){if(t&&"<"!=e.charAt(0))throw yi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ae(e)}t?Fe(this,ke(e)):Fe(this,e)}function Pe(e){return e.cloneNode(!0)}function Oe(e,t){if(t||Ie(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)Ie(n[r])}function je(e,t,n,i){if(_(i))throw yi("offargs","jqLite#off() does not support the `selector` argument");var a=Ne(e),o=a&&a.events,s=a&&a.handle;if(s)if(t){var l=function(t){var r=o[t];_(n)&&M(r||[],n),_(n)&&r&&r.length>0||(gi(e,t,s),delete o[t])};r(t.split(" "),function(e){l(e),_i[e]&&l(_i[e])})}else for(t in o)"$destroy"!==t&&gi(e,t,s),delete o[t]}function Ie(e,t){var n=e.ng339,r=n&&di[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),je(e)),delete di[n],e.ng339=void 0}}function Ne(e,t){var n=e.ng339,r=n&&di[n];return t&&!r&&(e.ng339=n=be(),r=di[n]={events:{},data:{},handle:void 0}),r}function De(e,t,n){if(xe(e)){var r=_(n),i=!r&&t&&!y(t),a=!t,o=Ne(e,!i),s=o&&o.data;if(r)s[t]=n;else{if(a)return s;if(i)return s&&s[t];c(s,t)}}}function Re(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Le(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Xr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Xr(t)+" "," ")))})}function Me(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Xr(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",Xr(n))}}function Fe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function ze(e,t){return Ue(e,"$"+(t||"ngController")+"Controller")}function Ue(e,t,n){e.nodeType==ci&&(e=e.documentElement);for(var r=Kr(t)?t:[t];e;){for(var i=0,a=r.length;i<a;i++)if(_(n=Mr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===ui&&e.host}}function Be(e){for(Oe(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function We(e,t){t||Oe(e);var n=e.parentNode;n&&n.removeChild(e)}function Ve(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Mr(n).on("load",t)}function qe(e,t){var n=ki[t.toLowerCase()];return n&&Ci[L(e)]&&n}function Ge(e){return Ai[e]}function He(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],a=i?i.length:0;if(a){if(v(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||Ye;a>1&&(i=he(i));for(var l=0;l<a;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Ye(e,t,n){n.call(e,t)}function Ke(e,t,n){var r=t.relatedTarget;r&&(r===e||Ei.call(e,r))||n.call(e,t)}function Je(){this.$get=function(){return c(Ae,{hasClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Me(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Le(e,t)}})}}function Xe(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||o)():r+":"+e}function Ze(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Qe(e){return Function.prototype.toString.call(e)+" "}function et(e){var t=Qe(e).replace(Di,""),n=t.match(Oi)||t.match(ji);return n}function tt(e){var t=et(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function nt(e,t,n){var i,a,o;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw w(n)&&n||(n=e.name||tt(e)),Ri("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);a=et(e),r(a[1].split(Ii),function(e){e.replace(Ni,function(e,t,n){i.push(n)})})}e.$inject=i}}else Kr(e)?(o=e.length-1,ue(e[o],"fn"),i=e.slice(0,o)):ue(e,"fn",!0);return i}function rt(e,t){function n(e){return function(t,n){return y(t)?void r(t,a(e)):e(t,n)}}function i(e,t){if(pe(e,"service"),(S(t)||Kr(t))&&(t=x.instantiate(t)),!t.$get)throw Ri("pget","Provider '{0}' must define $get factory method.",e);return $[e+h]=t}function o(e,t){return function(){var n=k.invoke(t,this);if(v(n))throw Ri("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?o(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,g(t),!1)}function u(e,t){pe(e,"constant"),$[e]=t,E[e]=t}function p(e,t){var n=x.get(e+h),r=n.$get;n.$get=function(){var e=k.invoke(r,n);return k.invoke(t,null,{$delegate:e})}}function d(e){ce(v(e)||Kr(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=x.get(r[0]);i[r[1]].apply(i,r[2])}}if(!b.get(e)){b.put(e,!0);try{w(e)?(t=zr(e),n=n.concat(d(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):S(e)?n.push(x.invoke(e)):Kr(e)?n.push(x.invoke(e)):ue(e,"module")}catch(i){throw Kr(e)&&(e=e[e.length-1]),i.message&&i.stack&&i.stack.indexOf(i.message)==-1&&(i=i.message+"\n"+i.stack),Ri("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function f(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===m)throw Ri("cdep","Circular dependency found: {0}",t+" <- "+_.join(" <- "));return e[t]}try{return _.unshift(t),e[t]=m,e[t]=n(t,r)}catch(i){throw e[t]===m&&delete e[t],i}finally{_.shift()}}function i(e,n,i){for(var a=[],o=rt.$$annotate(e,t,i),s=0,l=o.length;s<l;s++){var c=o[s];if("string"!=typeof c)throw Ri("itkn","Incorrect injection token! Expected service name as string, got {0}",c);a.push(n&&n.hasOwnProperty(c)?n[c]:r(c,i))}return a}function a(e){return!(Lr<=11)&&("function"==typeof e&&/^(?:class\b|constructor\()/.test(Qe(e)))}function o(e,t,n,r){"string"==typeof n&&(r=n,n=null);var o=i(e,n,r);return Kr(e)&&(e=e[e.length-1]),a(e)?(o.unshift(null),new(Function.prototype.bind.apply(e,o))):e.apply(t,o)}function s(e,t,n){var r=Kr(e)?e[e.length-1]:e,a=i(e,t,n);return a.unshift(null),new(Function.prototype.bind.apply(r,a))}return{invoke:o,instantiate:s,get:r,annotate:rt.$$annotate,has:function(t){return $.hasOwnProperty(t+h)||e.hasOwnProperty(t)}}}t=t===!0;var m={},h="Provider",_=[],b=new Ze([],(!0)),$={$provide:{provider:n(i),factory:n(s),service:n(l),value:n(c),constant:n(u),decorator:p}},x=$.$injector=f($,function(e,t){throw Hr.isString(t)&&_.push(t),Ri("unpr","Unknown provider: {0}",_.join(" <- "))}),E={},T=f(E,function(e,t){var n=x.get(e+h,t);return k.invoke(n.$get,n,void 0,e)}),k=T;$["$injector"+h]={$get:g(T)};var C=d(e);return k=T.get("$injector"),k.strictDi=t,r(C,function(e){e&&k.invoke(e)}),k}function it(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===L(e))return t=e,!0}),t}function a(){var e=s.yOffset;if(S(e))e=e();else if(D(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else $(e)||(e=0);return e}function o(e){if(e){e.scrollIntoView();var n=a();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=w(e)?e:n.hash();var t;e?(t=l.getElementById(e))?o(t):(t=i(l.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ve(function(){r.$evalAsync(s)})}),s}]}function at(e,t){return e||t?e?t?(Kr(e)&&(e=e.join(" ")),Kr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ot(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Mi)return n}}function st(e){w(e)&&(e=e.split(" "));var t=me();return r(e,function(e){e.length&&(t[e]=!0)}),t}function lt(e){return y(e)?e:{}}function ct(e,t,n,i){function a(e){try{e.apply(null,B(arguments,1))}finally{if(_--,0===_)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function o(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function s(){S=null,l(),c()}function l(){b=E(),b=v(b)?null:b,z(b,C)&&(b=C),C=b}function c(){$===u.url()&&w===b||($=u.url(),w=b,r(T,function(e){e(u.url(),b)}))}var u=this,p=e.location,d=e.history,m=e.setTimeout,g=e.clearTimeout,h={};u.isMock=!1;var _=0,y=[];u.$$completeOutstandingRequest=a,u.$$incOutstandingRequestCount=function(){_++},u.notifyWhenNoOutstandingRequests=function(e){0===_?e():y.push(e)};var b,w,$=p.href,x=t.find("base"),S=null,E=i.history?function(){try{return d.state}catch(e){}}:f;l(),w=b,u.url=function(t,n,r){if(v(r)&&(r=null),p!==e.location&&(p=e.location),d!==e.history&&(d=e.history),t){var a=w===r;if($===t&&(!i.history||a))return u;var s=$&&Wt($)===Wt(t);return $=t,w=r,!i.history||s&&a?(s||(S=t),n?p.replace(t):s?p.hash=o(t):p.href=t,p.href!==t&&(S=t)):(d[n?"replaceState":"pushState"](r,"",t),l(),w=b),S&&(S=t),u}return S||p.href.replace(/%27/g,"'")},u.state=function(){return b};var T=[],k=!1,C=null;u.onUrlChange=function(t){return k||(i.history&&Mr(e).on("popstate",s),Mr(e).on("hashchange",s),k=!0),T.push(t),t},u.$$applicationDestroyed=function(){Mr(e).off("hashchange popstate",s)},u.$$checkUrlChange=c,u.baseHref=function(){var e=x.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return _++,n=m(function(){delete h[n],a(e)},t||0),h[n]=!0,n},u.defer.cancel=function(e){return!!h[e]&&(delete h[e],g(e),a(f),!0)}}function ut(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new ct(e,r,t,n)}]}function pt(){this.$get=function(){function e(e,r){function i(e){e!=d&&(f?f==e&&(f=e.n):f=e,a(e.n,e.p),a(e,d),d=e,d.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=c({},r,{id:e}),l=me(),u=r&&r.capacity||Number.MAX_VALUE,p=me(),d=null,f=null;return n[e]={put:function(e,t){if(!v(t)){if(u<Number.MAX_VALUE){var n=p[e]||(p[e]={key:e});i(n)}return e in l||o++,l[e]=t,o>u&&this.remove(f.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=p[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=p[e];if(!t)return;t==d&&(d=t.p),t==f&&(f=t.n),a(t.n,t.p),delete p[e]}e in l&&(delete l[e],o--)},removeAll:function(){l=me(),o=0,p=me(),d=f=null},destroy:function(){l=null,s=null,p=null,delete n[e]},info:function(){return c({},s,{size:o})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function dt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ft(){}function mt(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,a=me();return r(e,function(e,r){if(e in T)return void(a[r]=T[e]);var o=e.match(i);if(!o)throw Gi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");a[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r},o[4]&&(T[e]=a[r])}),a}function o(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),y(n.bindToController)){var r=e.controller,a=e.controllerAs;if(!r)throw Gi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!yt(r,a))throw Gi("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==Ir(t))throw Gi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Gi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!Kr(t)&&y(t)&&r(t,function(e,n){var r=e.match(x),i=e.substring(r[0].length);i||(t[n]=r[0]+n)}),t}var u={},p="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,b=/(([\w\-]+)(?:\:([^;]+))?;?)/,$=R("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,E=/^(on[a-z]+|formaction)$/,T=me();this.directive=function P(e,n){return pe(e,"directive"),w(e)?(s(e),ce(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+p,["$injector","$exceptionHandler",function(t,n){var i=[];return r(u[e],function(r,a){try{var o=t.invoke(r);S(o)?o={compile:g(o)}:!o.compile&&o.link&&(o.compile=g(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||e,o.require=l(o),o.restrict=o.restrict||"EA",o.$$moduleName=r.$$moduleName,i.push(o)}catch(s){n(s)}}),i}])),u[e].push(n)):r(e,a(P)),this},this.component=function(e,t){function n(e){function n(t){return S(t)||Kr(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var a=t.template||t.templateUrl?t.template:"",o={controller:i,controllerAs:yt(t.controller)||t.controllerAs||"$ctrl",template:n(a),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,S(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return _(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return _(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(e){return _(e)?(C=e,this):C};var A=10;this.onChangesTtl=function(e){return arguments.length?(A=e,this):A},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,a,s,l,g,T,P,j){function I(){try{if(!--xe)throw ye=void 0,Gi("infchng","{0} $onChanges() iterations reached. Aborting!\n",A);g.$apply(function(){for(var e=[],t=0,n=ye.length;t<n;++t)try{ye[t]()}catch(r){e.push(r)}if(ye=void 0,e.length)throw e})}finally{xe++}}function N(e,t){if(t){var n,r,i,a=Object.keys(t);for(n=0,r=a.length;n<r;n++)i=a[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function D(e,t,n){we.innerHTML="<span "+t+">";
var r=we.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function R(e,t){try{e.addClass(t)}catch(n){}}function F(t,n,r,i,a){t instanceof Mr||(t=Mr(t));for(var o=/\S+/,s=0,l=t.length;s<l;s++){var c=t[s];c.nodeType===si&&c.nodeValue.match(o)&&Ce(c,t[s]=e.document.createElement("span"))}var u=V(t,n,t,r,i,a);F.$$addScopeClass(t);var p=null;return function(e,n,r){ce(e,"scope"),a&&a.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,s=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),p||(p=U(s));var l;if(l="html"!==p?Mr(pe(p,Mr("<div>").append(t).html())):n?Ti.clone.call(t):t,o)for(var c in o)l.data("$"+c+"Controller",o[c].instance);return F.$$addScopeInfo(l,e),n&&n(l,e),u&&u(e,l,l,i),l}}function U(e){var t=e&&e[0];return t&&"foreignobject"!==L(t)&&Vr.call(t).match(/SVG/)?"svg":"html"}function V(e,t,n,r,i,a){function o(e,n,r,i){var a,o,s,l,c,u,p,d,g;if(f){var h=n.length;for(g=new Array(h),c=0;c<m.length;c+=3)p=m[c],g[p]=n[p]}else g=n;for(c=0,u=m.length;c<u;)s=g[m[c++]],a=m[c++],o=m[c++],a?(a.scope?(l=e.$new(),F.$$addScopeInfo(Mr(s),l)):l=e,d=a.transcludeOnThisElement?q(e,a.transclude,i):!a.templateOnThisElement&&i?i:!i&&t?q(e,t):null,a(o,l,s,r,d)):o&&o(e,s.childNodes,void 0,i)}for(var s,l,c,u,p,d,f,m=[],g=0;g<e.length;g++)s=new N,l=G(e[g],[],s,0===g?r:void 0,i),c=l.length?Z(l,e[g],s,t,n,null,[],[],a):null,c&&c.scope&&F.$$addScopeClass(s.$$element),p=c&&c.terminal||!(u=e[g].childNodes)||!u.length?null:V(u,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||p)&&(m.push(g,c,p),d=!0,f=f||c),a=null;return d?o:null}function q(e,t,n){function r(r,i,a,o,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}var i=r.$$slots=me();for(var a in t.$$slots)t.$$slots[a]?i[a]=q(e,t.$$slots[a],n):i[a]=null;return r}function G(e,t,n,r,i){var a,o,s=e.nodeType,l=n.$attr;switch(s){case ai:ne(t,ht(L(e)),"E",r,i);for(var c,u,p,d,f,m,g=e.attributes,h=0,v=g&&g.length;h<v;h++){var _=!1,$=!1;c=g[h],u=c.name,f=Xr(c.value),d=ht(u),(m=ke.test(d))&&(u=u.replace(Yi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var x=d.match(Ae);x&&re(x[1])&&(_=u,$=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),p=ht(u.toLowerCase()),l[p]=u,!m&&n.hasOwnProperty(p)||(n[p]=f,qe(e,p)&&(n[p]=!0)),fe(e,t,f,p,m),ne(t,p,"A",r,i,_,$)}if(o=e.className,y(o)&&(o=o.animVal),w(o)&&""!==o)for(;a=b.exec(o);)p=ht(a[2]),ne(t,p,"C",r,i)&&(n[p]=Xr(a[3])),o=o.substr(a.index+a[0].length);break;case si:if(11===Lr)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===si;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);ue(t,e.nodeValue);break;case li:H(e,t,n,r,i)}return t.sort(oe),t}function H(e,t,n,r,i){try{var a=h.exec(e.nodeValue);if(a){var o=ht(a[1]);ne(t,o,"M",r,i)&&(n[o]=Xr(a[2]))}}catch(s){}}function Y(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Gi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==ai&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Mr(r)}function K(e,t,n){return function(r,i,a,o,s){return i=Y(i[0],t,n),e(r,i,a,o,s)}}function X(e,t,n,r,i,a){var o;return e?F(t,n,r,i,a):function(){return o||(o=F(t,n,r,i,a),t=n=a=null),o.apply(this,arguments)}}function Z(e,t,n,a,o,s,l,u,p){function d(e,t,n,r){e&&(n&&(e=K(e,n,r)),e.require=m.require,e.directiveName=g,(E===m||m.$$isolateScope)&&(e=he(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=K(t,n,r)),t.require=m.require,t.directiveName=g,(E===m||m.$$isolateScope)&&(t=he(t,{isolateScope:!0})),u.push(t))}function f(e,a,o,s,p){function d(e,t,n,r){var i;if(k(e)||(r=n,n=t,t=e,e=void 0),O&&(i=b),n||(n=O?C.parent():C),!r)return p(e,t,i,n,M);var a=p.$$slots[r];if(a)return a(e,t,i,n,M);if(v(a))throw Gi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,J(C))}var f,m,g,h,_,b,w,C,A,P;t===o?(A=n,C=n.$$element):(C=Mr(o),A=new N(C,n)),_=a,E?h=a.$new(!0):$&&(_=a.$parent),p&&(w=d,w.$$boundTransclude=p,w.isSlotFilled=function(e){return!!p.$$slots[e]}),x&&(b=ee(C,A,w,x,h,a,E)),E&&(F.$$addScopeInfo(C,h,!0,!(T&&(T===E||T===E.$$originalDirective))),F.$$addScopeClass(C,!0),h.$$isolateBindings=E.$$isolateBindings,P=_e(a,A,h,h.$$isolateBindings,E),P.removeWatches&&h.$on("$destroy",P.removeWatches));for(var j in b){var I=x[j],D=b[j],R=I.$$bindings.bindToController;D.identifier&&R?D.bindingInfo=_e(_,A,D.instance,R,I):D.bindingInfo={};var L=D();L!==D.instance&&(D.instance=L,C.data("$"+I.name+"Controller",L),D.bindingInfo.removeWatches&&D.bindingInfo.removeWatches(),D.bindingInfo=_e(_,A,D.instance,R,I))}for(r(x,function(e,t){var n=e.require;e.bindToController&&!Kr(n)&&y(n)&&c(b[t].instance,Q(t,n,C,b))}),r(b,function(e){var t=e.instance;if(S(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){i(n)}if(S(t.$onInit))try{t.$onInit()}catch(n){i(n)}S(t.$doCheck)&&(_.$watch(function(){t.$doCheck()}),t.$doCheck()),S(t.$onDestroy)&&_.$on("$destroy",function(){t.$onDestroy()})}),f=0,m=l.length;f<m;f++)g=l[f],ve(g,g.isolateScope?h:a,C,A,g.require&&Q(g.directiveName,g.require,C,b),w);var M=a;for(E&&(E.template||null===E.templateUrl)&&(M=h),e&&e(M,o.childNodes,void 0,p),f=u.length-1;f>=0;f--)g=u[f],ve(g,g.isolateScope?h:a,C,A,g.require&&Q(g.directiveName,g.require,C,b),w);r(b,function(e){var t=e.instance;S(t.$postLink)&&t.$postLink()})}p=p||{};for(var m,g,h,_,b,w=-Number.MAX_VALUE,$=p.newScopeDirective,x=p.controllerDirectives,E=p.newIsolateScopeDirective,T=p.templateDirective,C=p.nonTlbTranscludeDirective,A=!1,P=!1,O=p.hasElementTranscludeDirective,j=n.$$element=Mr(t),I=s,D=a,R=!1,M=!1,z=0,U=e.length;z<U;z++){m=e[z];var V=m.$$start,q=m.$$end;if(V&&(j=Y(t,V,q)),h=void 0,w>m.priority)break;if((b=m.scope)&&(m.templateUrl||(y(b)?(le("new/isolated scope",E||$,m,j),E=m):le("new/isolated scope",E,m,j)),$=$||m),g=m.name,!R&&(m.replace&&(m.templateUrl||m.template)||m.transclude&&!m.$$tlb)){for(var H,Z=z+1;H=e[Z++];)if(H.transclude&&!H.$$tlb||H.replace&&(H.templateUrl||H.template)){M=!0;break}R=!0}if(!m.templateUrl&&m.controller&&(b=m.controller,x=x||me(),le("'"+g+"' controller",x[g],m,j),x[g]=m),b=m.transclude)if(A=!0,m.$$tlb||(le("transclusion",C,m,j),C=m),"element"==b)O=!0,w=m.priority,h=j,j=n.$$element=Mr(F.$$createComment(g,n[g])),t=j[0],ge(o,B(h),t),h[0].$$parentNode=h[0].parentNode,D=X(M,h,a,w,I&&I.name,{nonTlbTranscludeDirective:C});else{var ne=me();if(h=Mr(Pe(t)).contents(),y(b)){h=[];var re=me(),oe=me();r(b,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,re[e]=t,ne[t]=null,oe[t]=n}),r(j.contents(),function(e){var t=re[ht(L(e))];t?(oe[t]=!0,ne[t]=ne[t]||[],ne[t].push(e)):h.push(e)}),r(oe,function(e,t){if(!e)throw Gi("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var se in ne)ne[se]&&(ne[se]=X(M,ne[se],a))}j.empty(),D=X(M,h,a,void 0,void 0,{needsNewScope:m.$$isolateScope||m.$$newScope}),D.$$slots=ne}if(m.template)if(P=!0,le("template",T,m,j),T=m,b=S(m.template)?m.template(j,n):m.template,b=Te(b),m.replace){if(I=m,h=$e(b)?[]:_t(pe(m.templateNamespace,Xr(b))),t=h[0],1!=h.length||t.nodeType!==ai)throw Gi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");ge(o,j,t);var ce={$attr:{}},ue=G(t,[],ce),de=e.splice(z+1,e.length-(z+1));(E||$)&&te(ue,E,$),e=e.concat(ue).concat(de),ie(n,ce),U=e.length}else j.html(b);if(m.templateUrl)P=!0,le("template",T,m,j),T=m,m.replace&&(I=m),f=ae(e.splice(z,e.length-z),j,n,o,A&&D,l,u,{controllerDirectives:x,newScopeDirective:$!==m&&$,newIsolateScopeDirective:E,templateDirective:T,nonTlbTranscludeDirective:C}),U=e.length;else if(m.compile)try{_=m.compile(j,n,D);var fe=m.$$originalDirective||m;S(_)?d(null,W(fe,_),V,q):_&&d(W(fe,_.pre),W(fe,_.post),V,q)}catch(ye){i(ye,J(j))}m.terminal&&(f.terminal=!0,w=Math.max(w,m.priority))}return f.scope=$&&$.scope===!0,f.transcludeOnThisElement=A,f.templateOnThisElement=P,f.transclude=D,p.hasElementTranscludeDirective=O,f}function Q(e,t,n,i){var a;if(w(t)){var o=t.match(x),s=t.substring(o[0].length),l=o[1]||o[3],c="?"===o[2];if("^^"===l?n=n.parent():(a=i&&i[s],a=a&&a.instance),!a){var u="$"+s+"Controller";a=l?n.inheritedData(u):n.data(u)}if(!a&&!c)throw Gi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Kr(t)){a=[];for(var p=0,d=t.length;p<d;p++)a[p]=Q(e,t[p],n,i)}else y(t)&&(a={},r(t,function(t,r){a[r]=Q(e,t,n,i)}));return a||null}function ee(e,t,n,r,i,a,o){var s=me();for(var c in r){var u=r[c],p={$scope:u===o||u.$$isolateScope?i:a,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"==d&&(d=t[u.name]);var f=l(d,p,!0,u.controllerAs);s[u.name]=f,e.data("$"+u.name+"Controller",f.instance)}return s}function te(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=d(e[r],{$$isolateScope:t,$$newScope:n})}function ne(e,n,r,a,s,l,c){if(n===s)return null;var f=null;if(u.hasOwnProperty(n))for(var m,g=t.get(n+p),h=0,_=g.length;h<_;h++)try{if(m=g[h],(v(a)||a>m.priority)&&m.restrict.indexOf(r)!=-1){if(l&&(m=d(m,{$$start:l,$$end:c})),!m.$$bindings){var b=m.$$bindings=o(m,m.name);y(b.isolateScope)&&(m.$$isolateBindings=b.isolateScope)}e.push(m),f=m}}catch(w){i(w)}return f}function re(e){if(u.hasOwnProperty(e))for(var n,r=t.get(e+p),i=0,a=r.length;i<a;i++)if(n=r[i],n.multiElement)return!0;return!1}function ie(e,t){var n=t.$attr,i=e.$attr;e.$$element;r(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function ae(e,t,n,i,o,s,l,c){var u,p,f=[],m=t[0],g=e.shift(),h=d(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=S(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,_=g.templateNamespace;return t.empty(),a(v).then(function(a){var d,b,w,$;if(a=Te(a),g.replace){if(w=$e(a)?[]:_t(pe(_,Xr(a))),d=w[0],1!=w.length||d.nodeType!==ai)throw Gi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);b={$attr:{}},ge(i,t,d);var x=G(d,[],b);y(g.scope)&&te(x,!0),e=x.concat(e),ie(n,b)}else d=m,t.html(a);for(e.unshift(h),u=Z(e,d,n,o,t,g,s,l,c),r(i,function(e,n){e==d&&(i[n]=t[0])}),p=V(t[0].childNodes,o);f.length;){var S=f.shift(),E=f.shift(),T=f.shift(),k=f.shift(),C=t[0];if(!S.$$destroyed){if(E!==m){var A=E.className;c.hasElementTranscludeDirective&&g.replace||(C=Pe(d)),ge(T,Mr(E),C),R(Mr(C),A)}$=u.transcludeOnThisElement?q(S,u.transclude,k):k,u(p,S,C,i,$)}}f=null}),function(e,t,n,r,i){var a=i;t.$$destroyed||(f?f.push(t,n,r,a):(u.transcludeOnThisElement&&(a=q(t,u.transclude,i)),u(p,t,n,r,a)))}}function oe(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function le(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Gi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,J(r))}function ue(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&F.$$addBindingClass(t),function(e,t){var i=t.parent();n||F.$$addBindingClass(i),F.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function pe(t,n){switch(t=Ir(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function de(e,t){if("srcdoc"==t)return T.HTML;var n=L(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?T.RESOURCE_URL:void 0}function fe(e,t,r,i,a){var o=de(e,i);a=$[i]||a;var s=n(r,!0,o,a);if(s){if("multiple"===i&&"select"===L(e))throw Gi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers=me());if(E.test(i))throw Gi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[i];u!==r&&(s=u&&n(u,!0,o,a),r=u),s&&(l[i]=s(e),(c[i]||(c[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function ge(t,n,r){var i,a,o=n[0],s=n.length,l=o.parentNode;if(t)for(i=0,a=t.length;i<a;i++)if(t[i]==o){t[i++]=r;for(var c=i,u=c+s-1,p=t.length;c<p;c++,u++)u<p?t[c]=t[u]:delete t[c];t.length-=s-1,t.context===o&&(t.context=r);break}l&&l.replaceChild(r,o);var d=e.document.createDocumentFragment();for(i=0;i<s;i++)d.appendChild(n[i]);for(Mr.hasData(o)&&(Mr.data(r,Mr.data(o)),Mr(o).off("$destroy")),Mr.cleanData(d.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function he(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function ve(e,t,n,r,a,o){try{e(t,n,r,a,o)}catch(s){i(s,J(n))}}function _e(e,t,i,a,o){function l(t,n,r){S(i.$onChanges)&&n!==r&&(ye||(e.$$postDigest(I),ye=[]),u||(u={},ye.push(c)),u[t]&&(r=u[t].previousValue),u[t]=new gt(r,n))}function c(){i.$onChanges(u),u=void 0}var u,p=[],d={};return r(a,function(r,a){var c,u,m,g,h,v=r.attrName,_=r.optional,y=r.mode;switch(y){case"@":_||jr.call(t,v)||(i[a]=t[v]=void 0),t.$observe(v,function(e){if(w(e)||O(e)){var t=i[a];l(a,e,t),i[a]=e}}),t.$$observers[v].$$scope=e,c=t[v],w(c)?i[a]=n(c)(e):O(c)&&(i[a]=c),d[a]=new gt(Hi,i[a]);break;case"=":if(!jr.call(t,v)){if(_)break;t[v]=void 0}if(_&&!t[v])break;u=s(t[v]),g=u.literal?z:function(e,t){return e===t||e!==e&&t!==t},m=u.assign||function(){throw c=i[a]=u(e),Gi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,o.name)},c=i[a]=u(e);var b=function(t){return g(t,i[a])||(g(t,c)?m(e,t=i[a]):i[a]=t),c=t};b.$stateful=!0,h=r.collection?e.$watchCollection(t[v],b):e.$watch(s(t[v],b),null,u.literal),p.push(h);break;case"<":if(!jr.call(t,v)){if(_)break;t[v]=void 0}if(_&&!t[v])break;u=s(t[v]);var $=i[a]=u(e);d[a]=new gt(Hi,i[a]),h=e.$watch(u,function(e,t){if(t===e){if(t===$)return;t=$}l(a,e,t),i[a]=e},u.literal),p.push(h);break;case"&":if(u=t.hasOwnProperty(v)?s(t[v]):f,u===f&&_)break;i[a]=function(t){return u(e,t)}}}),{initialChanges:d,removeWatches:p.length&&function(){for(var e=0,t=p.length;e<t;++e)p[e]()}}}var ye,be=/^\w/,we=e.document.createElement("div"),xe=A;N.prototype={$normalize:ht,$addClass:function(e){e&&e.length>0&&P.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&P.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=vt(e,t);n&&n.length&&P.addClass(this.$$element,n);var r=vt(t,e);r&&r.length&&P.removeClass(this.$$element,r)},$set:function(e,t,n,a){var o,s=this.$$element[0],l=qe(s,e),c=Ge(e),u=e;if(l?(this.$$element.prop(e,t),a=l):c&&(this[c]=t,u=c),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=se(e,"-"))),o=L(this.$$element),"a"===o&&("href"===e||"xlinkHref"===e)||"img"===o&&"src"===e)this[e]=t=j(t,"src"===e);else if("img"===o&&"srcset"===e&&_(t)){for(var p="",d=Xr(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,m=/\s/.test(d)?f:/(,)/,g=d.split(m),h=Math.floor(g.length/2),y=0;y<h;y++){var b=2*y;p+=j(Xr(g[b]),!0),p+=" "+Xr(g[b+1])}var w=Xr(g[2*y]).split(/\s/);p+=j(Xr(w[0]),!0),2===w.length&&(p+=" "+Xr(w[1])),this[e]=t=p}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(a):be.test(a)?this.$$element.attr(a,t):D(this.$$element[0],a,t));var $=this.$$observers;$&&r($[u],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=me()),i=r[e]||(r[e]=[]);return i.push(t),g.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){M(i,t)}}};var Se=n.startSymbol(),Ee=n.endSymbol(),Te="{{"==Se&&"}}"==Ee?m:function(e){return e.replace(/\{\{/g,Se).replace(/}}/g,Ee)},ke=/^ngAttr[A-Z]/,Ae=/^(.+)Start$/;return F.$$addBindingInfo=C?function(e,t){var n=e.data("$binding")||[];Kr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,F.$$addBindingClass=C?function(e){R(e,"ng-binding")}:f,F.$$addScopeInfo=C?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:f,F.$$addScopeClass=C?function(e,t){R(e,t?"ng-isolate-scope":"ng-scope")}:f,F.$$createComment=function(t,n){var r="";return C&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},F}]}function gt(e,t){this.previousValue=e,this.currentValue=t}function ht(e){return we(e.replace(Yi,""))}function vt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(n.length>0?" ":"")+o}return n}function _t(e){e=Mr(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];n.nodeType===li&&Br.call(e,t,1)}return e}function yt(e,t){if(t&&w(t))return t;if(w(e)){var n=Ji.exec(e);if(n)return n[3]}}function bt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pe(t,"controller"),y(t)?c(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function a(e,n,r,i){if(!e||!y(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);e.$scope[n]=r}return function(t,o,s,l){var u,p,d,f;if(s=s===!0,l&&w(l)&&(f=l),w(t)){if(p=t.match(Ji),!p)throw Ki("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);d=p[1],f=f||p[3],t=e.hasOwnProperty(d)?e[d]:de(o.$scope,d,!0)||(n?de(i,d,!0):void 0),ue(t,d,!0)}if(s){var m=(Kr(t)?t[t.length-1]:t).prototype;u=Object.create(m||null),f&&a(o,f,u,d||t.name);var g;return g=c(function(){var e=r.invoke(t,u,o,d);return e!==u&&(y(e)||S(e))&&(u=e,f&&a(o,f,u,d||t.name)),u},{instance:u,identifier:f})}return u=r.instantiate(t,o,d),f&&a(o,f,u,d||t.name),u}}]}function wt(){this.$get=["$window",function(e){return Mr(e.document)}]}function $t(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function xt(e){return y(e)?x(e)?e.toISOString():q(e):e}function St(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||v(e)||(Kr(e)?r(e,function(e){t.push(te(n)+"="+te(xt(e)))}):t.push(te(n)+"="+te(xt(e))))}),t.join("&")}}}function Et(){this.$get=function(){return function(e){function t(e,a,o){null===e||v(e)||(Kr(e)?r(e,function(e,n){t(e,a+"["+(y(e)?n:"")+"]")}):y(e)&&!x(e)?i(e,function(e,n){t(e,a+(o?"":"[")+n+(o?"":"]"))}):n.push(te(a)+"="+te(xt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Tt(e,t){if(w(e)){var n=e.replace(na,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Zi)||kt(n))&&(e=G(n))}}return e}function kt(e){var t=e.match(ea);return t&&ta[t[0]].test(e)}function Ct(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=me();return w(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(Ir(Xr(e.substr(0,n))),Xr(e.substr(n+1)))}):y(e)&&r(e,function(e,n){t(Ir(n),Xr(e))}),i}function At(e){var t;return function(n){if(t||(t=Ct(e)),n){var r=t[Ir(n)];return void 0===r&&(r=null),r}return t}}function Pt(e,t,n,i){return S(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function Ot(e){return 200<=e&&e<300}function jt(){var e=this.defaults={transformResponse:[Tt],transformRequest:[function(e){return!y(e)||C(e)||P(e)||A(e)?e:q(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:he(Qi),put:he(Qi),patch:he(Qi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return _(e)?(n=!!e,this):n};var i=!0;this.useLegacyPromiseExtensions=function(e){return _(e)?(i=!!e,this):i};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(o,s,l,u,p,d){function f(n){function a(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],a=t[n++];e=e.then(i,a)}return t.length=0,e}function o(e,t){var n,i={};return r(e,function(e,r){S(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function s(t){var n,r,i,a=e.headers,s=c({},t.headers);a=c({},a.common,a[Ir(t.method)]);e:for(n in a){r=Ir(n);for(i in s)if(Ir(i)===r)continue e;s[n]=a[n]}return o(s,he(t))}function l(t){var n=t.headers,i=Pt(t.data,At(n),void 0,t.transformRequest);return v(i)&&r(n,function(e,t){"content-type"===Ir(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),h(t,i).then(u,u)}function u(e){var t=c({},e);return t.data=Pt(e.data,e.headers,e.status,f.transformResponse),Ot(e.status)?t:p.reject(t)}if(!y(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!w(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var f=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);f.headers=s(n),f.method=Nr(f.method),f.paramSerializer=w(f.paramSerializer)?d.get(f.paramSerializer):f.paramSerializer;var m=[],g=[],_=p.when(f);return r(x,function(e){(e.request||e.requestError)&&m.unshift(e.request,e.requestError),(e.response||e.responseError)&&g.push(e.response,e.responseError)}),_=a(_,m),_=_.then(l),_=a(_,g),i?(_.success=function(e){return ue(e,"fn"),_.then(function(t){e(t.data,t.status,t.headers,f)}),_},_.error=function(e){return ue(e,"fn"),_.then(null,function(t){e(t.data,t.status,t.headers,f)}),_}):(_.success=ia("success"),_.error=ia("error")),_}function m(e){r(arguments,function(e){f[e]=function(t,n){return f(c({},n||{},{method:e,url:t}))}})}function g(e){r(arguments,function(e){f[e]=function(t,n,r){return f(c({},r||{},{method:e,url:t,data:n}))}})}function h(t,i){function a(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?u.$applyAsync(r):u.$$phase?r():u.$apply(r)}}),t}}function l(e,t,r,i){function a(){c(t,e,r,i)}g&&(Ot(e)?g.put(E,[e,t,Ct(r),i]):g.remove(E)),n?u.$applyAsync(a):(a(),u.$$phase||u.$apply())}function c(e,n,r,i){n=n>=-1?n:0,(Ot(n)?w.resolve:w.reject)({data:e,status:n,headers:At(r),config:t,statusText:i})}function d(e){c(e.data,e.status,he(e.headers()),e.statusText)}function m(){var e=f.pendingRequests.indexOf(t);e!==-1&&f.pendingRequests.splice(e,1)}var g,h,w=p.defer(),x=w.promise,S=t.headers,E=b(t.url,t.paramSerializer(t.params));if(f.pendingRequests.push(t),x.then(m,m),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(g=y(t.cache)?t.cache:y(e.cache)?e.cache:$),g&&(h=g.get(E),_(h)?j(h)?h.then(d,d):Kr(h)?c(h[1],h[0],he(h[2]),h[3]):c(h,200,{},"OK"):g.put(E,x)),v(h)){var T=Dn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;T&&(S[t.xsrfHeaderName||e.xsrfHeaderName]=T),o(t.method,E,i,l,S,t.timeout,t.withCredentials,t.responseType,a(t.eventHandlers),a(t.uploadEventHandlers))}return x}function b(e,t){return t.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+t),e}var $=l("$http");e.paramSerializer=w(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var x=[];return r(a,function(e){x.unshift(w(e)?d.get(e):d.invoke(e))}),f.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),f.defaults=e,f}]}function It(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Nt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return Dt(e,r,e.defer,t,n[0])}]}function Dt(e,t,n,i,a){function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){gi(r,"load",o),gi(r,"error",o),a.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},mi(r,"load",o),mi(r,"error",o),a.body.appendChild(r),o}return function(a,s,l,c,u,p,d,m,g,h){function y(){$&&$(),x&&x.abort()}function b(t,r,i,a,o){_(T)&&n.cancel(T),$=x=null,t(r,i,a,o),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===Ir(a))var w=i.createCallback(s),$=o(s,w,function(e,t){var n=200===e&&i.getResponse(w);b(c,e,n,"",t),i.removeCallback(w)});else{var x=t(a,s);x.open(a,s,!0),r(u,function(e,t){_(e)&&x.setRequestHeader(t,e)}),x.onload=function(){var e=x.statusText||"",t="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=t?200:"file"==Nn(s).protocol?404:0),b(c,n,t,x.getAllResponseHeaders(),e)};var S=function(){b(c,-1,null,null,"")};if(x.onerror=S,x.onabort=S,r(g,function(e,t){x.addEventListener(t,e)}),r(h,function(e,t){x.upload.addEventListener(t,e)}),d&&(x.withCredentials=!0),m)try{x.responseType=m}catch(E){if("json"!==m)throw E}x.send(v(l)?null:l)}if(p>0)var T=n(y,p);else j(p)&&p.then(y)}}function Rt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(e){return"\\\\\\"+e}function o(n){return n.replace(f,e).replace(m,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=q(e)}return e}function l(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function u(a,u,f,m){function h(e){try{return e=j(e),m&&!_(e)?e:s(e)}catch(t){r(aa.interr(a,t))}}if(!a.length||a.indexOf(e)===-1){var y;if(!u){var b=o(a);y=g(b),y.exp=a,y.expressions=[],y.$$watchDelegate=l}return y}m=!!m;for(var w,$,x,E=0,T=[],k=[],C=a.length,A=[],P=[];E<C;){if((w=a.indexOf(e,E))==-1||($=a.indexOf(t,w+p))==-1){E!==C&&A.push(o(a.substring(E)));break}E!==w&&A.push(o(a.substring(E,w))),x=a.substring(w+p,$),T.push(x),k.push(n(x,h)),E=$+d,P.push(A.length),A.push("")}if(f&&A.length>1&&aa.throwNoconcat(a),!u||T.length){var O=function(e){for(var t=0,n=T.length;t<n;t++){if(m&&v(e[t]))return;A[P[t]]=e[t]}return A.join("")},j=function(e){return f?i.getTrusted(f,e):i.valueOf(e)};return c(function(e){var t=0,n=T.length,i=new Array(n);try{for(;t<n;t++)i[t]=k[t](e);return O(i)}catch(o){r(aa.interr(a,o))}},{exp:a,expressions:T,$$watchDelegate:function(e,t){var n;return e.$watchGroup(k,function(r,i){var a=O(r);S(t)&&t.call(this,a,r!==i?n:a,e),n=a})}})}}var p=e.length,d=t.length,f=new RegExp(e.replace(/./g,a),"g"),m=new RegExp(t.replace(/./g,a),"g");return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function Lt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function a(a,s,l,c){function u(){p?a.apply(null,d):a(g)}var p=arguments.length>4,d=p?B(arguments,4):[],f=t.setInterval,m=t.clearInterval,g=0,h=_(c)&&!c,v=(h?r:n).defer(),y=v.promise;return l=_(l)?l:0,y.$$intervalId=f(function(){h?i.defer(u):e.$evalAsync(u),v.notify(g++),l>0&&g>=l&&(v.resolve(g),m(y.$$intervalId),delete o[y.$$intervalId]),h||e.$apply()},s),o[y.$$intervalId]=v,y}var o={};return a.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},a}]}function Mt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ee(t[n]);return t.join("/")}function Ft(e,t){var n=Nn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||la[n.protocol]||null}function zt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Nn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Z(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ut(e,t){return 0===e.lastIndexOf(t,0)}function Bt(e,t){if(Ut(t,e))return t.substr(e.length)}function Wt(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function Vt(e){return e.replace(/(#.+)|#$/,"$1")}function qt(e){return e.substr(0,Wt(e).lastIndexOf("/")+1)}function Gt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Ht(e,t,n){this.$$html5=!0,n=n||"",Ft(e,this),this.$$parse=function(e){var n=Bt(t,e);if(!w(n))throw ca("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);zt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),n=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Mt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o,s;return _(a=Bt(e,r))?(o=a,s=_(a=Bt(n,a))?t+(Bt("/",a)||a):e+o):_(a=Bt(t,r))?s=t+a:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Yt(e,t,n){Ft(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return Ut(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var a,o=Bt(e,r)||Bt(t,r);v(o)||"#"!==o.charAt(0)?this.$$html5?a=o:(a="",v(o)&&(e=r,this.replace())):(a=Bt(n,o),v(a)&&(a=o)),zt(a,this),this.$$path=i(this.$$path,a,e),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Mt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Wt(e)==Wt(t)&&(this.$$parse(t),!0)}}function Kt(e,t,n){this.$$html5=!0,Yt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return e==Wt(r)?a=r:(o=Bt(t,r))?a=e+n+o:t===r+"/"&&(a=t),a&&this.$$parse(a),!!a},this.$$compose=function(){var t=Q(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Mt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Jt(e){return function(){return this[e]}}function Xt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Zt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return _(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):y(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),O(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){function s(e,t,n){var i=c.url(),a=c.$$state;try{r.url(e,t,n),c.$$state=r.state()}catch(o){throw c.url(i),c.$$state=a,o}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,p,d=r.baseHref(),f=r.url();if(t.enabled){if(!d&&t.requireBase)throw ca("nobase","$location in HTML5 mode requires a <base> tag to be present!");p=Gt(f)+(d||"/"),u=i.history?Ht:Kt}else p=Wt(f),u=Yt;var m=qt(p);c=new u(p,m,"#"+e),c.$$parseLinkUrl(f,f),c.$$state=r.state();var g=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Mr(e.target);"a"!==L(i[0]);)if(i[0]===a[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Nn(s.animVal).href),g.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(s,l)&&(e.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),Vt(c.absUrl())!=Vt(f)&&r.url(c.absUrl(),!0);var h=!0;return r.onUrlChange(function(e,t){return v(Bt(m,e))?void(o.location.href=e):(n.$evalAsync(function(){var r,i=c.absUrl(),a=c.$$state;e=Vt(e),c.$$parse(e),c.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,a).defaultPrevented,c.absUrl()===e&&(r?(c.$$parse(i),c.$$state=a,s(i,!1,a)):(h=!1,l(i,a)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Vt(r.url()),t=Vt(c.absUrl()),a=r.state(),o=c.$$replace,u=e!==t||c.$$html5&&i.history&&a!==c.$$state;(h||u)&&(h=!1,n.$evalAsync(function(){var t=c.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,c.$$state,a).defaultPrevented;c.absUrl()===t&&(r?(c.$$parse(e),c.$$state=a):(u&&s(t,o,a===c.$$state?null:c.$$state),l(e,a)))})),c.$$replace=!1}),c}]}function Qt(){var e=!0,t=this;this.debugEnabled=function(t){return _(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),
e}function a(e){var t=n.console||{},a=t[e]||t.log||f,o=!1;try{o=!!a.apply}catch(s){}return o?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),a.apply(t,e)}:function(e,t){a(e,null==t?"":t)}}return{log:a("log"),info:a("info"),warn:a("warn"),error:a("error"),debug:function(){var n=a("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function en(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw pa("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function tn(e){return e+""}function nn(e,t){if(e){if(e.constructor===e)throw pa("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw pa("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw pa("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw pa("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function rn(e,t){if(e){if(e.constructor===e)throw pa("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===da||e===fa||e===ma)throw pa("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function an(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw pa("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function on(e,t){return"undefined"!=typeof e?e:t}function sn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function ln(e,t){var n=e(t);return!n.$stateful}function cn(e,t){var n,i;switch(e.type){case _a.Program:n=!0,r(e.body,function(e){cn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case _a.Literal:e.constant=!0,e.toWatch=[];break;case _a.UnaryExpression:cn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case _a.BinaryExpression:cn(e.left,t),cn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case _a.LogicalExpression:cn(e.left,t),cn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case _a.ConditionalExpression:cn(e.test,t),cn(e.alternate,t),cn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case _a.Identifier:e.constant=!1,e.toWatch=[e];break;case _a.MemberExpression:cn(e.object,t),e.computed&&cn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case _a.CallExpression:n=!!e.filter&&ln(t,e.callee.name),i=[],r(e.arguments,function(e){cn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&ln(t,e.callee.name)?i:[e];break;case _a.AssignmentExpression:cn(e.left,t),cn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case _a.ArrayExpression:n=!0,i=[],r(e.elements,function(e){cn(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case _a.ObjectExpression:n=!0,i=[],r(e.properties,function(e){cn(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case _a.ThisExpression:e.constant=!1,e.toWatch=[];break;case _a.LocalsExpression:e.constant=!1,e.toWatch=[]}}function un(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function pn(e){return e.type===_a.Identifier||e.type===_a.MemberExpression}function dn(e){if(1===e.body.length&&pn(e.body[0].expression))return{type:_a.AssignmentExpression,left:e.body[0].expression,right:{type:_a.NGValueParameter},operator:"="}}function fn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===_a.Literal||e.body[0].expression.type===_a.ArrayExpression||e.body[0].expression.type===_a.ObjectExpression)}function mn(e){return e.constant}function gn(e,t){this.astBuilder=e,this.$filter=t}function hn(e,t){this.astBuilder=e,this.$filter=t}function vn(e){return"constructor"==e}function _n(e){return S(e.valueOf)?e.valueOf():ba.call(e)}function yn(){var e,t,n=me(),i=me(),a={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){a[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(o){function s(e,t,r){var a,s,c;switch(r=r||b,typeof e){case"string":e=e.trim(),c=e;var h=r?i:n;if(a=h[c],!a){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var _=r?y:v,w=new va(_),$=new ya(w,o,_);a=$.parse(e),a.constant?a.$$watchDelegate=m:s?a.$$watchDelegate=a.literal?d:p:a.inputs&&(a.$$watchDelegate=u),r&&(a=l(a)),h[c]=a}return g(a,t);case"function":return g(e,t);default:return g(f,t)}}function l(e){function t(t,n,r,i){var a=b;b=!0;try{return e(t,n,r,i)}finally{b=a}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function c(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=_n(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function u(e,t,n,r,i){var a,o=r.inputs;if(1===o.length){var s=c;return o=o[0],e.$watch(function(e){var t=o(e);return c(t,s)||(a=r(e,void 0,void 0,[t]),s=t&&_n(t)),a},t,n,i)}for(var l=[],u=[],p=0,d=o.length;p<d;p++)l[p]=c,u[p]=null;return e.$watch(function(e){for(var t=!1,n=0,i=o.length;n<i;n++){var s=o[n](e);(t||(t=!c(s,l[n])))&&(u[n]=s,l[n]=s&&_n(s))}return t&&(a=r(e,void 0,void 0,u)),a},t,n,i)}function p(e,t,n,r){var i,a;return i=e.$watch(function(e){return r(e)},function(e,n,r){a=e,S(t)&&t.apply(this,arguments),_(e)&&r.$$postDigest(function(){_(a)&&i()})},n)}function d(e,t,n,i){function a(e){var t=!0;return r(e,function(e){_(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return i(e)},function(e,n,r){s=e,S(t)&&t.call(this,e,n,r),a(e)&&r.$$postDigest(function(){a(s)&&o()})},n)}function m(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function g(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==d&&n!==p,a=i?function(n,i,a,o){var s=r&&o?o[0]:e(n,i,a,o);return t(s,n,i)}:function(n,r,i,a){var o=e(n,r,i,a),s=t(o,n,r);return _(o)?s:o};return e.$$watchDelegate&&e.$$watchDelegate!==u?a.$$watchDelegate=e.$$watchDelegate:t.$stateful||(a.$$watchDelegate=u,r=!e.inputs,a.inputs=e.inputs?e.inputs:[e]),a}var h=Qr().noUnsafeEval,v={csp:h,expensiveChecks:!1,literals:F(a),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},y={csp:h,expensiveChecks:!0,literals:F(a),isIdentifierStart:S(e)&&e,isIdentifierContinue:S(t)&&t},b=!1;return s.$$runningExpensiveChecks=function(){return b},s}]}function bn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return $n(function(t){e.$evalAsync(t)},t)}]}function wn(){this.$get=["$browser","$exceptionHandler",function(e,t){return $n(function(t){e.defer(t)},t)}]}function $n(e,n){function i(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function o(e){var t,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var a=0,o=i.length;a<o;++a){r=i[a][0],t=i[a][e.status];try{S(t)?r.resolve(t(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(s){r.reject(s),n(s)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){o(t)}))}function l(){this.promise=new i}function u(e){var t=new l,n=0,i=Kr(e)?[]:{};return r(e,function(e,r){n++,_(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}function p(e){var t=f();return r(e,function(e){_(e).then(t.resolve,t.reject)}),t.promise}var d=t("$q",TypeError),f=function(){var e=new l;return e.resolve=a(e,e.resolve),e.reject=a(e,e.reject),e.notify=a(e,e.notify),e};c(i.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&s(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return h(t,!0,e)},function(t){return h(t,!1,e)},t)}}),c(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,o.$$resolve(e))}function r(e){l||(l=!0,o.$$reject(e))}var i,o=this,l=!1;try{(y(e)||S(e))&&(i=e&&e.then),S(i)?(this.promise.$$state.status=-1,i.call(e,t,r,a(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(c){r(c),n(c)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,a=0,o=r.length;a<o;a++){i=r[a][0],e=r[a][3];try{i.notify(S(e)?e(t):t)}catch(s){n(s)}}})}});var m=function(e){var t=new l;return t.reject(e),t.promise},g=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},h=function(e,t,n){var r=null;try{S(n)&&(r=n())}catch(i){return g(i,!1)}return j(r)?r.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},_=function(e,t,n,r){var i=new l;return i.resolve(e),i.promise.then(t,n,r)},b=_,w=function(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!S(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);var r=new l;return e(t,n),r.promise};return w.prototype=i.prototype,w.defer=f,w.reject=m,w.when=_,w.resolve=b,w.all=u,w.race=p,w}function xn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=i,a}]}function Sn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=o(),this.$$ChildScope=null}return t.prototype=e,t}var i=10,a=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$exceptionHandler","$parse","$browser",function(t,c,u){function p(e){e.currentScope.$$destroyed=!0}function d(e){9===Lr&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function m(){this.$id=o(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(E.$$phase)throw a("inprog","{0} already in progress",E.$$phase);E.$$phase=e}function h(){E.$$phase=null}function _(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function b(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function $(){for(;C.length;)try{C.shift()()}catch(e){t(e)}l=null}function x(){null===l&&(l=u.defer(function(){E.$apply($)}))}m.prototype={constructor:m,$new:function(t,n){var r;return n=n||this,t?(r=new m,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",p),r},$watch:function(e,t,n,r){var i=c(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var a=this,o=a.$$watchers,l={fn:t,last:w,get:i,exp:r||e,eq:!!n};return s=null,S(t)||(l.fn=f),o||(o=a.$$watchers=[]),o.unshift(l),_(this,1),function(){M(o,l)>=0&&_(a,-1),s=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(a,a,s)):t(a,i,s)}var i=new Array(e.length),a=new Array(e.length),o=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(a,a,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){a[0]=e,i[0]=n,t(a,e===n?a:i,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){a[t]=e,i[t]=r,l||(l=!0,s.$evalAsync(n))});o.push(r)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function r(e){a=e;var t,r,i,s,l;if(!v(a)){if(y(a))if(n(a)){o!==f&&(o=f,h=o.length=0,p++),t=a.length,h!==t&&(p++,o.length=h=t);for(var c=0;c<t;c++)l=o[c],s=a[c],i=l!==l&&s!==s,i||l===s||(p++,o[c]=s)}else{o!==m&&(o=m={},h=0,p++),t=0;for(r in a)jr.call(a,r)&&(t++,s=a[r],l=o[r],r in o?(i=l!==l&&s!==s,i||l===s||(p++,o[r]=s)):(h++,o[r]=s,p++));if(h>t){p++;for(r in o)jr.call(a,r)||(h--,delete o[r])}}else o!==a&&(o=a,p++);return p}}function i(){if(g?(g=!1,t(a,a,l)):t(a,s,l),u)if(y(a))if(n(a)){s=new Array(a.length);for(var e=0;e<a.length;e++)s[e]=a[e]}else{s={};for(var r in a)jr.call(a,r)&&(s[r]=a[r])}else s=a}r.$stateful=!0;var a,o,s,l=this,u=t.length>1,p=0,d=c(e,r),f=[],m={},g=!0,h=0;return this.$watch(d,i)},$digest:function(){var e,n,r,o,c,p,d,f,m,v,_,y,b=i,x=this,C=[];g("$digest"),u.$$checkUrlChange(),this===E&&null!==l&&(u.defer.cancel(l),$()),s=null;do{f=!1,v=x;for(var P=0;P<T.length;P++){try{y=T[P],y.scope.$eval(y.expression,y.locals)}catch(O){t(O)}s=null}T.length=0;e:do{if(p=v.$$watchers)for(d=p.length;d--;)try{if(e=p[d])if(c=e.get,(n=c(v))===(r=e.last)||(e.eq?z(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(e===s){f=!1;break e}}else f=!0,s=e,e.last=e.eq?F(n,null):n,o=e.fn,o(n,r===w?n:r,v),b<5&&(_=4-b,C[_]||(C[_]=[]),C[_].push({msg:S(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(O){t(O)}if(!(m=v.$$watchersCount&&v.$$childHead||v!==x&&v.$$nextSibling))for(;v!==x&&!(m=v.$$nextSibling);)v=v.$parent}while(v=m);if((f||T.length)&&!b--)throw h(),a("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,C)}while(f||T.length);for(h();A<k.length;)try{k[A++]()}catch(O){t(O)}k.length=A=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===E&&u.$$applicationDestroyed(),_(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){E.$$phase||T.length||u.defer(function(){T.length&&E.$digest()}),T.push({scope:this,expression:c(e),locals:t})},$$postDigest:function(e){k.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{h()}}catch(n){t(n)}finally{try{E.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&C.push(t),e=c(e),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);r!==-1&&(n[r]=null,b(i,1,e))}},$emit:function(e,n){var r,i,a,o=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=U([c],arguments,1);do{for(r=s.$$listeners[e]||o,c.currentScope=s,i=0,a=r.length;i<a;i++)if(r[i])try{r[i].apply(null,u)}catch(p){t(p)}else r.splice(i,1),i--,a--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,n){var r=this,i=r,a=r,o={name:e,targetScope:r,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return o;for(var s,l,c,u=U([o],arguments,1);i=a;){for(o.currentScope=i,s=i.$$listeners[e]||[],l=0,c=s.length;l<c;l++)if(s[l])try{s[l].apply(null,u)}catch(p){t(p)}else s.splice(l,1),l--,c--;if(!(a=i.$$listenerCount[e]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(a=i.$$nextSibling);)i=i.$parent}return o.currentScope=null,o}};var E=new m,T=E.$$asyncQueue=[],k=E.$$postDigestQueue=[],C=E.$$applyAsyncQueue=[],A=0;return E}]}function En(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return _(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return _(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return i=Nn(n).href,""===i||i.match(a)?n:"unsafe:"+i}}}function Tn(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw wa("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Zr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(E(e))return new RegExp("^"+e.source+"$");throw wa("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function kn(e){var t=[];return _(e)&&r(e,function(e){t.push(Tn(e))}),t}function Cn(){this.SCE_CONTEXTS=$a;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=kn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=kn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Dn(t):!!e.exec(t.href)}function i(n){var i,a,o=Nn(n.toString()),s=!1;for(i=0,a=e.length;i<a;i++)if(r(e[i],o)){s=!0;break}if(s)for(i=0,a=t.length;i<a;i++)if(r(t[i],o)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function o(e,t){var n=p.hasOwnProperty(e)?p[e]:null;if(!n)throw wa("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw wa("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof u?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=p.hasOwnProperty(e)?p[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===$a.RESOURCE_URL){if(i(t))return t;throw wa("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===$a.HTML)return c(t);throw wa("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw wa("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var u=a(),p={};return p[$a.HTML]=a(u),p[$a.CSS]=a(u),p[$a.URL]=a(u),p[$a.JS]=a(u),p[$a.RESOURCE_URL]=a(p[$a.URL]),{trustAs:o,getTrusted:l,valueOf:s}}]}function An(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&Lr<8)throw wa("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=he($a);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var a=i.parseAs,o=i.getTrusted,s=i.trustAs;return r($a,function(e,t){var n=Ir(t);i[we("parse_as_"+n)]=function(t){return a(e,t)},i[we("get_trusted_"+n)]=function(t){return o(e,t)},i[we("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function Pn(){this.$get=["$window","$document",function(e,t){var n,r,i={},a=e.chrome&&e.chrome.app&&e.chrome.app.runtime,o=!a&&e.history&&e.history.pushState,s=p((/android (\d+)/.exec(Ir((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,d=c.body&&c.body.style,f=!1,m=!1;if(d){for(var g in d)if(r=u.exec(g)){n=r[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in d&&"webkit"),f=!!("transition"in d||n+"Transition"in d),m=!!("animation"in d||n+"Animation"in d),!s||f&&m||(f=w(d.webkitTransition),m=w(d.webkitAnimation))}return{history:!(!o||s<4||l),hasEvent:function(e){if("input"===e&&Lr<=11)return!1;if(v(i[e])){var t=c.createElement("div");i[e]="on"+e in t}return i[e]},csp:Qr(),vendorPrefix:n,transitions:f,animations:m,android:s}}]}function On(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function a(o,s){function l(e){if(!s)throw xa("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return r.reject(e)}a.totalPendingRequests++,w(o)&&!v(t.get(o))||(o=i.getTrustedResourceUrl(o));var u=n.defaults&&n.defaults.transformResponse;return Kr(u)?u=u.filter(function(e){return e!==Tt}):u===Tt&&(u=null),n.get(o,c({cache:t,transformResponse:u},e))["finally"](function(){a.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},l)}return a.totalPendingRequests=0,a}]}function jn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),a=[];return r(i,function(e){var i=Hr.element(e).data("$binding");i&&r(i,function(r){if(n){var i=new RegExp("(^|\\s)"+Zr(t)+"(\\s|\\||$)");i.test(r)&&a.push(e)}else r.indexOf(t)!=-1&&a.push(e)})}),a},i.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a=n?"=":"*=",o="["+r[i]+"model"+a+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function In(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function a(a,s,l){S(a)||(l=s,s=a,a=f);var c,u=B(arguments,3),p=_(l)&&!l,d=(p?r:n).defer(),m=d.promise;return c=t.defer(function(){try{d.resolve(a.apply(null,u))}catch(t){d.reject(t),i(t)}finally{delete o[m.$$timeoutId]}p||e.$apply()},s),m.$$timeoutId=c,o[c]=d,m}var o={};return a.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},a}]}function Nn(e){var t=e;return Lr&&(Sa.setAttribute("href",t),t=Sa.href),Sa.setAttribute("href",t),{href:Sa.href,protocol:Sa.protocol?Sa.protocol.replace(/:$/,""):"",host:Sa.host,search:Sa.search?Sa.search.replace(/^\?/,""):"",hash:Sa.hash?Sa.hash.replace(/^#/,""):"",hostname:Sa.hostname,port:Sa.port,pathname:"/"===Sa.pathname.charAt(0)?Sa.pathname:"/"+Sa.pathname}}function Dn(e){var t=w(e)?Nn(e):e;return t.protocol===Ea.protocol&&t.host===Ea.host}function Rn(){this.$get=g(e)}function Ln(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,a,o,s,l,c=n.cookie||"";if(c!==i)for(i=c,e=i.split("; "),r={},o=0;o<e.length;o++)a=e[o],s=a.indexOf("="),s>0&&(l=t(a.substring(0,s)),v(r[l])&&(r[l]=t(a.substring(s+1))));return r}}function Mn(){this.$get=Ln}function Fn(e){function t(i,a){if(y(i)){var o={};return r(i,function(e,n){o[n]=t(n,e)}),o}return e.factory(i+n,a)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Vn),t("date",ar),t("filter",zn),t("json",or),t("limitTo",sr),t("lowercase",ja),t("number",qn),t("orderBy",cr),t("uppercase",Ia)}function zn(){return function(e,r,i,a){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}a=a||"$";var o,s,l=Wn(r);switch(l){case"function":o=r;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":o=Un(r,i,a,s);break;default:return e}return Array.prototype.filter.call(e,o)}}function Un(e,t,n,r){var i,a=y(e)&&n in e;return t===!0?t=z:S(t)||(t=function(e,t){return!v(e)&&(null===e||null===t?e===t:!(y(t)||y(e)&&!h(e))&&(e=Ir(""+e),t=Ir(""+t),e.indexOf(t)!==-1))}),i=function(i){return a&&!y(i)?Bn(i,e[n],t,n,!1):Bn(i,e,t,n,r)}}function Bn(e,t,n,r,i,a){var o=Wn(e),s=Wn(t);if("string"===s&&"!"===t.charAt(0))return!Bn(e,t.substring(1),n,r,i);if(Kr(e))return e.some(function(e){return Bn(e,t,n,r,i)});switch(o){case"object":var l;if(i){for(l in e)if("$"!==l.charAt(0)&&Bn(e[l],t,n,r,!0))return!0;return!a&&Bn(e,t,n,r,!1)}if("object"===s){for(l in t){var c=t[l];if(!S(c)&&!v(c)){var u=l===r,p=u?e:e[l];if(!Bn(p,c,n,r,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Wn(e){return null===e?"null":typeof e}function Vn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Yn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function qn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Yn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Gn(e){var t,n,r,i,a,o=0;for((n=e.indexOf(ka))>-1&&(e=e.replace(ka,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)==Ca;r++);if(r==(a=e.length))t=[0],n=1;else{for(a--;e.charAt(a)==Ca;)a--;for(n-=r,t=[],i=0;r<=a;r++,i++)t[i]=+e.charAt(r)}return n>Ta&&(t=t.splice(0,Ta-1),o=n-1,n=1),{d:t,e:o,i:n}}function Hn(e,t,n,r){var i=e.d,a=i.length-e.i;t=v(t)?Math.min(Math.max(n,a),r):+t;var o=t+e.i,s=i[o];if(o>0){i.splice(Math.max(e.i,o));for(var l=o;l<i.length;l++)i[l]=0}else{a=Math.max(0,a),e.i=1,i.length=Math.max(1,o=t+1),i[0]=0;for(var c=1;c<o;c++)i[c]=0}if(s>=5)if(o-1<0){for(var u=0;u>o;u--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[o-1]++;for(;a<Math.max(0,t);a++)i.push(0);var p=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);p&&(i.unshift(p),e.i++)}function Yn(e,t,n,r,i){if(!w(e)&&!$(e)||isNaN(e))return"";var a,o=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(o)c="";else{a=Gn(l),Hn(a,i,t.minFrac,t.maxFrac);var u=a.d,p=a.i,d=a.e,f=[];for(s=u.reduce(function(e,t){return e&&!t},!0);p<0;)u.unshift(0),p++;p>0?f=u.splice(p,u.length):(f=u,u=[0]);var m=[];for(u.length>=t.lgSize&&m.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)m.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&m.unshift(u.join("")),c=m.join(n),f.length&&(c+=r+f.join("")),d&&(c+="e+"+d)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Kn(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=Ca+e;return n&&(e=e.substr(e.length-t)),i+e}function Jn(e,t,n,r,i){return n=n||0,function(a){var o=a["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&n==-12&&(o=12),Kn(o,t,r,i)}}function Xn(e,t,n){return function(r,i){var a=r["get"+e](),o=(n?"STANDALONE":"")+(t?"SHORT":""),s=Nr(o+e);return i[s][a]}}function Zn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Kn(Math[r>0?"floor":"ceil"](r/60),2)+Kn(Math.abs(r%60),2)}function Qn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function er(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function tr(e){return function(t){var n=Qn(t.getFullYear()),r=er(t),i=+r-+n,a=1+Math.round(i/6048e5);return Kn(a,e)}}function nr(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function rr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function ir(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function ar(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,a=0,o=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=p(t[9]+t[10]),a=p(t[9]+t[11])),o.call(r,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-i,c=p(t[5]||0)-a,u=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,c,u,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,a){var o,s,l="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,w(n)&&(n=Oa.test(n)?p(n):t(n)),$(n)&&(n=new Date(n)),!x(n)||!isFinite(n.getTime()))return n;for(;i;)s=Pa.exec(i),s?(c=U(c,s,1),i=c.pop()):(c.push(i),i=null);var u=n.getTimezoneOffset();return a&&(u=H(a,u),n=K(n,a,!0)),r(c,function(t){o=Aa[t],l+=o?o(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function or(){return function(e,t){return v(t)&&(t=2),q(e,t)}}function sr(){return function(e,t,r){return t=Math.abs(Number(t))===1/0?Number(t):p(t),isNaN(t)?e:($(e)&&(e=e.toString()),n(e)?(r=!r||isNaN(r)?0:p(r),r=r<0?Math.max(0,e.length+r):r,t>=0?lr(e,r,r+t):0===r?lr(e,t,e.length):lr(e,Math.max(0,r+t),r)):e)}}function lr(e,t,n){return w(e)?e.slice(t,n):Ur.call(e,t,n)}function cr(e){function r(t){return t.map(function(t){var n=1,r=m;if(S(t))r=t;else if(w(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function a(e){return S(e.valueOf)&&(e=e.valueOf(),i(e))?e:h(e)&&(e=e.toString(),i(e))?e:e}function o(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=a(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,r=e.type,i=t.type;if(r===i){var a=e.value,o=t.value;"string"===r?(a=a.toLowerCase(),o=o.toLowerCase()):"object"===r&&(y(a)&&(a=e.index),y(o)&&(o=t.index)),a!==o&&(n=a<o?-1:1)}else n=r<i?-1:1;return n}return function(e,i,a,l){function c(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:p.map(function(n){return o(n.get(e),t)})}}function u(e,t){for(var n=0,r=p.length;n<r;n++){var i=f(e.predicateValues[n],t.predicateValues[n]);if(i)return i*p[n].descending*d}return f(e.tieBreaker,t.tieBreaker)*d}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Kr(i)||(i=[i]),0===i.length&&(i=["+"]);var p=r(i),d=a?-1:1,f=S(l)?l:s,m=Array.prototype.map.call(e,c);return m.sort(u),e=m.map(function(e){return e.value})}}function ur(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function pr(e,t){e.$name=t}function dr(e,t,n,i,a){var o=this,s=[];o.$error={},o.$$success={},o.$pending=void 0,o.$name=a(t.name||t.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=Ra,o.$rollbackViewValue=function(){r(s,function(e){e.$rollbackViewValue()})},o.$commitViewValue=function(){r(s,function(e){e.$commitViewValue()})},o.$addControl=function(e){pe(e.$name,"input"),s.push(e),e.$name&&(o[e.$name]=e),e.$$parentForm=o},o.$$renameControl=function(e,t){var n=e.$name;o[n]===e&&delete o[n],o[t]=e,e.$name=t},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],r(o.$pending,function(t,n){o.$setValidity(n,null,e)}),r(o.$error,function(t,n){o.$setValidity(n,null,e)}),r(o.$$success,function(t,n){o.$setValidity(n,null,e)}),M(s,e),e.$$parentForm=Ra},kr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(M(r,n),0===r.length&&delete e[t])},$animate:i}),o.$setDirty=function(){i.removeClass(e,wo),
i.addClass(e,$o),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){i.setClass(e,wo,$o+" "+La),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,r(s,function(e){e.$setPristine()})},o.$setUntouched=function(){r(s,function(e){e.$setUntouched()})},o.$setSubmitted=function(){i.addClass(e,La),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}function fr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function mr(e,t,n,r,i,a){gr(e,t,n,r,i,a),fr(r)}function gr(e,t,n,r,i,a){var o=Ir(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(a.defer.cancel(l),l=null),!s){var i=t.val(),c=e&&e.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=Xr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=a.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),Xa[o]&&r.$$hasNativeValidators&&o===n.type&&t.on(Ja,function(e){if(!l){var t=this[Or],n=t.badInput,r=t.typeMismatch;l=a.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||c(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function hr(e,t){if(x(e))return e;if(w(e)){Ha.lastIndex=0;var n=Ha.exec(e);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,l=0,c=Qn(r),u=7*(i-1);return t&&(a=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,c.getDate()+u,a,o,s,l)}}return NaN}function vr(e,t){return function(n,i){var a,o;if(x(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ua.test(n))return new Date(n);if(e.lastIndex=0,a=e.exec(n))return a.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(a,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function _r(e,t,n,r){return function(i,a,o,s,l,c,u){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function d(e){return _(e)&&!x(e)?n(e)||void 0:e}yr(i,a,o,s),gr(i,a,o,s,l,c);var f,m=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,f);return m&&(r=K(r,m)),r}}),s.$formatters.push(function(e){if(e&&!x(e))throw Co("datefmt","Expected `{0}` to be a date",e);return p(e)?(f=e,f&&m&&(f=K(f,m,!0)),u("date")(e,r,m)):(f=null,"")}),_(o.min)||o.ngMin){var g;s.$validators.min=function(e){return!p(e)||v(g)||n(e)>=g},o.$observe("min",function(e){g=d(e),s.$validate()})}if(_(o.max)||o.ngMax){var h;s.$validators.max=function(e){return!p(e)||v(h)||n(e)<=h},o.$observe("max",function(e){h=d(e),s.$validate()})}}}function yr(e,t,n,r){var i=t[0],a=r.$$hasNativeValidators=y(i.validity);a&&r.$parsers.push(function(e){var n=t.prop(Or)||{};return n.badInput||n.typeMismatch?void 0:e})}function br(e,t,n,r,i,a){if(yr(e,t,n,r),gr(e,t,n,r,i,a),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Va.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!$(e))throw Co("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),_(n.min)||n.ngMin){var o;r.$validators.min=function(e){return r.$isEmpty(e)||v(o)||e>=o},n.$observe("min",function(e){_(e)&&!$(e)&&(e=parseFloat(e)),o=$(e)&&!isNaN(e)?e:void 0,r.$validate()})}if(_(n.max)||n.ngMax){var s;r.$validators.max=function(e){return r.$isEmpty(e)||v(s)||e<=s},n.$observe("max",function(e){_(e)&&!$(e)&&(e=parseFloat(e)),s=$(e)&&!isNaN(e)?e:void 0,r.$validate()})}}function wr(e,t,n,r,i,a){gr(e,t,n,r,i,a),fr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Ba.test(n)}}function $r(e,t,n,r,i,a){gr(e,t,n,r,i,a),fr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Wa.test(n)}}function xr(e,t,n,r){v(n.name)&&t.attr("name",o());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Sr(e,t,n,r,i){var a;if(_(r)){if(a=e(r),!a.constant)throw Co("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return a(t)}return i}function Er(e,t,n,r,i,a,o,s){var l=Sr(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Sr(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return z(e,l)}),r.$parsers.push(function(e){return e?l:c})}function Tr(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(i==t[a])continue e;n.push(i)}return n}function a(e){var t=[];return Kr(e)?(r(e,function(e){t=t.concat(a(e))}),t):w(e)?e.split(" "):y(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(o,s,l){function c(e){var t=p(e,1);l.$addClass(t)}function u(e){var t=p(e,-1);l.$removeClass(t)}function p(e,t){var n=s.data("$classCounts")||me(),i=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function d(e,t){var r=i(t,e),a=i(e,t);r=p(r,1),a=p(a,-1),r&&r.length&&n.addClass(s,r),a&&a.length&&n.removeClass(s,a)}function f(e){if(t===!0||(1&o.$index)===t){var n=a(e||[]);if(m){if(!z(e,m)){var r=a(m);d(r,n)}}else c(n)}m=Kr(e)?e.map(function(e){return he(e)}):he(e)}var m;o.$watch(l[e],f,!0),l.$observe("class",function(t){f(o.$eval(l[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=a(o.$eval(l[e]));i===t?c(s):u(s)}})}}}]}function kr(e){function t(e,t,s){v(t)?n("$pending",e,s):r("$pending",e,s),O(t)?t?(u(o.$error,e,s),c(o.$$success,e,s)):(c(o.$error,e,s),u(o.$$success,e,s)):(u(o.$error,e,s),u(o.$$success,e,s)),o.$pending?(i(Eo,!0),o.$valid=o.$invalid=void 0,a("",null)):(i(Eo,!1),o.$valid=Cr(o.$error),o.$invalid=!o.$valid,a("",o.$valid));var l;l=o.$pending&&o.$pending[e]?void 0:!o.$error[e]&&(!!o.$$success[e]||null),a(e,l),o.$$parentForm.$setValidity(e,l,o)}function n(e,t,n){o[e]||(o[e]={}),c(o[e],t,n)}function r(e,t,n){o[e]&&u(o[e],t,n),Cr(o[e])&&(o[e]=void 0)}function i(e,t){t&&!l[e]?(p.addClass(s,e),l[e]=!0):!t&&l[e]&&(p.removeClass(s,e),l[e]=!1)}function a(e,t){e=e?"-"+se(e,"-"):"",i(yo+e,t===!0),i(bo+e,t===!1)}var o=e.ctrl,s=e.$element,l={},c=e.set,u=e.unset,p=e.$animate;l[bo]=!(l[yo]=s.hasClass(yo)),o.$setValidity=t}function Cr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Ar(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Pr=/^\/(.+)\/([a-z]*)$/,Or="validity",jr=Object.prototype.hasOwnProperty,Ir=function(e){return w(e)?e.toLowerCase():e},Nr=function(e){return w(e)?e.toUpperCase():e},Dr=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Rr=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(Ir=Dr,Nr=Rr);var Lr,Mr,Fr,zr,Ur=[].slice,Br=[].splice,Wr=[].push,Vr=Object.prototype.toString,qr=Object.getPrototypeOf,Gr=t("ng"),Hr=e.angular||(e.angular={}),Yr=0;Lr=e.document.documentMode,f.$inject=[],m.$inject=[];var Kr=Array.isArray,Jr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Xr=function(e){return w(e)?e.trim():e},Zr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Qr=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!_(Qr.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Qr.rules={noUnsafeEval:!r||r.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!r||r.indexOf("no-inline-style")!==-1}}else Qr.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Qr.rules},ei=function(){if(_(ei.name_))return ei.name_;var t,n,r,i,a=ni.length;for(n=0;n<a;++n)if(r=ni[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return ei.name_=i},ti=/:/g,ni=["ng-","data-ng-","ng:","x-ng-"],ri=/[A-Z]/g,ii=!1,ai=1,oi=2,si=3,li=8,ci=9,ui=11,pi={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};Ae.expando="ng339";var di=Ae.cache={},fi=1,mi=function(e,t,n){e.addEventListener(t,n,!1)},gi=function(e,t,n){e.removeEventListener(t,n,!1)};Ae._data=function(e){return this.cache[e[this.expando]]||{}};var hi=/([\:\-\_]+(.))/g,vi=/^moz([A-Z])/,_i={mouseleave:"mouseout",mouseenter:"mouseover"},yi=t("jqLite"),bi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,wi=/<|&#?\w+;/,$i=/<([\w:-]+)/,xi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Si={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Si.optgroup=Si.option,Si.tbody=Si.tfoot=Si.colgroup=Si.caption=Si.thead,Si.th=Si.td;var Ei=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ti=Ae.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),Ae(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Mr(e>=0?this[e]:this[this.length+e])},length:0,push:Wr,sort:[].sort,splice:[].splice},ki={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){ki[Ir(e)]=e});var Ci={};r("input,select,option,textarea,button,form,details".split(","),function(e){Ci[e]=!0});var Ai={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:De,removeData:Ie,hasData:Se,cleanData:Ee},function(e,t){Ae[t]=e}),r({data:De,inheritedData:Ue,scope:function(e){return Mr.data(e,"$scope")||Ue(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Mr.data(e,"$isolateScope")||Mr.data(e,"$isolateScopeNoTemplate")},controller:ze,injector:function(e){return Ue(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Re,css:function(e,t,n){return t=we(t),_(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==si&&r!==oi&&r!==li){var i=Ir(t);if(ki[i]){if(!_(n))return e[t]||(e.attributes.getNamedItem(t)||f).specified?i:void 0;n?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(_(n))e.setAttribute(t,n);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?void 0:a}}},prop:function(e,t,n){return _(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===ai||n===si?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===L(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Oe(e,!0),void(e.innerHTML=t))},empty:Be},function(e,t){Ae.prototype[t]=function(t,n){var r,i,a=this.length;if(e!==Be&&v(2==e.length&&e!==Re&&e!==ze?t:n)){if(y(t)){for(r=0;r<a;r++)if(e===De)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var o=e.$dv,s=v(o)?Math.min(a,1):a,l=0;l<s;l++){var c=e(this[l],t,n);o=o?o+c:c}return o}for(r=0;r<a;r++)e(this[r],t,n);return this}}),r({removeData:Ie,on:function(e,t,n,r){if(_(r))throw yi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(xe(e)){var i=Ne(e,!0),a=i.events,o=i.handle;o||(o=i.handle=He(e,a));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,r,i){var s=a[t];s||(s=a[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||mi(e,t,o)),s.push(n)};l--;)t=s[l],_i[t]?(c(_i[t],Ke),c(t,void 0,!0)):c(t)}},off:je,one:function(e,t,n){e=Mr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Oe(e),r(new Ae(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===ai&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===ai||n===ui){t=new Ae(t);for(var r=0,i=t.length;r<i;r++){var a=t[r];e.appendChild(a)}}},prepend:function(e,t){if(e.nodeType===ai){var n=e.firstChild;r(new Ae(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Ce(e,Mr(t).eq(0).clone()[0])},remove:We,detach:function(e){We(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Ae(t);for(var i=0,a=t.length;i<a;i++){var o=t[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:Me,removeClass:Le,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;v(r)&&(r=!Re(e,t)),(r?Me:Le)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==ui?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Pe,triggerHandler:function(e,t,n){var i,a,o,s=t.type||t,l=Ne(e),u=l&&l.events,p=u&&u[s];p&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:s,target:e},t.type&&(i=c(i,t)),a=he(p),o=n?[i].concat(n):[i],r(a,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){Ae.prototype[t]=function(t,n,r){for(var i,a=0,o=this.length;a<o;a++)v(i)?(i=e(this[a],t,n,r),_(i)&&(i=Mr(i))):Fe(i,e(this[a],t,n,r));return _(i)?i:this},Ae.prototype.bind=Ae.prototype.on,Ae.prototype.unbind=Ae.prototype.off}),Ze.prototype={put:function(e,t){this[Xe(e,this.nextUid)]=t},get:function(e){return this[Xe(e,this.nextUid)]},remove:function(e){var t=this[e=Xe(e,this.nextUid)];return delete this[e],t}};var Pi=[function(){this.$get=[function(){return Ze}]}],Oi=/^([^\(]+?)=>/,ji=/^[^\(]*\(\s*([^\)]*)\)/m,Ii=/,/,Ni=/^\s*(_?)(\S+?)\1\s*$/,Di=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ri=t("$injector");rt.$$annotate=nt;var Li=t("$animate"),Mi=1,Fi="ng-animate",zi=function(){this.$get=f},Ui=function(){var e=new Ze,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function a(e,t,n){var i=!1;return t&&(t=w(t)?t.split(" "):Kr(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function o(){r(t,function(t){var n=e.get(t);if(n){var i=st(t.attr("class")),a="",o="";r(n,function(e,t){var n=!!i[t];e!==n&&(e?a+=(a.length?" ":"")+t:o+=(o.length?" ":"")+t)}),r(t,function(e){a&&Me(e,a),o&&Le(e,o)}),e.remove(t)}}),t.length=0}function s(n,r,s){var l=e.get(n)||{},c=a(l,r,!0),u=a(l,s,!1);(c||u)&&(e.put(n,l),t.push(n),1===t.length&&i.$$postDigest(o))}return{enabled:f,on:f,off:f,pin:f,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var a=new n;return a.complete(),a}}}]},Bi=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Li("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Fi+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Li("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Fi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=ot(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,a){return r=r&&Mr(r),i=i&&Mr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",lt(a))},move:function(n,r,i,a){return r=r&&Mr(r),i=i&&Mr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",lt(a))},leave:function(t,n){return e.push(t,"leave",lt(n),function(){t.remove()})},addClass:function(t,n,r){return r=lt(r),r.addClass=at(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=lt(r),r.removeClass=at(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=lt(i),i.addClass=at(i.addClass,n),i.removeClass=at(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,a){return a=lt(a),a.from=a.from?c(a.from,n):n,a.to=a.to?c(a.to,r):r,i=i||"ng-inline-animate",a.tempClasses=at(a.tempClasses,i),e.push(t,"animate",a)}}}]}],Wi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Vi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,a){function o(e){this.setHost(e);var t=n(),r=function(e){a(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?r(e):t(e)},this._state=0}var s=0,l=1,c=2;return o.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},o.all=function(e,t){function n(n){a=a&&n,++i===e.length&&t(a)}var i=0,a=!0;r(e,function(e){e.done(n)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===c?e():this._doneCallbacks.push(e)},progress:f,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==c&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=c)}},o}]},qi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){a(),s||l.complete(),s=!0}),l}function a(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null)}var o=r||{};o.$$prepared||(o=F(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var s,l=new n;return{start:i,end:i}}}]},Gi=t("$compile"),Hi=new ft;mt.$inject=["$provide","$$sanitizeUriProvider"],gt.prototype.isFirstChange=function(){return this.previousValue===Hi};var Yi=/^((?:x|data)[\:\-_])/i,Ki=t("$controller"),Ji=/^(\S+)(\s+as\s+([\w$]+))?$/,Xi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Mr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Zi="application/json",Qi={"Content-Type":Zi+";charset=utf-8"},ea=/^\[|^\{(?!\{)/,ta={"[":/]$/,"{":/}$/},na=/^\)\]\}',?\n/,ra=t("$http"),ia=function(e){return function(){throw ra("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},aa=Hr.$interpolateMinErr=t("$interpolate");aa.throwNoconcat=function(e){throw aa("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},aa.interr=function(e,t){return aa("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var oa=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,r={};return{createCallback:function(e){var i="_"+(n.$$counter++).toString(36),a="angular.callbacks."+i,o=t(i);return r[a]=n[i]=o,a},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){var t=r[e];delete n[t.id],delete r[e]}}}]},sa=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,la={http:80,https:443,ftp:21},ca=t("$location"),ua={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Jt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=sa.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Jt("$$protocol"),host:Jt("$$host"),port:Jt("$$port"),path:Xt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||$(e))e=e.toString(),this.$$search=Z(e);else{if(!y(e))throw ca("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=F(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Xt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Kt,Yt,Ht],function(e){e.prototype=Object.create(ua),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Ht||!this.$$html5)throw ca("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var pa=t("$parse"),da=Function.prototype.call,fa=Function.prototype.apply,ma=Function.prototype.bind,ga=me();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){ga[e]=!0});var ha={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},va=function(e){this.options=e};va.prototype={constructor:va,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=ga[t],a=ga[n],o=ga[r];if(i||a||o){var s=o?r:a?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=_(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw pa("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Ir(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(r+=a,i){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=ha[a];n+=s||a}i=!1}else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var _a=function(e,t){this.lexer=e,this.options=t};_a.Program="Program",_a.ExpressionStatement="ExpressionStatement",_a.AssignmentExpression="AssignmentExpression",_a.ConditionalExpression="ConditionalExpression",_a.LogicalExpression="LogicalExpression",_a.BinaryExpression="BinaryExpression",_a.UnaryExpression="UnaryExpression",_a.CallExpression="CallExpression",_a.MemberExpression="MemberExpression",_a.Identifier="Identifier",_a.Literal="Literal",_a.ArrayExpression="ArrayExpression",_a.Property="Property",_a.ObjectExpression="ObjectExpression",_a.ThisExpression="ThisExpression",_a.LocalsExpression="LocalsExpression",_a.NGValueParameter="NGValueParameter",_a.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:_a.Program,body:e}},expressionStatement:function(){return{type:_a.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:_a.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:_a.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:_a.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:_a.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:_a.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:_a.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:_a.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:_a.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:_a.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:_a.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:_a.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:_a.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:_a.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:_a.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:_a.Identifier,name:e.text}},constant:function(){return{type:_a.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:_a.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:_a.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:_a.ObjectExpression,properties:t}},throwError:function(e,t){throw pa("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw pa("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw pa("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var a=this.tokens[e],o=a.text;if(o===t||o===n||o===r||o===i||!t&&!n&&!r&&!i)return a}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{"this":{type:_a.ThisExpression},$locals:{type:_a.LocalsExpression}}},gn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},cn(i,n.$filter);var a,o="";if(this.stage="assign",
a=dn(i)){this.state.computing="assign";var s=this.nextId();this.recurse(a,s),this.return_(s),o="fn.assign="+this.generateFunction("assign","s,v,l")}var l=un(i.body);n.stage="inputs",r(l,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,en,nn,rn,tn,an,on,sn,e);return this.state=this.stage=void 0,u.literal=fn(i),u.constant=mn(i),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,a,o){var s,l,c,u,p,d=this;if(i=i||f,!o&&_(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,a,!0));switch(e.type){case _a.Program:r(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?d.current().body.push(l,";"):d.return_(l)});break;case _a.Literal:u=this.escape(e.value),this.assign(t,u),i(u);break;case _a.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),i(u);break;case _a.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),u="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,u),i(u);break;case _a.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),i(t);break;case _a.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),i(t);break;case _a.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),en(e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){a&&1!==a&&d.if_(d.not(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),(d.state.expensiveChecks||vn(e.name))&&d.addEnsureSafeObject(t),i(t);break;case _a.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,s,void 0,function(){d.if_(d.notNull(s),function(){a&&1!==a&&d.addEnsureSafeAssignContext(s),e.computed?(l=d.nextId(),d.recurse(e.property,l),d.getStringValue(l),d.addEnsureSafeMemberName(l),a&&1!==a&&d.if_(d.not(d.computedMember(s,l)),d.lazyAssign(d.computedMember(s,l),"{}")),u=d.ensureSafeObject(d.computedMember(s,l)),d.assign(t,u),n&&(n.computed=!0,n.name=l)):(en(e.property.name),a&&1!==a&&d.if_(d.not(d.nonComputedMember(s,e.property.name)),d.lazyAssign(d.nonComputedMember(s,e.property.name),"{}")),u=d.nonComputedMember(s,e.property.name),(d.state.expensiveChecks||vn(e.property.name))&&(u=d.ensureSafeObject(u)),d.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!a);break;case _a.CallExpression:t=t||this.nextId(),e.filter?(l=d.filter(e.callee.name),c=[],r(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),c.push(t)}),u=l+"("+c.join(",")+")",d.assign(t,u),i(t)):(l=d.nextId(),s={},c=[],d.recurse(e.callee,l,s,function(){d.if_(d.notNull(l),function(){d.addEnsureSafeFunction(l),r(e.arguments,function(e){d.recurse(e,d.nextId(),void 0,function(e){c.push(d.ensureSafeObject(e))})}),s.name?(d.state.expensiveChecks||d.addEnsureSafeObject(s.context),u=d.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):u=l+"("+c.join(",")+")",u=d.ensureSafeObject(u),d.assign(t,u)},function(){d.assign(t,"undefined")}),i(t)}));break;case _a.AssignmentExpression:if(l=this.nextId(),s={},!pn(e.left))throw pa("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){d.if_(d.notNull(s.context),function(){d.recurse(e.right,l),d.addEnsureSafeObject(d.member(s.context,s.name,s.computed)),d.addEnsureSafeAssignContext(s.context),u=d.member(s.context,s.name,s.computed)+e.operator+l,d.assign(t,u),i(t||u)})},1);break;case _a.ArrayExpression:c=[],r(e.elements,function(e){d.recurse(e,d.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),i(u);break;case _a.ObjectExpression:c=[],p=!1,r(e.properties,function(e){e.computed&&(p=!0)}),p?(t=t||this.nextId(),this.assign(t,"{}"),r(e.properties,function(e){e.computed?(s=d.nextId(),d.recurse(e.key,s)):s=e.key.type===_a.Identifier?e.key.name:""+e.key.value,l=d.nextId(),d.recurse(e.value,l),d.assign(d.member(t,s,e.computed),l)})):(r(e.properties,function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,function(e){c.push(d.escape(t.key.type===_a.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),i(t||u);break;case _a.ThisExpression:this.assign(t,"s"),i("s");break;case _a.LocalsExpression:this.assign(t,"l"),i("l");break;case _a.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,a){var o=this;return function(){o.recurse(e,t,n,r,i,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if($(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw pa("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},hn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,cn(i,n.$filter);var a,o;(a=dn(i))&&(o=this.recurse(a));var s,l=un(i.body);l&&(s=[],r(l,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var c=[];r(i.body,function(e){c.push(n.recurse(e.expression))});var u=0===i.body.length?f:1===i.body.length?c[0]:function(e,t){var n;return r(c,function(r){n=r(e,t)}),n};return o&&(u.assign=function(e,t,n){return o(e,n,t)}),s&&(u.inputs=s),u.literal=fn(i),u.constant=mn(i),u},recurse:function(e,t,n){var i,a,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case _a.Literal:return this.value(e.value,t);case _a.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case _a.BinaryExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case _a.LogicalExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case _a.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case _a.Identifier:return en(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||vn(e.name),t,n,s.expression);case _a.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(en(e.property.name,s.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(i,a,t,n,s.expression):this.nonComputedMember(i,a,s.expensiveChecks,t,n,s.expression);case _a.CallExpression:return o=[],r(e.arguments,function(e){o.push(s.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,r,i));var c=a.apply(void 0,s,i);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,r,i){var l,c=a(e,n,r,i);if(null!=c.value){nn(c.context,s.expression),rn(c.value,s.expression);for(var u=[],p=0;p<o.length;++p)u.push(nn(o[p](e,n,r,i),s.expression));l=nn(c.value.apply(c.context,u),s.expression)}return t?{value:l}:l};case _a.AssignmentExpression:return i=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,o){var l=i(e,n,r,o),c=a(e,n,r,o);return nn(l.value,s.expression),an(l.context),l.context[l.name]=c,t?{value:c}:c};case _a.ArrayExpression:return o=[],r(e.elements,function(e){o.push(s.recurse(e))}),function(e,n,r,i){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,r,i));return t?{value:a}:a};case _a.ObjectExpression:return o=[],r(e.properties,function(e){e.computed?o.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):o.push({key:e.key.type===_a.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,r,i)]=o[s].value(e,n,r,i):a[o[s].key]=o[s].value(e,n,r,i);return t?{value:a}:a};case _a.ThisExpression:return function(e){return t?{value:e}:e};case _a.LocalsExpression:return function(e,n){return t?{value:n}:n};case _a.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,a){var o=e(n,r,i,a);return o=_(o)?+o:0,t?{value:o}:o}},"unary-":function(e,t){return function(n,r,i,a){var o=e(n,r,i,a);return o=_(o)?-o:0,t?{value:o}:o}},"unary!":function(e,t){return function(n,r,i,a){var o=!e(n,r,i,a);return t?{value:o}:o}},"binary+":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o),l=t(r,i,a,o),c=sn(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o),l=t(r,i,a,o),c=(_(s)?s:0)-(_(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)*t(r,i,a,o);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)/t(r,i,a,o);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)%t(r,i,a,o);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)===t(r,i,a,o);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)!==t(r,i,a,o);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)==t(r,i,a,o);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)!=t(r,i,a,o);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)<t(r,i,a,o);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)>t(r,i,a,o);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)<=t(r,i,a,o);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)>=t(r,i,a,o);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)&&t(r,i,a,o);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)||t(r,i,a,o);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,a,o,s){var l=e(i,a,o,s)?t(i,a,o,s):n(i,a,o,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(a,o,s,l){var c=o&&e in o?o:a;r&&1!==r&&c&&!c[e]&&(c[e]={});var u=c?c[e]:void 0;return t&&nn(u,i),n?{context:c,name:e,value:u}:u}},computedMember:function(e,t,n,r,i){return function(a,o,s,l){var c,u,p=e(a,o,s,l);return null!=p&&(c=t(a,o,s,l),c=tn(c),en(c,i),r&&1!==r&&(an(p),p&&!p[c]&&(p[c]={})),u=p[c],nn(u,i)),n?{context:p,name:c,value:u}:u}},nonComputedMember:function(e,t,n,r,i,a){return function(o,s,l,c){var u=e(o,s,l,c);i&&1!==i&&(an(u),u&&!u[t]&&(u[t]={}));var p=null!=u?u[t]:void 0;return(n||vn(t))&&nn(p,a),r?{context:u,name:t,value:p}:p}},inputs:function(e,t){return function(n,r,i,a){return a?a[t]:e(n,r,i)}}};var ya=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new _a(e,n),this.astCompiler=n.csp?new hn(this.ast,t):new gn(this.ast,t)};ya.prototype={constructor:ya,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var ba=Object.prototype.valueOf,wa=t("$sce"),$a={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xa=t("$compile"),Sa=e.document.createElement("a"),Ea=Nn(e.location.href);Ln.$inject=["$document"],Fn.$inject=["$provide"];var Ta=22,ka=".",Ca="0";Vn.$inject=["$locale"],qn.$inject=["$locale"];var Aa={yyyy:Jn("FullYear",4,0,!1,!0),yy:Jn("FullYear",2,0,!0,!0),y:Jn("FullYear",1,0,!1,!0),MMMM:Xn("Month"),MMM:Xn("Month",!0),MM:Jn("Month",2,1),M:Jn("Month",1,1),LLLL:Xn("Month",!1,!0),dd:Jn("Date",2),d:Jn("Date",1),HH:Jn("Hours",2),H:Jn("Hours",1),hh:Jn("Hours",2,-12),h:Jn("Hours",1,-12),mm:Jn("Minutes",2),m:Jn("Minutes",1),ss:Jn("Seconds",2),s:Jn("Seconds",1),sss:Jn("Milliseconds",3),EEEE:Xn("Day"),EEE:Xn("Day",!0),a:nr,Z:Zn,ww:tr(2),w:tr(1),G:rr,GG:rr,GGG:rr,GGGG:ir},Pa=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Oa=/^\-?\d+$/;ar.$inject=["$locale"];var ja=g(Ir),Ia=g(Nr);cr.$inject=["$parse"];var Na=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Vr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Da={};r(ki,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=ht("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Da[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Ai,function(e,t){Da[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Pr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=ht("ng-"+e);Da[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===Vr.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(t){return t?(i.$set(o,t),void(Lr&&a&&r.prop(a,i[o]))):void("href"===e&&i.$set(o,null))})}}}});var Ra={$addControl:f,$$renameControl:pr,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},La="ng-submitted";dr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ma=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||f}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:dr,compile:function(n,i){n.addClass(wo).addClass(yo);var a=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,o){var s=o[0];if(!("action"in i)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};mi(n[0],"submit",l),n.on("$destroy",function(){t(function(){gi(n[0],"submit",l)},0,!1)})}var u=o[1]||s.$$parentForm;u.$addControl(s);var p=a?r(s.$name):f;a&&(p(e,s),i.$observe(a,function(t){s.$name!==t&&(p(e,void 0),s.$$parentForm.$$renameControl(s,t),(p=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),p(e,void 0),c(s,Ra)})}}}};return i}]},Fa=Ma(),za=Ma(!0),Ua=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Ba=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Wa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Va=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,qa=/^(\d{4,})-(\d{2})-(\d{2})$/,Ga=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ha=/^(\d{4,})-W(\d\d)$/,Ya=/^(\d{4,})-(\d\d)$/,Ka=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ja="keydown wheel mousedown",Xa=me();r("date,datetime-local,month,time,week".split(","),function(e){Xa[e]=!0});var Za={text:mr,date:_r("date",qa,vr(qa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":_r("datetimelocal",Ga,vr(Ga,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:_r("time",Ka,vr(Ka,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:_r("week",Ha,hr,"yyyy-Www"),month:_r("month",Ya,vr(Ya,["yyyy","MM"]),"yyyy-MM"),number:br,url:wr,email:$r,radio:xr,checkbox:Er,hidden:f,button:f,submit:f,reset:f,file:f},Qa=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){s[0]&&(Za[Ir(o.type)]||Za.text)(i,a,o,s[0],t,e,n,r)}}}}],eo=/^(true|false|\d+)$/,to=function(){return{restrict:"A",priority:100,compile:function(e,t){return eo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},no=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],ro=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var a=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,a.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=v(e)?"":e})}}}}],io=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var a=t(i.ngBindHtml),o=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(o,function(){var n=a(t);r.html(e.getTrustedHtml(n)||"")})}}}}],ao=g({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),oo=Tr("",!0),so=Tr("Odd",0),lo=Tr("Even",1),co=ur({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),uo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],po={},fo={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=ht("ng-"+e);po[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};fo[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var mo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,l,c;n.$watch(i.ngIf,function(n){n?l||o(function(n,a){l=a,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=fe(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],go=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Hr.noop,compile:function(r,i){var a=i.ngInclude||i.src,o=i.onload||"",s=i.autoscroll;return function(r,i,l,c,u){var p,d,f,m=0,g=function(){d&&(d.remove(),d=null),p&&(p.$destroy(),p=null),f&&(n.leave(f).then(function(){d=null}),d=f,f=null)};r.$watch(a,function(a){var l=function(){!_(s)||s&&!r.$eval(s)||t()},d=++m;a?(e(a,!0).then(function(e){if(!r.$$destroyed&&d===m){var t=r.$new();c.template=e;var s=u(t,function(e){g(),n.enter(e,null,i).then(l)});p=t,f=s,p.$emit("$includeContentLoaded",a),r.$eval(o)}},function(){r.$$destroyed||d===m&&(g(),r.$emit("$includeContentError",a))}),r.$emit("$includeContentRequested",a)):(g(),c.template=null)})}}}}],ho=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){return Vr.call(r[0]).match(/SVG/)?(r.empty(),void t(Te(a.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(a.template),void t(r.contents())(n))}}}],vo=ur({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),_o=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var a=t.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,s=o?Xr(a):a,l=function(e){if(!v(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(o?Xr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){if(Kr(e))return e.join(a)}),i.$isEmpty=function(e){return!e||!e.length}}}},yo="ng-valid",bo="ng-invalid",wo="ng-pristine",$o="ng-dirty",xo="ng-untouched",So="ng-touched",Eo="ng-pending",To="ng-empty",ko="ng-not-empty",Co=t("ngModel"),Ao=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,i,a,o,s,l,c,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(e),this.$$parentForm=Ra;var p,d=a(n.ngModel),m=d.assign,g=d,h=m,y=null,b=this;this.$$setOptions=function(e){if(b.$options=e,e&&e.getterSetter){var t=a(n.ngModel+"()"),r=a(n.ngModel+"($$$p)");g=function(e){var n=d(e);return S(n)&&(n=t(e)),n},h=function(e,t){S(d(e))?r(e,{$$$p:t}):m(e,t)}}else if(!d.assign)throw Co("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,J(i))},this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){b.$isEmpty(e)?(o.removeClass(i,ko),o.addClass(i,To)):(o.removeClass(i,To),o.addClass(i,ko))};var w=0;kr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:o}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,o.removeClass(i,$o),o.addClass(i,wo)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,o.removeClass(i,wo),o.addClass(i,$o),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,o.setClass(i,xo,So)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,o.setClass(i,So,xo)},this.$rollbackViewValue=function(){s.cancel(y),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!$(b.$modelValue)||!isNaN(b.$modelValue)){var e=b.$$lastCommittedViewValue,t=b.$$rawModelValue,n=b.$valid,r=b.$modelValue,i=b.$options&&b.$options.allowInvalid;b.$$runValidators(t,e,function(e){i||n===e||(b.$modelValue=e?t:void 0,b.$modelValue!==r&&b.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function i(){var e=b.$$parserName||"parse";return v(p)?(s(e,null),!0):(p||(r(b.$validators,function(e,t){s(t,null)}),r(b.$asyncValidators,function(e,t){s(t,null)})),s(e,p),p)}function a(){var n=!0;return r(b.$validators,function(r,i){var a=r(e,t);n=n&&a,s(i,a)}),!!n||(r(b.$asyncValidators,function(e,t){s(t,null)}),!1)}function o(){var n=[],i=!0;r(b.$asyncValidators,function(r,a){var o=r(e,t);if(!j(o))throw Co("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",o);s(a,void 0),n.push(o.then(function(){s(a,!0)},function(){i=!1,s(a,!1)}))}),n.length?c.all(n).then(function(){l(i)},f):l(!0)}function s(e,t){u===w&&b.$setValidity(e,t)}function l(e){u===w&&n(e)}w++;var u=w;return i()&&a()?void o():void l(!1)},this.$commitViewValue=function(){var e=b.$viewValue;s.cancel(y),(b.$$lastCommittedViewValue!==e||""===e&&b.$$hasNativeValidators)&&(b.$$updateEmptyClasses(e),b.$$lastCommittedViewValue=e,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){b.$modelValue!==a&&b.$$writeModelToScope()}var n=b.$$lastCommittedViewValue,r=n;if(p=!v(r)||void 0)for(var i=0;i<b.$parsers.length;i++)if(r=b.$parsers[i](r),v(r)){p=!1;break}$(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=g(e));var a=b.$modelValue,o=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=r,o&&(b.$modelValue=r,t()),b.$$runValidators(r,b.$$lastCommittedViewValue,function(e){o||(b.$modelValue=e?r:void 0,t())})},this.$$writeModelToScope=function(){h(e,b.$modelValue),r(b.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){b.$viewValue=e,b.$options&&!b.$options.updateOnDefault||b.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=b.$options;i&&_(i.debounce)&&(n=i.debounce,$(n)?r=n:$(n[t])?r=n[t]:$(n["default"])&&(r=n["default"])),s.cancel(y),r?y=s(function(){b.$commitViewValue()},r):l.$$phase?b.$commitViewValue():e.$apply(function(){b.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==b.$modelValue&&(b.$modelValue===b.$modelValue||t===t)){b.$modelValue=b.$$rawModelValue=t,p=void 0;for(var n=b.$formatters,r=n.length,i=t;r--;)i=n[r](i);b.$viewValue!==i&&(b.$$updateEmptyClasses(i),b.$viewValue=b.$$lastCommittedViewValue=i,b.$render(),b.$$runValidators(t,i,f))}return t})}],Po=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ao,priority:1,compile:function(t){return t.addClass(wo).addClass(xo).addClass(yo),{pre:function(e,t,n,r){var i=r[0],a=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),a.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var a=i[0];a.$options&&a.$options.updateOn&&n.on(a.$options.updateOn,function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(a.$setTouched):t.$apply(a.$setTouched))})}}}}}],Oo=/(\s+|^)default(\s+|$)/,jo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=F(e.$eval(t.ngModelOptions)),_(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Xr(this.$options.updateOn.replace(Oo,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Io=ur({terminal:!0,priority:1e3}),No=t("ngOptions"),Do=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ro=["$compile","$document","$parse",function(t,i,a){function o(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function o(e){var t;if(!c&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(Do);if(!s)throw No("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,J(t));var l=s[5]||s[7],c=s[6],u=/ as /.test(s[0])&&s[1],p=s[9],d=a(s[2]?s[1]:l),f=u&&a(u),m=f||d,g=p&&a(p),h=p?function(e,t){return g(r,t)}:function(e){return Xe(e)},v=function(e,t){return h(e,x(e,t))},_=a(s[2]||s[1]),y=a(s[3]||""),b=a(s[4]||""),w=a(s[8]),$={},x=c?function(e,t){return $[c]=t,$[l]=e,$}:function(e){return $[l]=e,$};return{trackBy:p,getTrackByValue:v,getWatchables:a(w,function(e){var t=[];e=e||[];for(var n=o(e),i=n.length,a=0;a<i;a++){var l=e===n?a:n[a],c=e[l],u=x(c,l),p=h(c,u);if(t.push(p),s[2]||s[1]){var d=_(r,u);t.push(d)}if(s[4]){var f=b(r,u);t.push(f)}}return t}),getOptions:function(){for(var e=[],t={},n=w(r)||[],a=o(n),s=a.length,l=0;l<s;l++){var c=n===a?l:a[l],u=n[c],d=x(u,c),f=m(r,d),g=h(f,d),$=_(r,d),S=y(r,d),E=b(r,d),T=new i(g,f,$,S,E);e.push(T),t[g]=T}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return p?Hr.copy(e.viewValue):e.viewValue}}}}}function s(e,n,a,s){function u(e,t){var n=l.cloneNode(!1);t.appendChild(n),p(e,n)}function p(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function d(){var e=x&&m.readValue();if(x)for(var t=x.items.length-1;t>=0;t--){var r=x.items[t];We(_(r.group)?r.element.parentNode:r.element)}x=S.getOptions();var i={};if(w&&n.prepend(f),x.items.forEach(function(e){var t;_(e.group)?(t=i[e.group],t||(t=c.cloneNode(!1),E.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),u(e,t)):u(e,E)}),n[0].appendChild(E),g.$render(),!g.$isEmpty(e)){var a=m.readValue(),o=S.trackBy||h;(o?z(e,a):e===a)||(g.$setViewValue(a),g.$render())}}for(var f,m=s[0],g=s[1],h=a.multiple,v=0,y=n.children(),b=y.length;v<b;v++)if(""===y[v].value){f=y.eq(v);break}var w=!!f,$=Mr(l.cloneNode(!1));$.val("?");var x,S=o(a.ngOptions,n,e),E=i[0].createDocumentFragment(),T=function(){w||n.prepend(f),n.val(""),f.prop("selected",!0),f.attr("selected",!0)},k=function(){w||f.remove()},C=function(){n.prepend($),n.val("?"),$.prop("selected",!0),$.attr("selected",!0)},A=function(){$.remove()};h?(g.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){x.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=x.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=x.selectValueMap[e];n&&!n.disabled&&t.push(x.getViewValueFromOption(n))}),t},S.trackBy&&e.$watchCollection(function(){if(Kr(g.$viewValue))return g.$viewValue.map(function(e){return S.getTrackByValue(e)})},function(){g.$render()})):(m.writeValue=function(e){var t=x.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(A(),
k(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||w?(A(),T()):(k(),C())},m.readValue=function(){var e=x.selectValueMap[n.val()];return e&&!e.disabled?(k(),A(),x.getViewValueFromOption(e)):null},S.trackBy&&e.$watch(function(){return S.getTrackByValue(g.$viewValue)},function(){g.$render()})),w?(f.remove(),t(f)(e),f.removeClass("ng-scope")):f=Mr(l.cloneNode(!1)),n.empty(),d(),e.$watchCollection(S.getWatchables,d)}var l=e.document.createElement("option"),c=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=f},post:s}}}],Lo=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,a=/^when(Minus)?(.+)$/;return{link:function(o,s,l){function c(e){s.text(e||"")}var u,p=l.count,d=l.$attr.when&&s.attr(l.$attr.when),m=l.offset||0,g=o.$eval(d)||{},h={},_=t.startSymbol(),y=t.endSymbol(),b=_+p+"-"+m+y,w=Hr.noop;r(l,function(e,t){var n=a.exec(t);if(n){var r=(n[1]?"-":"")+Ir(n[2]);g[r]=s.attr(l.$attr[t])}}),r(g,function(e,n){h[n]=t(e.replace(i,b))}),o.$watch(p,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in g||(r=e.pluralCat(r-m)),r!==u&&!(i&&$(u)&&isNaN(u))){w();var a=h[r];v(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+d),w=f,c()):w=o.$watch(a,c),u=r}})}}}],Mo=["$parse","$animate","$compile",function(e,i,a){var o="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,r,i,a,o){e[n]=r,i&&(e[i]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,p){var d=p.ngRepeat,f=a.$$createComment("end ngRepeat",d),m=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var g=m[1],h=m[2],v=m[3],_=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var y=m[3]||m[1],b=m[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var w,$,x,S,E={$id:Xe};return _?w=e(_):(x=function(e,t){return Xe(t)},S=function(e){return e}),function(e,t,a,p,m){w&&($=function(t,n,r){return b&&(E[b]=t),E[y]=n,E.$index=r,w(e,E)});var g=me();e.$watchCollection(h,function(a){var p,h,_,w,E,T,k,C,A,P,O,j,I=t[0],N=me();if(v&&(e[v]=a),n(a))A=a,C=$||x;else{C=$||S,A=[];for(var D in a)jr.call(a,D)&&"$"!==D.charAt(0)&&A.push(D)}for(w=A.length,O=new Array(w),p=0;p<w;p++)if(E=a===A?p:A[p],T=a[E],k=C(E,T,p),g[k])P=g[k],delete g[k],N[k]=P,O[p]=P;else{if(N[k])throw r(O,function(e){e&&e.scope&&(g[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,k,T);O[p]={id:k,scope:void 0,clone:void 0},N[k]=!0}for(var R in g){if(P=g[R],j=fe(P.clone),i.leave(j),j[0].parentNode)for(p=0,h=j.length;p<h;p++)j[p][o]=!0;P.scope.$destroy()}for(p=0;p<w;p++)if(E=a===A?p:A[p],T=a[E],P=O[p],P.scope){_=I;do _=_.nextSibling;while(_&&_[o]);c(P)!=_&&i.move(fe(P.clone),null,I),I=u(P),l(P.scope,p,y,T,b,E,w)}else m(function(e,t){P.scope=t;var n=f.cloneNode(!1);e[e.length++]=n,i.enter(e,null,I),I=n,P.clone=e,N[P.id]=P,l(P.scope,p,y,T,b,E,w)});g=N})}}}}],Fo="ng-hide",zo="ng-hide-animate",Uo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Fo,{tempClasses:zo})})}}}],Bo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Fo,{tempClasses:zo})})}}}],Wo=ur(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Vo=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,a,o){var s=a.ngSwitch||a.on,l=[],c=[],u=[],p=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var i,a;for(i=0,a=u.length;i<a;++i)e.cancel(u[i]);for(u.length=0,i=0,a=p.length;i<a;++i){var s=fe(c[i].clone);p[i].$destroy();var f=u[i]=e.leave(s);f.then(d(u,i))}c.length=0,p.length=0,(l=o.cases["!"+n]||o.cases["?"])&&r(l,function(n){n.transclude(function(r,i){p.push(i);var a=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var o={clone:r};c.push(o),e.enter(r,a.parent(),a)})})})}}}],qo=ur({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Go=ur({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ho=t("ngTransclude"),Yo=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,a){function o(e,n){e.length?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}if(!a)throw Ho("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var l=r.ngTransclude||r.ngTranscludeSlot;a(o,null,l),l&&!a.isSlotFilled(l)&&s()}}}}],Ko=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Jo={$setViewValue:f,$render:f},Xo=["$element","$scope",function(t,n){var r=this,i=new Ze;r.ngModelCtrl=Jo,r.unknownOption=Mr(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Xe(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=f}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==li){pe(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),Ar(t)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,a){if(i){var o;n.$observe("value",function(e){_(o)&&r.removeOption(o),o=e,r.addOption(e,t)})}else a?e.$watch(a,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Zo=function(){function e(e,t,n,i){var a=i[1];if(a){var o=i[0];if(o.ngModelCtrl=a,t.on("change",function(){e.$apply(function(){a.$setViewValue(o.readValue())})}),n.multiple){o.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(e){var n=new Ze(e);r(t.find("option"),function(e){e.selected=_(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==a.$viewValue||z(s,a.$viewValue)||(s=he(a.$viewValue),a.$render()),l=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var i=r[1];if(i){var a=r[0];i.$render=function(){a.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Xo,priority:1,link:{pre:e,post:t}}},Qo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(_(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var a="$selectController",o=t.parent(),s=o.data(a)||o.parent().data(a);s&&s.registerOption(e,t,n,r,i)}}}}],es=g({restrict:"E",terminal:!1}),ts=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},ns=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var a,o=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(w(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,J(n));a=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||v(a)||a.test(t)}}}}},rs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=p(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=p(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(le(),ye(Hr),Hr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r),a=(e*i|0)%i;return{v:r,f:a}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,a=n(e,t);return 1==i&&0==a.v?r.ONE:r.OTHER}})}]),void Mr(e.document).ready(function(){re(e.document,ie)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.tabindex","ui.bootstrap.dropdown","ui.bootstrap.position","ui.bootstrap.modal","ui.bootstrap.stackedMap","ui.bootstrap.typeahead","ui.bootstrap.debounce","ui.bootstrap.popover","ui.bootstrap.tooltip"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/modal/window.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,r){var i=r.has("$animateCss")?r.get("$animateCss"):null;return{link:function(r,a,o){function s(){v=!!("horizontal"in o),v?(_={width:""},y={width:"0"}):(_={height:""},y={height:"0"}),r.$eval(o.uibCollapse)||a.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(_)}function l(e){return v?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function c(){a.hasClass("collapse")&&a.hasClass("in")||t.resolve(f(r)).then(function(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(a,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:l(a[0])}).start()["finally"](u):e.addClass(a,"in",{css:{overflow:"hidden"},to:l(a[0])}).then(u)})}function u(){a.removeClass("collapsing").addClass("collapse").css(_),m(r)}function p(){return a.hasClass("collapse")||a.hasClass("in")?void t.resolve(g(r)).then(function(){a.css(l(a[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(a,{removeClass:"in",to:y}).start()["finally"](d):e.removeClass(a,"in",{to:y}).then(d)}):d()}function d(){a.css(y),a.removeClass("collapsing").addClass("collapse"),h(r)}var f=n(o.expanding),m=n(o.expanded),g=n(o.collapsing),h=n(o.collapsed),v=!1,_={},y={};s(),r.$watch(o.uibCollapse,function(e){e?p():c()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){t.addClass("panel"),r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,r,i){t.$watch(function(){return i[r.uibAccordionTransclude]},function(t){if(t){var r=angular.element(n[0].querySelector(e()));r.html(""),r.append(t)}})}}}),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t,i){n||e.on("click",r),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t,i){n===t&&(n=null,e.off("click",r),e.off("keydown",this.keybindFilter))};var r=function(e){if(n&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,n.focusToggleElement(),t.$$phase||n.$apply())}}};this.keybindFilter=function(e){var t=n.getDropdownElement(),i=n.getToggleElement(),a=t&&t[0].contains(e.target),o=i&&i[0].contains(e.target);27===e.which?(e.stopPropagation(),n.focusToggleElement(),r()):n.isKeynavEnabled()&&[38,40].indexOf(e.which)!==-1&&n.isOpen&&(a||o)&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,r,i,a,o,s,l,c,u){var p,d,f=this,m=e.$new(),g=i.appendToOpenClass,h=i.openClass,v=angular.noop,_=n.onToggle?r(n.onToggle):angular.noop,y=!1,b=null,w=!1,$=l.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(d=r(n.isOpen),v=d.assign,e.$watch(d,function(e){m.isOpen=!!e})),angular.isDefined(n.dropdownAppendTo)){var i=r(n.dropdownAppendTo)(m);i&&(b=angular.element(i))}y=angular.isDefined(n.dropdownAppendToBody),w=angular.isDefined(n.keyboardNav),y&&!b&&(b=$),b&&f.dropdownMenu&&(b.append(f.dropdownMenu),t.on("$destroy",function(){f.dropdownMenu.remove()}))},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen,angular.isFunction(v)&&v(m,m.isOpen),m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return f.toggleElement},m.getAutoClose=function(){return n.autoClose||"always"},m.getElement=function(){return t},m.isKeynavEnabled=function(){return w},m.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},m.getDropdownElement=function(){return f.dropdownMenu},m.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},m.$watch("isOpen",function(n,r){if(b&&f.dropdownMenu){var i,d,w,$=s.positionElements(t,f.dropdownMenu,"bottom-left",!0),x=0;if(i={top:$.top+"px",display:n?"block":"none"},d=f.dropdownMenu.hasClass("dropdown-menu-right"),d?(i.left="auto",w=s.scrollbarPadding(b),w.heightOverflow&&w.scrollbarWidth&&(x=w.scrollbarWidth),i.right=window.innerWidth-x-($.left+t.prop("offsetWidth"))+"px"):(i.left=$.left+"px",i.right="auto"),!y){var S=s.offset(b);i.top=$.top-S.top+"px",d?i.right=window.innerWidth-($.left-S.left+t.prop("offsetWidth"))+"px":i.left=$.left-S.left+"px"}f.dropdownMenu.css(i)}var E=b?b:t,T=E.hasClass(b?g:h);if(T===!n&&o[n?"addClass":"removeClass"](E,b?g:h).then(function(){angular.isDefined(n)&&n!==r&&_(e,{open:!!n})}),n)f.dropdownMenuTemplateUrl?u(f.dropdownMenuTemplateUrl).then(function(e){p=m.$new(),c(e.trim())(p,function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t,l.on("keydown",a.keybindFilter)})}):l.on("keydown",a.keybindFilter),m.focusToggleElement(),a.open(m,t);else{if(a.close(m,t),f.dropdownMenuTemplateUrl){p&&p.$destroy();var k=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(k),f.dropdownMenu=k}f.selectedOption=null}angular.isFunction(v)&&v(e,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){if(r&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,r,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function r(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&r(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(r)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),r=t.innerWidth-a[0].clientWidth,r=isFinite(r)?r:0,a.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(n)){var o=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(o),n=o[0].offsetWidth-o[0].clientWidth,n=isFinite(n)?n:0,o.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),r=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),a=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(a,o.test(a.tagName));return{scrollbarWidth:s,widthOverflow:a.scrollWidth>a.clientWidth,right:r+s,originalRight:r,heightOverflow:a.scrollHeight>a.clientHeight,bottom:i+s,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var r=n?i.hidden:i.normal,a=t.getComputedStyle(e);return r.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,r,a){n=this.getRawNode(n);var o=r?i.hidden:i.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(a&&o.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,u=n.parentElement||s;if(u===s||"fixed"===l.position)return s;for(;u.parentElement&&u!==s;){var p=t.getComputedStyle(u);if(c&&"static"!==p.position&&(c=!1),!c&&o.test(p.overflow+p.overflowY+p.overflowX))break;u=u.parentElement}return u},position:function(n,r){n=this.getRawNode(n);var i=this.offset(n);if(r){var a=t.getComputedStyle(n);i.top-=this.parseStyle(a.marginTop),i.left-=this.parseStyle(a.marginLeft)}var o=this.offsetParent(n),s={top:0,left:0};return o!==e[0].documentElement&&(s=this.offset(o),s.top+=o.clientTop-o.scrollTop,s.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-s.top),left:Math.round(i.left-s.left)}},offset:function(n){n=this.getRawNode(n);var r=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,r,i){n=this.getRawNode(n),i=i!==!1;var a=n.getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},s=r?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(o.top=l.top+s.clientTop,o.left=l.left+s.clientLeft,s===e[0].documentElement&&(o.top+=t.pageYOffset,o.left+=t.pageXOffset),o.bottom=o.top+s.clientHeight,o.right=o.left+s.clientWidth,i){var c=t.getComputedStyle(s);o.top+=this.parseStyle(c.paddingTop),o.bottom-=this.parseStyle(c.paddingBottom),o.left+=this.parseStyle(c.paddingLeft),o.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(a.top-o.top),bottom:Math.round(o.bottom-a.bottom),left:Math.round(a.left-o.left),right:Math.round(o.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),e=e.split("-"),e[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,r,i){e=this.getRawNode(e),n=this.getRawNode(n);var o=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");r=this.parsePlacement(r);var l=i?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(r[2]){var u=this.viewportOffset(e,i),p=t.getComputedStyle(n),d={width:o+Math.round(Math.abs(this.parseStyle(p.marginLeft)+this.parseStyle(p.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(p.marginTop)+this.parseStyle(p.marginBottom)))};if(r[0]="top"===r[0]&&d.height>u.top&&d.height<=u.bottom?"bottom":"bottom"===r[0]&&d.height>u.bottom&&d.height<=u.top?"top":"left"===r[0]&&d.width>u.left&&d.width<=u.right?"right":"right"===r[0]&&d.width>u.right&&d.width<=u.left?"left":r[0],r[1]="top"===r[1]&&d.height-l.height>u.bottom&&d.height-l.height<=u.top?"bottom":"bottom"===r[1]&&d.height-l.height>u.top&&d.height-l.height<=u.bottom?"top":"left"===r[1]&&d.width-l.width>u.right&&d.width-l.width<=u.left?"right":"right"===r[1]&&d.width-l.width>u.left&&d.width-l.width<=u.right?"left":r[1],"center"===r[1])if(a.vertical.test(r[0])){var f=l.width/2-o/2;u.left+f<0&&d.width-l.width<=u.right?r[1]="left":u.right+f<0&&d.width-l.width<=u.left&&(r[1]="right")}else{var m=l.height/2-d.height/2;u.top+m<0&&d.height-l.height<=u.bottom?r[1]="top":u.bottom+m<0&&d.height-l.height<=u.top&&(r[1]="bottom")}}switch(r[0]){case"top":c.top=l.top-s;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-o;break;case"right":c.left=l.left+l.width}switch(r[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-s;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-o;break;case"center":a.vertical.test(r[0])?c.left=l.left+l.width/2-o/2:c.top=l.top+l.height/2-s/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===r[1]?r[0]:r[0]+"-"+r[1],c},adjustTop:function(e,t,n,r){if(e.indexOf("top")!==-1&&n!==r)return{top:t.top-r+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var r=e.querySelector(".tooltip-inner, .popover-inner");if(r){var i=angular.element(r).hasClass("tooltip-inner"),o=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(o){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(o).css(s);var l="border-"+n[0]+"-width",c=t.getComputedStyle(o)[l],u="border-";u+=a.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],u+="-radius";var p=t.getComputedStyle(i?r:e)[u];switch(n[0]){case"top":s.bottom=i?"0":"-"+c;break;case"bottom":s.top=i?"0":"-"+c;break;case"left":s.right=i?"0":"-"+c;break;case"right":s.left=i?"0":"-"+c}s[n[1]]=p,angular.element(o).css(s)}}}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);i!==-1&&r.splice(i,1),r.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var r=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,a,o){if(r)return r.resolve(e,i,a,o);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},r=0;return angular.forEach(e,function(e,i){n[i]=t[r++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function r(t,r,i){i.modalInClass&&(e.addClass(r,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,a){var o=a();t.modalOptions.animation?e.removeClass(r,i.modalInClass).then(o):o()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,r){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,a,o){a.addClass(o.windowTopClass||""),i.size=o.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.on("click",i.close),i.$isRendered=!0;var s=t.defer();i.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;o.modalInClass&&(s=n(a,{addClass:o.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();n(a,{removeClass:o.modalInClass}).start().then(r)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!r[0].activeElement||!a[0].contains(r[0].activeElement)){var n=a[0].querySelector("[autofocus]");n?n.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,r,i,a){a(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,r,i,a,o,s,l){function c(e){var t="-";return e.replace(C,function(e,n){return(n?t:"")+e.toLowerCase()})}function u(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function p(){for(var e=-1,t=$.keys(),n=0;n<t.length;n++)$.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<E&&(e=E),e}function d(e,t){var n=$.get(e).value,r=n.appendTo;$.remove(e),T=$.top(),T&&(E=parseInt(T.value.modalDomEl.attr("index"),10)),g(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||w;x.remove(t,e);var i=x.hasKey(t);r.toggleClass(t,i),!i&&b&&b.heightOverflow&&b.scrollbarWidth&&(b.originalRight?r.css({paddingRight:b.originalRight+"px"}):r.css({paddingRight:""}),b=null),f(!0)},n.closedDeferred),m(),t&&t.focus?t.focus():r.focus&&r.focus()}function f(e){var t;$.length()>0&&(t=$.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function m(){if(_&&p()===-1){var e=y;g(_,y,function(){e=null}),_=void 0,y=void 0}}function g(t,n,r,i){function o(){o.done||(o.done=!0,e.leave(t).then(function(){r&&r(),t.remove(),i&&i.resolve()}),n.$destroy())}var s,l=null,c=function(){return s||(s=a.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(S.NOW_CLOSING_EVENT,c),a.when(l).then(o)}function h(e){if(e.isDefaultPrevented())return e;var t=$.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){S.dismiss(t.key,"escape key press")}));break;case 9:var n=S.loadFocusElementList(t),r=!1;e.shiftKey?(S.isFocusInFirstItem(e,n)||S.isModalFocused(e,t))&&(r=S.focusLastFocusableElement(n)):S.isFocusInLastItem(e,n)&&(r=S.focusFirstFocusableElement(n)),
r&&(e.preventDefault(),e.stopPropagation())}}function v(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var _,y,b,w="modal-open",$=s.createNew(),x=o.createNew(),S={NOW_CLOSING_EVENT:"modal.stack.now-closing"},E=0,T=null,k="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",C=/[A-Z]/g;return i.$watch(p,function(e){y&&(y.index=e)}),n.on("keydown",h),i.$on("$destroy",function(){n.off("keydown",h)}),S.open=function(t,a){var o=n[0].activeElement,s=a.openedClass||w;f(!1),T=$.top(),$.add(t,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),x.put(s,t);var u=a.appendTo,d=p();if(!u.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");d>=0&&!_&&(y=i.$new(!0),y.modalOptions=a,y.index=d,_=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),_.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&_.addClass(a.backdropClass),a.animation&&_.attr("modal-animation","true"),r(_)(y),e.enter(_,u),l.isScrollable(u)&&(b=l.scrollbarPadding(u),b.heightOverflow&&b.scrollbarWidth&&u.css({paddingRight:b.right+"px"})));var m;a.component?(m=document.createElement(c(a.component.name)),m=angular.element(m),m.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"}),m=r(m)(a.scope)):m=a.content,E=T?parseInt(T.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({"class":"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog","aria-labelledby":a.ariaLabelledBy,"aria-describedby":a.ariaDescribedBy,size:a.size,index:E,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(m),a.windowClass&&g.addClass(a.windowClass),a.animation&&g.attr("modal-animation","true"),u.addClass(s),a.scope&&(a.scope.$$topModalIndex=E),e.enter(r(g)(a.scope),u),$.top().value.modalDomEl=g,$.top().value.modalOpener=o},S.close=function(e,t){var n=$.get(e);return n&&v(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),d(e,n.value.modalOpener),!0):!n},S.dismiss=function(e,t){var n=$.get(e);return n&&v(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),d(e,n.value.modalOpener),!0):!n},S.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},S.getTop=function(){return $.top()},S.modalRendered=function(e){var t=$.get(e);t&&t.value.renderDeferred.resolve()},S.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},S.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},S.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},S.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},S.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},S.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(k);return n?Array.prototype.filter.call(n,function(e){return u(e)}):n}}},S}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,r,i,a,o,s){function l(e){return e.template?n.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(i){function c(){return h}var p=n.defer(),d=n.defer(),f=n.defer(),m=n.defer(),g={result:p.promise,opened:d.promise,closed:f.promise,rendered:m.promise,close:function(e){return s.close(g,e)},dismiss:function(e){return s.dismiss(g,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||r.find("body").eq(0),!i.component&&!i.template&&!i.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var h;h=i.component?n.when(o.resolve(i.resolve,{},null,null)):n.all([l(i),o.resolve(i.resolve,{},null,null)]);var v;return v=u=n.all([u]).then(c,c).then(function(e){function n(t,n,r,i){t.$scope=o,t.$scope.$resolve={},r?t.$scope.$uibModalInstance=g:t.$uibModalInstance=g;var a=n?e[1]:e;angular.forEach(a,function(e,n){i&&(t[n]=e),t.$scope.$resolve[n]=e})}var r=i.scope||t,o=r.$new();o.$close=g.close,o.$dismiss=g.dismiss,o.$on("$destroy",function(){o.$$uibDestructionScheduled||o.$dismiss("$uibUnscheduledDestruction")});var l,c,u={scope:o,deferred:p,renderDeferred:m,closedDeferred:f,animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,ariaLabelledBy:i.ariaLabelledBy,ariaDescribedBy:i.ariaDescribedBy,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo},h={},v={};i.component?(n(h,!1,!0,!1),h.name=i.component,u.component=h):i.controller&&(n(v,!0,!1,!0),c=a(i.controller,v,!0,i.controllerAs),i.controllerAs&&i.bindToController&&(l=c.instance,l.$close=o.$close,l.$dismiss=o.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},r)),l=c(),angular.isFunction(l.$onInit)&&l.$onInit()),i.component||(u.content=e[0]),s.open(g,u),d.resolve(!0)},function(e){d.reject(e),p.reject(e)})["finally"](function(){u===v&&(u=null)}),g},c}]};return e}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,r,i,a,o,s,l,c,u,p,d){function f(){z.moveInProgress||(z.moveInProgress=!0,z.$digest()),X()}function m(){z.position=P?p.offset(t):p.position(t),z.position.top+=t.prop("offsetHeight")}var g,h,v=[9,13,27,38,40],_=200,y=e.$eval(n.typeaheadMinLength);y||0===y||(y=1),e.$watch(n.typeaheadMinLength,function(e){y=e||0===e?e:1});var b=e.$eval(n.typeaheadWaitMs)||0,w=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){w=e!==!1});var $,x,S=i(n.typeaheadLoading).assign||angular.noop,E=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},T=i(n.typeaheadOnSelect),k=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),C=i(n.typeaheadNoResults).assign||angular.noop,A=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,P=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),O=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,j=e.$eval(n.typeaheadFocusFirst)!==!1,I=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),N=i(n.typeaheadIsOpen).assign||angular.noop,D=e.$eval(n.typeaheadShowHint)||!1,R=i(n.ngModel),L=i(n.ngModel+"($$$p)"),M=function(t,n){return angular.isFunction(R(e))&&h&&h.$options&&h.$options.getterSetter?L(t,{$$$p:n}):R.assign(t,n)},F=d.parse(n.uibTypeahead),z=e.$new(),U=e.$on("$destroy",function(){z.$destroy()});z.$on("$destroy",U);var B="typeahead-"+z.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":B});var W,V;D&&(W=angular.element("<div></div>"),W.css("position","relative"),t.after(W),V=t.clone(),V.attr("placeholder",""),V.attr("tabindex","-1"),V.val(""),V.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),V.attr("id")&&V.removeAttr("id"),W.append(V),V.after(t));var q=angular.element("<div uib-typeahead-popup></div>");q.attr({id:B,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&q.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&q.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var G=function(){D&&V.val("")},H=function(){z.matches=[],z.activeIdx=-1,t.attr("aria-expanded",!1),G()},Y=function(e){return B+"-option-"+e};z.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",Y(e))});var K=function(e,t){return!!(z.matches.length>t&&e)&&e.toUpperCase()===z.matches[t].label.toUpperCase()},J=function(n,r){var i={$viewValue:n};S(e,!0),C(e,!1),a.when(F.source(e,i)).then(function(a){var o=n===g.$viewValue;if(o&&$)if(a&&a.length>0){z.activeIdx=j?0:-1,C(e,!1),z.matches.length=0;for(var s=0;s<a.length;s++)i[F.itemName]=a[s],z.matches.push({id:Y(s),label:F.viewMapper(z,i),model:a[s]});if(z.query=n,m(),t.attr("aria-expanded",!0),I&&1===z.matches.length&&K(n,0)&&(angular.isNumber(z.debounceUpdate)||angular.isObject(z.debounceUpdate)?u(function(){z.select(0,r)},angular.isNumber(z.debounceUpdate)?z.debounceUpdate:z.debounceUpdate["default"]):z.select(0,r)),D){var l=z.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?V.val(n+l.slice(n.length)):V.val("")}}else H(),C(e,!0);o&&S(e,!1)},function(){H(),S(e,!1),C(e,!0)})};P&&(angular.element(l).on("resize",f),s.find("body").on("scroll",f));var X=u(function(){z.matches.length&&m(),z.moveInProgress=!1},_);z.moveInProgress=!1,z.query=void 0;var Z,Q=function(e){Z=o(function(){J(e)},b)},ee=function(){Z&&o.cancel(Z)};H(),z.assignIsOpen=function(t){N(e,t)},z.select=function(r,i){var a,s,l={};x=!0,l[F.itemName]=s=z.matches[r].model,a=F.modelMapper(e,l),M(e,a),g.$setValidity("editable",!0),g.$setValidity("parse",!0),T(e,{$item:s,$model:a,$label:F.viewMapper(e,l),$event:i}),H(),z.$eval(n.typeaheadFocusOnSelect)!==!1&&o(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==z.matches.length&&v.indexOf(t.which)!==-1){var n=E(e,{$event:t});if(z.activeIdx===-1&&n||9===t.which&&t.shiftKey)return H(),void z.$digest();t.preventDefault();var r;switch(t.which){case 27:t.stopPropagation(),H(),e.$digest();break;case 38:z.activeIdx=(z.activeIdx>0?z.activeIdx:z.matches.length)-1,z.$digest(),r=q[0].querySelectorAll(".uib-typeahead-match")[z.activeIdx],r.parentNode.scrollTop=r.offsetTop;break;case 40:z.activeIdx=(z.activeIdx+1)%z.matches.length,z.$digest(),r=q[0].querySelectorAll(".uib-typeahead-match")[z.activeIdx],r.parentNode.scrollTop=r.offsetTop;break;default:n&&z.$apply(function(){angular.isNumber(z.debounceUpdate)||angular.isObject(z.debounceUpdate)?u(function(){z.select(z.activeIdx,t)},angular.isNumber(z.debounceUpdate)?z.debounceUpdate:z.debounceUpdate["default"]):z.select(z.activeIdx,t)})}}}),t.bind("focus",function(e){$=!0,0!==y||g.$viewValue||o(function(){J(g.$viewValue,e)},0)}),t.bind("blur",function(e){k&&z.matches.length&&z.activeIdx!==-1&&!x&&(x=!0,z.$apply(function(){angular.isObject(z.debounceUpdate)&&angular.isNumber(z.debounceUpdate.blur)?u(function(){z.select(z.activeIdx,e)},z.debounceUpdate.blur):z.select(z.activeIdx,e)})),!w&&g.$error.editable&&(g.$setViewValue(),z.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),$=!1,x=!1});var te=function(n){t[0]!==n.target&&3!==n.which&&0!==z.matches.length&&(H(),c.$$phase||e.$digest())};s.on("click",te),e.$on("$destroy",function(){s.off("click",te),(P||O)&&ne.remove(),P&&(angular.element(l).off("resize",f),s.find("body").off("scroll",f)),q.remove(),D&&W.remove()});var ne=r(q)(z);P?s.find("body").append(ne):O?angular.element(O).eq(0).append(ne):t.after(ne),this.init=function(t,n){g=t,h=n,z.debounceUpdate=g.$options&&i(g.$options.debounce)(e),g.$parsers.unshift(function(t){return $=!0,0===y||t&&t.length>=y?b>0?(ee(),Q(t)):J(t):(S(e,!1),ee(),H()),w?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,r,i={};return w||g.$setValidity("editable",!0),A?(i.$model=t,A(e,i)):(i[F.itemName]=t,n=F.viewMapper(e,i),i[F.itemName]=void 0,r=F.viewMapper(e,i),n!==r?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,r){r[2].init(r[0],r[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,r){t.templateUrl=r.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,r){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:n,evt:r})},angular.isNumber(i)?i:i["default"]):t.select({activeIdx:n,evt:r})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,a){var o=n(a.templateUrl)(r.$parent)||"uib/template/typeahead/typeahead-match.html";e(o).then(function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(r)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,o){return!a&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(r(o),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,a=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,a)},n)}}}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,a,o,s,l,c,u,p,d){function f(e){if(27===e.which){var t=m.top();t&&(t.value.close(),t=null)}}var m=d.createNew();return s.on("keyup",f),u.$on("$destroy",function(){s.off("keyup",f)}),function(i,u,d,f){function g(e){var t=(e||f.trigger||d).split(" "),r=t.map(function(e){return n[e]||e});return{show:t,hide:r}}f=angular.extend({},t,r,f);var h=e(i),v=c.startSymbol(),_=c.endSymbol(),y="<div "+h+'-popup uib-title="'+v+"title"+_+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+_+'" ')+'origin-scope="origScope" class="uib-position-measure '+u+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=a(y);return function(e,t,r,a){function c(){F.isOpen?h():d()}function d(){M&&!e.$eval(r[u+"Enable"])||(b(),x(),F.popupDelay?j||(j=o(v,F.popupDelay,!1)):v())}function h(){_(),F.popupCloseDelay?I||(I=o(y,F.popupCloseDelay,!1)):y()}function v(){return _(),b(),F.content?(w(),void F.$evalAsync(function(){F.isOpen=!0,S(!0),V()})):angular.noop}function _(){j&&(o.cancel(j),j=null),N&&(o.cancel(N),N=null)}function y(){F&&F.$evalAsync(function(){F&&(F.isOpen=!1,S(!1),F.animation?O||(O=o($,150,!1)):$())})}function b(){I&&(o.cancel(I),I=null),O&&(o.cancel(O),O=null)}function w(){A||(P=F.$new(),A=n(P,function(e){R?s.find("body").append(e):t.after(e)}),m.add(F,{close:y}),E())}function $(){_(),b(),T(),A&&(A.remove(),A=null),m.remove(F),P&&(P.$destroy(),P=null)}function x(){F.title=r[u+"Title"],B?F.content=B(e):F.content=r[i],F.popupClass=r[u+"Class"],F.placement=angular.isDefined(r[u+"Placement"])?r[u+"Placement"]:f.placement;var t=l.parsePlacement(F.placement);D=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(r[u+"PopupDelay"],10),a=parseInt(r[u+"PopupCloseDelay"],10);F.popupDelay=isNaN(n)?f.popupDelay:n,F.popupCloseDelay=isNaN(a)?f.popupCloseDelay:a}function S(t){U&&angular.isFunction(U.assign)&&U.assign(e,t)}function E(){W.length=0,B?(W.push(e.$watch(B,function(e){F.content=e,!e&&F.isOpen&&y()})),W.push(P.$watch(function(){z||(z=!0,P.$$postDigest(function(){z=!1,F&&F.isOpen&&V()}))}))):W.push(r.$observe(i,function(e){F.content=e,!e&&F.isOpen?y():V()})),W.push(r.$observe(u+"Title",function(e){F.title=e,F.isOpen&&V()})),W.push(r.$observe(u+"Placement",function(e){F.placement=e?e:f.placement,F.isOpen&&V()}))}function T(){W.length&&(angular.forEach(W,function(e){e()}),W.length=0)}function k(e){F&&F.isOpen&&A&&(t[0].contains(e.target)||A[0].contains(e.target)||h())}function C(){var n=[],i=[],a=e.$eval(r[u+"Trigger"]);q(),angular.isObject(a)?(Object.keys(a).forEach(function(e){n.push(e),i.push(a[e])}),L={show:n,hide:i}):L=g(a),"none"!==L.show&&L.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",c),s.on("click",k)):e===L.hide[n]?t.on(e,c):e&&(t.on(e,d),t.on(L.hide[n],h)),t.on("keypress",function(e){27===e.which&&h()})})}var A,P,O,j,I,N,D,R=!!angular.isDefined(f.appendToBody)&&f.appendToBody,L=g(void 0),M=angular.isDefined(r[u+"Enable"]),F=e.$new(!0),z=!1,U=!!angular.isDefined(r[u+"IsOpen"])&&p(r[u+"IsOpen"]),B=!!f.useContentExp&&p(r[i]),W=[],V=function(){A&&A.html()&&(N||(N=o(function(){var e=l.positionElements(t,A,F.placement,R),n=angular.isDefined(A.offsetHeight)?A.offsetHeight:A.prop("offsetHeight"),r=R?l.offset(t):l.position(t);A.css({top:e.top+"px",left:e.left+"px"});var i=e.placement.split("-");A.hasClass(i[0])||(A.removeClass(D.split("-")[0]),A.addClass(i[0])),A.hasClass(f.placementClassPrefix+e.placement)||(A.removeClass(f.placementClassPrefix+D),A.addClass(f.placementClassPrefix+e.placement)),o(function(){var e=angular.isDefined(A.offsetHeight)?A.offsetHeight:A.prop("offsetHeight"),t=l.adjustTop(i,r,n,e);t&&A.css(t)},0,!1),A.hasClass("uib-position-measure")?(l.positionArrow(A,e.placement),A.removeClass("uib-position-measure")):D!==e.placement&&l.positionArrow(A,e.placement),D=e.placement,N=null},0,!1)))};F.origScope=e,F.isOpen=!1,F.contentExp=function(){return F.content},r.$observe("disabled",function(e){e&&_(),e&&F.isOpen&&y()}),U&&e.$watch(U,function(e){F&&!e===F.isOpen&&c()});var q=function(){L.show.forEach(function(e){"outsideClick"===e?t.off("click",c):(t.off(e,d),t.off(e,c))}),L.hide.forEach(function(e){"outsideClick"===e?s.off("click",k):t.off(e,h)})};C();var G=e.$eval(r[u+"Animation"]);F.animation=angular.isDefined(G)?!!G:f.animation;var H,Y=u+"AppendToBody";H=Y in r&&void 0===r[Y]||e.$eval(r[Y]),R=angular.isDefined(H)?H:R,e.$on("$destroy",function(){q(),$(),F=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,a,o){var s,l,c,u=i.$eval(o.tooltipTemplateTranscludeScope),p=0,d=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};i.$watch(t.parseAsResourceUrl(o.uibTooltipTemplateTransclude),function(t){var o=++p;t?(r(t,!0).then(function(r){if(o===p){var i=u.$new(),l=r,f=n(l)(i,function(t){d(),e.enter(t,a)});s=i,c=f,s.$emit("$includeContentLoaded",t)}},function(){o===p&&(d(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):d()}),i.$on("$destroy",d)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,r){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(r.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return D(new(D(function(){},{prototype:e})),t)}function i(e){return N(arguments,function(t){t!==e&&N(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function a(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function o(e){if(Object.keys)return Object.keys(e);
var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=r<0?Math.ceil(r):Math.floor(r),r<0&&(r+=n);r<n;r++)if(r in e&&e[r]===t)return r;return-1}function l(e,t,n,r){var i,l=a(n,r),c={},u=[];for(var p in l)if(l[p].params&&(i=o(l[p].params),i.length))for(var d in i)s(u,i[d])>=0||(u.push(i[d]),c[i[d]]=e[i[d]]);return D({},c,t)}function c(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var a=n[i];if(e[a]!=t[a])return!1}return!0}function u(e,t){var n={};return N(e,function(e){n[e]=t[e]}),n}function p(e,t){var r=1,a=2,o={},s=[],l=o,c=D(e.when(o),{$$promises:o,$$values:o});this.study=function(o){function u(e,n){if(m[n]!==a){if(f.push(n),m[n]===r)throw f.splice(0,f.indexOf(n)),new Error("Cyclic dependency: "+f.join(" -> "));if(m[n]=r,O(e))d.push(n,[function(){return t.get(e)}],s);else{var i=t.annotate(e);N(i,function(e){e!==n&&o.hasOwnProperty(e)&&u(o[e],e)}),d.push(n,e,i)}f.pop(),m[n]=a}}function p(e){return j(e)&&e.then&&e.$$promises}if(!j(o))throw new Error("'invocables' must be an object");var d=[],f=[],m={};return N(o,u),o=f=m=null,function(r,a,o){function s(){--_||(y||i(v,a.$$values),g.$$values=v,g.$$promises=!0,delete g.$$inheritedValues,m.resolve(v))}function u(e){g.$$failure=e,m.reject(e)}function f(n,i,a){function l(e){p.reject(e),u(e)}function c(){if(!A(g.$$failure))try{p.resolve(t.invoke(i,o,v)),p.promise.then(function(e){v[n]=e,s()},l)}catch(e){l(e)}}var p=e.defer(),d=0;N(a,function(e){h.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(d++,h[e].then(function(t){v[e]=t,--d||c()},l))}),d||c(),h[n]=p.promise}if(p(r)&&o===n&&(o=a,a=r,r=null),r){if(!j(r))throw new Error("'locals' must be an object")}else r=l;if(a){if(!p(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=c;var m=e.defer(),g=m.promise,h=g.$$promises={},v=D({},r),_=1+d.length/3,y=!1;if(A(a.$$failure))return u(a.$$failure),g;a.$$inheritedValues&&i(v,a.$$inheritedValues),a.$$values?(y=i(v,a.$$values),g.$$inheritedValues=a.$$values,s()):(a.$$inheritedValues&&(g.$$inheritedValues=a.$$inheritedValues),D(h,a.$$promises),a.then(s,u));for(var b=0,w=d.length;b<w;b+=3)r.hasOwnProperty(d[b])?s():f(d[b],d[b+1],d[b+2]);return g}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function d(e,t,n){this.fromConfig=function(e,t,n){return A(e.template)?this.fromString(e.template,t):A(e.templateUrl)?this.fromUrl(e.templateUrl,t):A(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return P(e)?e(t):e},this.fromUrl=function(n,r){return P(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function f(e,r){function i(e){return A(e)?this.type.decode(e):g.$$getDefaultValue(this)}function a(t,n,r){if(!/^\w+(-+\w+)*$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(f[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");f[t]=D({type:n||new m,$value:i},r)}function o(e,t,n){var r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;var i=n?"?":"";return r+i+"("+t+")"+i}function s(e){if(!r.params||!r.params[e])return{};var t=r.params[e];return j(t)?t:{value:t}}r=t.isObject(r)?r:{};var l,c=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u="^",p=0,d=this.segments=[],f=this.params={};this.source=e;for(var h,v,_,y,b;(l=c.exec(e))&&(h=l[2]||l[3],v=l[4]||("*"==l[1]?".*":"[^/]*"),_=e.substring(p,l.index),y=this.$types[v]||new m({pattern:new RegExp(v)}),b=s(h),!(_.indexOf("?")>=0));)u+=o(_,y.$subPattern(),A(b.value)),a(h,y,b),d.push(_),p=c.lastIndex;_=e.substring(p);var w=_.indexOf("?");if(w>=0){var $=this.sourceSearch=_.substring(w);_=_.substring(0,w),this.sourcePath=e.substring(0,p+w),N($.substring(1).split(/[&?]/),function(e){a(e,null,s(e))})}else this.sourcePath=e,this.sourceSearch="";u+=o(_)+(r.strict===!1?"/?":"")+"$",d.push(_),this.regexp=new RegExp(u,r.caseInsensitive?"i":n),this.prefix=d[0]}function m(e){D(this,e)}function g(){function e(){return{strict:a,caseInsensitive:i}}function t(e){return P(e)||I(e)&&P(e[e.length-1])}function n(){N(s,function(e){if(f.prototype.$types[e.name])throw new Error("A type named '"+e.name+"' has already been defined.");var n=new m(t(e.def)?r.invoke(e.def):e.def);f.prototype.$types[e.name]=n})}var r,i=!1,a=!0,o=!0,s=[],l={"int":{decode:function(e){return parseInt(e,10)},is:function(e){return!!A(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},string:{pattern:/[^\/]*/},date:{equals:function(e,t){return e.toISOString()===t.toISOString()},decode:function(e){return new Date(e)},encode:function(e){return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/}};g.$$getDefaultValue=function(e){if(!t(e.value))return e.value;if(!r)throw new Error("Injectable functions cannot be called at configuration time");return r.invoke(e.value)},this.caseInsensitive=function(e){i=e},this.strictMode=function(e){a=e},this.compile=function(t,n){return new f(t,D(e(),n))},this.isMatcher=function(e){if(!j(e))return!1;var t=!0;return N(f.prototype,function(n,r){P(n)&&(t=t&&A(e[r])&&P(e[r]))}),t},this.type=function(e,t){return A(t)?(s.push({name:e,def:t}),o||n(),this):f.prototype.$types[e]},this.$get=["$injector",function(e){return r=e,o=!1,f.prototype.$types={},n(),N(l,function(e,t){f.prototype.$types[t]||(f.prototype.$types[t]=new m(e))}),this}]}function h(e,t){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function i(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!A(r)||r}function o(t,n,r,i){function a(e,t,n){return"/"===d?e:t?d.slice(0,-1)+e:n?d.slice(1)+e:e}function o(e){function n(e){var n=e(r,t);return!!n&&(O(n)&&t.replace().url(n),!0)}if(!e||!e.defaultPrevented){var i,a=l.length;for(i=0;i<a;i++)if(n(l[i]))return;c&&n(c)}}function p(){return s=s||n.$on("$locationChangeSuccess",o)}var d=i.baseHref(),f=t.url();return u||p(),{sync:function(){o()},listen:function(){return p()},update:function(e){return e?void(f=t.url()):void(t.url()!==f&&(t.url(f),t.replace()))},push:function(e,n,r){t.url(e.format(n||{})),r&&r.replace&&t.replace()},href:function(n,r,i){if(!n.validates(r))return null;var o=e.html5Mode(),s=n.format(r);if(i=i||{},o||null===s||(s="#"+e.hashPrefix()+s),s=a(s,o,i.absolute),!i.absolute||!s)return s;var l=!o&&s?"/":"",c=t.port();return c=80===c||443===c?"":":"+c,[t.protocol(),"://",t.host(),c,l,s].join("")}}}var s,l=[],c=null,u=!1;this.rule=function(e){if(!P(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(O(e)){var t=e;e=function(){return t}}else if(!P(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,n){var o,s=O(n);if(O(e)&&(e=t.compile(e)),!s&&!P(n)&&!I(n))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,n){return s&&(o=t.compile(n),n=["$match",function(e){return o.format(e)}]),D(function(t,r){return a(t,n,e.exec(r.path(),r.search()))},{prefix:O(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(o=t,t=["$match",function(e){return i(o,e)}]),D(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:r(e)})}},c={matcher:t.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,n));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),u=e},this.$get=o,o.$inject=["$location","$rootScope","$injector","$browser"]}function v(e,i){function a(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function s(e,t){if(!e)return n;var r=O(e),i=r?e:e.name,o=a(i);if(o){if(!t)throw new Error("No reference point given for path '"+i+"'");for(var s=i.split("."),l=0,c=s.length,u=t;l<c;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!u.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(l).join("."),i=u.name+(u.name&&s?".":"")+s}var p=w[i];return!p||!r&&(r||p!==e&&p.self!==e)?n:p}function p(e,t){$[e]||($[e]=[]),$[e].push(t)}function d(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!O(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(w.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):O(t.parent)?t.parent:"";if(i&&!w[i])return p(i,t.self);for(var a in S)P(S[a])&&(t[a]=S[a](t,S.$delegates[a]));if(w[n]=t,!t[x]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){b.$current.navigable==t&&c(e,n)||b.transitionTo(t,e,{location:!1})}]),$[n])for(var o=0;o<$[n].length;o++)d($[n][o]);return t}function f(e){return e.indexOf("*")>-1}function m(e){var t=e.split("."),n=b.$current.name.split(".");if("**"===t[0]&&(n=n.slice(n.indexOf(t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(n.indexOf(t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var r=0,i=t.length;r<i;r++)"*"===t[r]&&(n[r]="*");return n.join("")===t.join("")}function g(e,t){return O(e)&&!A(t)?S[e]:P(t)&&O(e)?(S[e]&&!S.$delegates[e]&&(S.$delegates[e]=S[e]),S[e]=t,this):this}function h(e,t){return j(e)?t=e:t.name=e,d(t),this}function v(e,i,a,p,d,g,h){function v(t,n,r,a){var o=e.$broadcast("$stateNotFound",t,n,r);if(o.defaultPrevented)return h.update(),T;if(!o.retry)return null;if(a.$retry)return h.update(),k;var s=b.transition=i.when(o.retry);return s.then(function(){return s!==b.transition?S:(t.options.$retry=!0,b.transitionTo(t.to,t.toParams,t.options))},function(){return T}),h.update(),s}function $(e,n,r,s,l){var c=r?n:u(o(e.params),n),f={$stateParams:c};l.resolve=d.resolve(e.resolve,f,l.resolve,e);var m=[l.resolve.then(function(e){l.globals=e})];return s&&m.push(s),N(e.views,function(n,r){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return a.load(r,{view:n,locals:f,params:c})||""}],m.push(d.resolve(i,f,l.resolve,e).then(function(a){if(P(n.controllerProvider)||I(n.controllerProvider)){var o=t.extend({},i,f);a.$$controller=p.invoke(n.controllerProvider,null,o)}else a.$$controller=n.controller;a.$$state=e,a.$$controllerAs=n.controllerAs,l[r]=a}))}),i.all(m).then(function(e){return l})}var S=i.reject(new Error("transition superseded")),E=i.reject(new Error("transition prevented")),T=i.reject(new Error("transition aborted")),k=i.reject(new Error("transition failed"));return y.locals={resolve:null,globals:{$stateParams:{}}},b={params:{},current:y.self,$current:y,transition:null},b.reload=function(){b.transitionTo(b.current,g,{reload:!0,inherit:!1,notify:!1})},b.go=function(e,t,n){return b.transitionTo(e,t,D({inherit:!0,relative:b.$current},n))},b.transitionTo=function(t,n,a){n=n||{},a=D({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var d,f=b.$current,m=b.params,w=f.path,T=s(t,a.relative);if(!A(T)){var k={to:t,toParams:n,options:a},C=v(k,f.self,m,a);if(C)return C;if(t=k.to,n=k.toParams,a=k.options,T=s(t,a.relative),!A(T)){if(!a.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+a.relative+"'")}}if(T[x])throw new Error("Cannot transition to abstract state '"+t+"'");a.inherit&&(n=l(g,n||{},b.$current,T)),t=T;var P=t.path,O=0,j=P[O],I=y.locals,N=[];if(!a.reload)for(;j&&j===w[O]&&c(n,m,j.ownParams);)I=N[O]=j.locals,O++,j=P[O];if(_(t,f,I,a))return t.self.reloadOnSearch!==!1&&h.update(),b.transition=null,i.when(b.current);if(n=u(o(t.params),n||{}),a.notify&&e.$broadcast("$stateChangeStart",t.self,n,f.self,m).defaultPrevented)return h.update(),E;for(var L=i.when(I),M=O;M<P.length;M++,j=P[M])I=N[M]=r(I),L=$(j,n,j===t,L,I);var F=b.transition=L.then(function(){var r,i,o;if(b.transition!==F)return S;for(r=w.length-1;r>=O;r--)o=w[r],o.self.onExit&&p.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=O;r<P.length;r++)i=P[r],i.locals=N[r],i.self.onEnter&&p.invoke(i.self.onEnter,i.self,i.locals.globals);return b.transition!==F?S:(b.$current=t,b.current=t.self,b.params=n,R(b.params,g),b.transition=null,a.location&&t.navigable&&h.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{replace:"replace"===a.location}),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,f.self,m),h.update(!0),b.current)},function(r){return b.transition!==F?S:(b.transition=null,d=e.$broadcast("$stateChangeError",t.self,n,f.self,m,r),d.defaultPrevented||h.update(),i.reject(r))});return F},b.is=function(e,r){var i=s(e);return A(i)?b.$current===i&&(!A(r)||null===r||t.equals(g,r)):n},b.includes=function(e,t){if(O(e)&&f(e)){if(!m(e))return!1;e=b.$current.name}var r=s(e);return A(r)?!!A(b.$current.includes[r.name])&&c(t,g):n},b.href=function(e,t,n){n=D({lossy:!0,inherit:!0,absolute:!1,relative:b.$current},n||{});var r=s(e,n.relative);if(!A(r))return null;n.inherit&&(t=l(g,t||{},b.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&i.url?h.href(i.url,u(o(r.params),t||{}),{absolute:n.absolute}):null},b.get=function(e,t){if(0===arguments.length)return o(w).map(function(e){return w[e].self});var n=s(e,t);return n&&n.self?n.self:null},b}function _(e,t,n,r){if(e===t&&(n===t.locals&&!r.reload||e.self.reloadOnSearch===!1))return!0}var y,b,w={},$={},x="abstract",S={parent:function(e){if(A(e.parent)&&e.parent)return s(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?s(t[1]):y},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=D({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(O(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||y).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},params:function(e){return e.params?e.params:e.url?e.url.params:e.parent.params},views:function(e){var t={};return N(A(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n}),t},ownParams:function(e){if(e.params=e.params||{},!e.parent)return o(e.params);var t={};N(e.params,function(e,n){t[n]=!0}),N(e.parent.params,function(n,r){if(!t[r])throw new Error("Missing required parameter '"+r+"' in state '"+e.name+"'");t[r]=!1});var n=[];return N(t,function(e,t){e&&n.push(t)}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?D({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};y=d({name:"",url:"^",views:null,"abstract":!0}),y.navigable=null,this.decorator=g,this.state=h,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter"]}function _(){function e(e,t){return{load:function(n,r){var i,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=D(a,r),r.view&&(i=t.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&e.$broadcast("$viewContentLoading",r),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function y(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function b(e,n,r){function i(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,n){l.enter(e,null,t,n)},leave:function(e,t){l.leave(e,t)}};if(s){var r=s&&s(t,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return n()}var o=i(),s=o("$animator"),l=o("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,i,o){return function(n,i,s){function l(){u&&(u.remove(),u=null),d&&(d.$destroy(),d=null),p&&(h.leave(p,function(){u=null}),u=p,p=null)}function c(a){var c,u=$(s,i.inheritedData("$uiView")),v=u&&e.$current&&e.$current.locals[u];if(a||v!==f){c=n.$new(),f=e.$current.locals[u];var _=o(c,function(e){h.enter(e,i,function(){(t.isDefined(g)&&!g||n.$eval(g))&&r(e)}),l()});p=_,d=c,d.$emit("$viewContentLoaded"),d.$eval(m)}}var u,p,d,f,m=s.onload||"",g=s.autoscroll,h=a(s,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function w(e,t,n){return{restrict:"ECA",priority:-400,compile:function(r){var i=r.html();return function(r,a,o){var s=n.$current,l=$(o,a.inheritedData("$uiView")),c=s&&s.locals[l];if(c){a.data("$uiView",{name:l,state:c.$$state}),a.html(c.$template?c.$template:i);var u=e(a.contents());if(c.$$controller){c.$scope=r;var p=t(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=p),a.data("$ngControllerController",p),a.children().data("$ngControllerController",p)}u(r)}}}}}function $(e,t){var n=e.uiView||e.name||"";return n.indexOf("@")>=0?n:n+"@"+(t?t.state.name:"")}function x(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function S(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function E(e,n){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,a,o,s){var l=x(o.uiSref,e.current.name),c=null,u=S(a)||e.$current,p="FORM"===a[0].nodeName,d=p?"action":"href",f=!0,m={relative:u,inherit:!0},g=i.$eval(o.uiSrefOpts)||{};t.forEach(r,function(e){e in g&&(m[e]=g[e])});var h=function(t){if(t&&(c=t),f){var n=e.href(l.state,c,m),r=s[1]||s[0];return r&&r.$$setStateInfo(l.state,c),null===n?(f=!1,!1):void(a[0][d]=n)}};l.paramExpr&&(i.$watch(l.paramExpr,function(e,t){e!==c&&h(e)},!0),c=i.$eval(l.paramExpr)),h(),p||a.bind("click",function(t){var r=t.which||t.button;if(!(r>1||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var i=n(function(){e.go(l.state,c,m)});t.preventDefault(),t.preventDefault=function(){n.cancel(i)}}})}}}function T(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(r,i,a){function o(){s()?i.addClass(d):i.removeClass(d)}function s(){return"undefined"!=typeof a.uiSrefActiveEq?e.$current.self===u&&l():e.includes(u.name)&&l()}function l(){return!p||c(p,t)}var u,p,d;d=n(a.uiSrefActiveEq||a.uiSrefActive||"",!1)(r),this.$$setStateInfo=function(t,n){u=e.get(t,S(i)),p=n,o()},r.$on("$stateChangeSuccess",o)}]}}function k(e){return function(t){return e.is(t)}}function C(e){return function(t){return e.includes(t)}}var A=t.isDefined,P=t.isFunction,O=t.isString,j=t.isObject,I=t.isArray,N=t.forEach,D=t.extend,R=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",p),d.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",d),f.prototype.concat=function(e,t){return new f(this.sourcePath+e+this.sourceSearch,t)},f.prototype.toString=function(){return this.source},f.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var r,i,a,o=this.parameters(),s=o.length,l=this.segments.length-1,c={};if(l!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;r<l;r++)a=o[r],i=this.params[a],c[a]=i.$value(n[r+1]);for(;r<s;r++)a=o[r],i=this.params[a],c[a]=i.$value(t[a]);return c},f.prototype.parameters=function(e){return A(e)?this.params[e]||null:o(this.params)},f.prototype.validates=function(e){var t,n,r=!0,i=this;return N(e,function(e,a){i.params[a]&&(n=i.params[a],t=!e&&A(n.value),r=r&&(t||n.type.is(e)))}),r},f.prototype.format=function(e){var t=this.segments,n=this.parameters();if(!e)return t.join("").replace("//","/");var r,i,a,o,s,l,c=t.length-1,u=n.length,p=t[0];if(!this.validates(e))return null;for(r=0;r<c;r++)o=n[r],a=e[o],s=this.params[o],(A(a)||"/"!==t[r]&&"/"!==t[r+1])&&(null!=a&&(p+=encodeURIComponent(s.type.encode(a))),p+=t[r+1]);for(;r<u;r++)o=n[r],a=e[o],null!=a&&(l=I(a),l&&(a=a.map(encodeURIComponent).join("&"+o+"=")),p+=(i?"&":"?")+o+"="+(l?a:encodeURIComponent(a)),i=!0);return p},f.prototype.$types={},m.prototype.is=function(e,t){return!0},m.prototype.encode=function(e,t){return e},m.prototype.decode=function(e,t){return e},m.prototype.equals=function(e,t){return e==t},m.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},m.prototype.pattern=/.*/,t.module("ui.router.util").provider("$urlMatcherFactory",g),h.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",h),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",v),_.$inject=[],t.module("ui.router.state").provider("$view",_),t.module("ui.router.state").provider("$uiViewScroll",y),b.$inject=["$state","$injector","$uiViewScroll"],w.$inject=["$compile","$controller","$state"],t.module("ui.router.state").directive("uiView",b),t.module("ui.router.state").directive("uiView",w),E.$inject=["$state","$timeout"],T.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",E).directive("uiSrefActive",T).directive("uiSrefActiveEq",T),k.$inject=["$state"],C.$inject=["$state"],t.module("ui.router.state").filter("isState",k).filter("includedByState",C)}(window,window.angular);var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy;I18nUrlMatcher.prototype.format=function(e){return this.values=angular.extend({},e),e.locale==this.rootLocale&&delete e.locale,this.urlMatchers[this.values.locale]?this.urlMatchers[this.values.locale].format(e):null},I18nUrlMatcher.prototype.concat=function(e){return this.urlMatchers[this.values.locale]?this.urlMatchers[this.values.locale].concat(e):null},I18nUrlMatcher.prototype.validates=function(e){return e.locale&&this.urlMatchers[e.locale].validates(e)},I18nUrlMatcher.prototype.exec=function(e,t){var n;return Object.keys(this.urlMatchers).some(function(r){var i=this.urlMatchers[r].exec(e,t)||{};if(this.rootLocale&&i.hasOwnProperty("rootLocale")&&(i.locale=this.rootLocale),i.locale==r)return n=i,!0},this),n},I18nUrlMatcher.prototype.parameters=function(){return this.params},I18nUrlMatcher.prototype.toString=function(){return this.source},angular.module("ui.router.util").provider("$i18nUrlMatcherFactory",["$urlMatcherFactoryProvider",$I18nUrlMatcherFactory]),function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),r=function(){var r=e.preferredLanguage();angular.isString(r)?e.use(r):n.put(t,e.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](r):r():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n,r=null,i=!1,a=!1;n={sanitize:function(e,t){return"text"===t&&(e=s(e)),e},escape:function(e,t){return"text"===t&&(e=o(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=c(e,s)),e},escapeParameters:function(e,t){return"params"===t&&(e=c(e,o)),e},sce:function(e,t,n){return"text"===t?e=l(e):"params"===t&&"filter"!==n&&(e=c(e,o)),e},sceParameters:function(e,t){return"params"===t&&(e=c(e,l)),e}},n.escaped=n.escapeParameters,this.addStrategy=function(e,t){return n[e]=t,this},this.removeStrategy=function(e){return delete n[e],this},this.useStrategy=function(e){return i=!0,r=e,this},this.$get=["$injector","$log",function(o,s){var l={},c=function(e,t,r,i){return angular.forEach(i,function(i){if(angular.isFunction(i))e=i(e,t,r);else if(angular.isFunction(n[i]))e=n[i](e,t,r);else{if(!angular.isString(n[i]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'");if(!l[n[i]])try{l[n[i]]=o.get(n[i])}catch(a){throw l[n[i]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+i+"'")}e=l[n[i]](e,t,r)}}),e},u=function(){i||a||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),a=!0)};return o.has("$sanitize")&&(e=o.get("$sanitize")),o.has("$sce")&&(t=o.get("$sce")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,n,i){if(r||u(),n||null===n||(n=r),!n)return e;i||(i="service");var a=angular.isArray(n)?n:[n];return c(e,t,i,a)}}}];var o=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},s=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},l=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return t.trustAsHtml(e)},c=function(e,t,n){if(angular.isDate(e))return e;if(angular.isObject(e)){var r=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,i){angular.isFunction(e)||(r[i]=c(e,t,n))}),n.splice(-1,1),r}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,r){"use strict";var i,a,o,s,l,c,u,p,d,f,m,g,h,v,_,y,b={},w=[],$=e,x=[],S="translate-cloak",E=!1,T=!1,k=".",C=!1,A=!1,P=0,O=!0,j="default",I={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t},"iso639-1":function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n[0].toLowerCase()}},N="2.12.1",D=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var e,n,i=t.$get().navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(e=0;e<i.languages.length;e++)if(n=i.languages[e],n&&n.length)return n;for(e=0;e<a.length;e++)if(n=i[a[e]],n&&n.length)return n;return null};D.displayName="angular-translate/service: getFirstBrowserLanguage";var R=function(){var e=D()||"";return I[j]&&(e=I[j](e)),e};R.displayName="angular-translate/service: getLocale";var L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M=function(){return this.toString().replace(/^\s+|\s+$/g,"")},F=function(e){if(e){for(var t=[],n=angular.lowercase(e),r=0,i=w.length;r<i;r++)t.push(angular.lowercase(w[r]));if(L(t,n)>-1)return e;if(a){var o;for(var s in a)if(a.hasOwnProperty(s)){var l=!1,c=Object.prototype.hasOwnProperty.call(a,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(o=a[s],L(t,angular.lowercase(o))>-1))return o}}var u=e.split("_");return u.length>1&&L(t,angular.lowercase(u[0]))>-1?u[0]:void 0}},z=function(e,t){if(!e&&!t)return b;if(e&&!t){if(angular.isString(e))return b[e]}else angular.isObject(b[e])||(b[e]={}),angular.extend(b[e],U(t));return this};this.translations=z,this.cloakClassName=function(e){return e?(S=e,this):S},this.nestedObjectDelimeter=function(e){return e?(k=e,this):k};var U=function(e,t,n,r){var i,a,o,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?U(s,t.concat(i),n,i):(a=t.length?""+t.join(k)+k+i:i,t.length&&i===r&&(o=""+t.join(k),n[o]="@:"+a),n[a]=s));return n};U.displayName="flatObject",this.addInterpolation=function(e){return x.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return f=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(B(e),this):i};var B=function(e){return e&&(i=e),i};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(h=e,this):h},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return W(e),this};var W=function(e){return e?(angular.isString(e)?(s=!0,o=[e]):angular.isArray(e)&&(s=!1,o=e),angular.isString(i)&&L(o,i)<0&&o.push(i),this):s?o[0]:o};this.use=function(e){if(e){if(!b[e]&&!m)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l},this.resolveClientLocale=function(){return R()};var V=function(e){return e?($=e,this):p?p+$:$};this.storageKey=V,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return m=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(p=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return d=e,this},this.usePostCompiling=function(e){return E=!!e,this},this.forceAsyncReload=function(e){return T=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},j=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():R();return i=w.length?F(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(w=e,t&&(a=t),this):w},this.useLoaderCache=function(e){return e===!1?_=void 0:e===!0?_=!0:"undefined"==typeof e?_="$translationCache":e&&(_=e),this},this.directivePriority=function(e){return void 0===e?P:(P=e,this)},this.statefulFilter=function(e){return void 0===e?O:(O=e,this)},this.postProcess=function(e){return y=e?e:void 0,this},this.keepContent=function(e){return A=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,r){var a,p,j,I=t.get(f||"$translateDefaultInterpolation"),D=!1,q={},G={},H=function(e,t,n,s,c){!l&&i&&(l=i);var d=c&&c!==l?F(c)||c:l;if(c&&ue(c),angular.isArray(e)){var f=function(e){for(var i={},a=[],o=function(e){var a=r.defer(),o=function(t){i[e]=t,a.resolve([e,t])};return H(e,t,n,s,c).then(o,o),a.promise},l=0,u=e.length;l<u;l++)a.push(o(e[l]));return r.all(a).then(function(){return i})};return f(e)}var m=r.defer();e&&(e=M.apply(e));var g=function(){var e=i?G[i]:G[d];if(p=0,u&&!e){var t=a.get($);if(e=G[t],o&&o.length){var n=L(o,t);p=0===n?1:0,L(o,i)<0&&o.push(i)}}return e}();if(g){var h=function(){c||(d=l),oe(e,t,n,s,d).then(m.resolve,m.reject);
};h.displayName="promiseResolved",g["finally"](h)}else oe(e,t,n,s,d).then(m.resolve,m.reject);return m.promise},Y=function(e){return h&&(e=[h,e].join(" ")),v&&(e=[e,v].join(" ")),e},K=function(e){l=e,u&&a.put(H.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),I.setLocale(l);var t=function(e,t){q[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(q,t),n.$emit("$translateChangeEnd",{language:e})},J=function(e){if(!e)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:e}),D=!0;var a=_;"string"==typeof a&&(a=t.get(a));var o=angular.extend({},g,{key:e,$http:angular.extend({},{cache:a},g.$http)}),s=function(t){var r={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(r,U(e))}):angular.extend(r,U(t)),D=!1,i.resolve({key:e,table:r}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),i.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(m)(o).then(s,l),i.promise};if(u&&(a=t.get(u),!a.get||!a.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(x.length){var X=function(e){var n=t.get(e);n.setLocale(i||l),q[n.getInterpolationIdentifier()]=n};X.displayName="interpolationFactoryAdder",angular.forEach(x,X)}var Z=function(e){var t=r.defer();if(Object.prototype.hasOwnProperty.call(b,e))t.resolve(b[e]);else if(G[e]){var n=function(e){z(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",G[e].then(n,t.reject)}else t.reject();return t.promise},Q=function(e,t,n,i){var a=r.defer(),o=function(r){if(Object.prototype.hasOwnProperty.call(r,t)){i.setLocale(e);var o=r[t];if("@:"===o.substr(0,2))Q(e,o.substr(2),n,i).then(a.resolve,a.reject);else{var s=i.interpolate(r[t],n,"service");s=ce(t,r[t],s,n,e),a.resolve(s)}i.setLocale(l)}else a.reject()};return o.displayName="fallbackTranslationResolver",Z(e).then(o,a.reject),a.promise},ee=function(e,t,n,r){var i,a=b[e];if(a&&Object.prototype.hasOwnProperty.call(a,t)){if(r.setLocale(e),i=r.interpolate(a[t],n,"filter"),i=ce(t,a[t],i,n,e),"@:"===i.substr(0,2))return ee(e,i.substr(2),n,r);r.setLocale(l)}return i},te=function(e,n,r){if(d){var i=t.get(d)(e,l,n,r);return void 0!==i?i:e}return e},ne=function(e,t,n,i,a){var s=r.defer();if(e<o.length){var l=o[e];Q(l,t,n,i).then(function(e){s.resolve(e)},function(){return ne(e+1,t,n,i,a).then(s.resolve,s.reject)})}else a?s.resolve(a):d?s.resolve(te(t,n)):s.reject(te(t,n));return s.promise},re=function(e,t,n,r){var i;if(e<o.length){var a=o[e];i=ee(a,t,n,r),i||(i=re(e+1,t,n,r))}return i},ie=function(e,t,n,r){return ne(j>0?j:p,e,t,n,r)},ae=function(e,t,n){return re(j>0?j:p,e,t,n)},oe=function(e,t,n,i,a){var s=r.defer(),l=a?b[a]:b,c=n?q[n]:I;if(l&&Object.prototype.hasOwnProperty.call(l,e)){var u=l[e];if("@:"===u.substr(0,2))H(u.substr(2),t,n,i,a).then(s.resolve,s.reject);else{var p=c.interpolate(u,t,"service");p=ce(e,u,p,t,a),s.resolve(p)}}else{var f;d&&!D&&(f=te(e,t,i)),a&&o&&o.length?ie(e,t,c,i).then(function(e){s.resolve(e)},function(e){s.reject(Y(e))}):d&&!D&&f?i?s.resolve(i):s.resolve(f):i?s.resolve(i):s.reject(Y(e))}return s.promise},se=function(e,t,n,r){var i,a=r?b[r]:b,s=I;if(q&&Object.prototype.hasOwnProperty.call(q,n)&&(s=q[n]),a&&Object.prototype.hasOwnProperty.call(a,e)){var l=a[e];"@:"===l.substr(0,2)?i=se(l.substr(2),t,n,r):(i=s.interpolate(l,t,"filter"),i=ce(e,l,i,t,r))}else{var c;d&&!D&&(c=te(e,t)),r&&o&&o.length?(p=0,i=ae(e,t,s)):i=d&&!D&&c?c:Y(e)}return i},le=function(e){c===e&&(c=void 0),G[e]=void 0},ce=function(e,n,r,i,a){var o=y;return o&&("string"==typeof o&&(o=t.get(o)),o)?o(e,n,r,i,a):r},ue=function(e){b[e]||!m||G[e]||(G[e]=J(e).then(function(e){return z(e.key,e.table),e}))};H.preferredLanguage=function(e){return e&&B(e),i},H.cloakClassName=function(){return S},H.nestedObjectDelimeter=function(){return k},H.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(W(e),m&&o&&o.length)for(var t=0,n=o.length;t<n;t++)G[o[t]]||(G[o[t]]=J(o[t]));H.use(H.use())}return s?o[0]:o},H.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=L(o,e);t>-1&&(j=t)}else j=0},H.proposedLanguage=function(){return c},H.storage=function(){return a},H.negotiateLocale=F,H.use=function(e){if(!e)return l;var t=r.defer();n.$emit("$translateChangeStart",{language:e});var i=F(e);return w.length>0&&!i?r.reject(e):(i&&(e=i),c=e,!T&&b[e]||!m||G[e]?G[e]?G[e].then(function(e){return c===e.key&&K(e.key),t.resolve(e.key),e},function(e){return!l&&o&&o.length>0&&o[0]!==e?H.use(o[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),K(e)):(G[e]=J(e).then(function(n){return z(n.key,n.table),t.resolve(n.key),c===e&&K(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),r.reject(e)}),G[e]["finally"](function(){le(e)})),t.promise)},H.resolveClientLocale=function(){return R()},H.storageKey=function(){return V()},H.isPostCompilingEnabled=function(){return E},H.isForceAsyncReloadEnabled=function(){return T},H.isKeepContent=function(){return A},H.refresh=function(e){function t(){a.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function i(){a.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!m)throw new Error("Couldn't refresh translation table, no loader registered!");var a=r.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(b[e]){var s=function(n){return z(n.key,n.table),e===l&&K(l),t(),n};s.displayName="refreshPostProcessor",J(e).then(s,i)}else i();else{var c=[],u={};if(o&&o.length)for(var p=0,d=o.length;p<d;p++)c.push(J(o[p])),u[o[p]]=!0;l&&!u[l]&&c.push(J(l));var f=function(e){b={},angular.forEach(e,function(e){z(e.key,e.table)}),l&&K(l),t()};f.displayName="refreshPostProcessor",r.all(c).then(f,i)}return a.promise},H.instant=function(e,t,n,r){var a=r&&r!==l?F(r)||r:l;if(null===e||angular.isUndefined(e))return e;if(r&&ue(r),angular.isArray(e)){for(var s={},c=0,u=e.length;c<u;c++)s[e[c]]=H.instant(e[c],t,n,r);return s}if(angular.isString(e)&&e.length<1)return e;e&&(e=M.apply(e));var p,f=[];i&&f.push(i),a&&f.push(a),o&&o.length&&(f=f.concat(o));for(var m=0,g=f.length;m<g;m++){var _=f[m];if(b[_]&&"undefined"!=typeof b[_][e]&&(p=se(e,t,n,a)),"undefined"!=typeof p)break}return p||""===p||(h||v?p=Y(e):(p=I.interpolate(e,t,"filter"),d&&!D&&(p=te(e,t)))),p},H.versionInfo=function(){return N},H.loaderCache=function(){return _},H.directivePriority=function(){return P},H.statefulFilter=function(){return O},H.isReady=function(){return C};var pe=r.defer();pe.promise.then(function(){C=!0}),H.onReady=function(e){var t=r.defer();return angular.isFunction(e)&&t.promise.then(e),C?t.resolve():pe.promise.then(t.resolve),t.promise},H.getAvailableLanguageKeys=function(){return w.length>0?w:null};var de=n.$on("$translateReady",function(){pe.resolve(),de(),de=null}),fe=n.$on("$translateChangeEnd",function(){pe.resolve(),fe(),fe=null});if(m){if(angular.equals(b,{})&&H.use()&&H.use(H.use()),o&&o.length)for(var me=function(e){return z(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},ge=0,he=o.length;ge<he;ge++){var ve=o[ge];!T&&b[ve]||(G[ve]=J(ve).then(me))}}else n.$emit("$translateReady",{language:H.use()});return H}]}function r(e,t){"use strict";var n,r={},i="default";return r.setLocale=function(e){n=e},r.getInterpolationIdentifier=function(){return i},r.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},r.interpolate=function(n,r,i){r=r||{},r=t.sanitize(r,"params",void 0,i);var a;return angular.isNumber(n)?a=""+n:angular.isString(n)?(a=e(n)(r),a=t.sanitize(a,"text",void 0,i)):a="",a},r}function i(e,t,n,r,i){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(s,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,p=s[0].outerHTML.match(/translate-value-+/i),d="^(.*)("+t.startSymbol()+".*"+t.endSymbol()+")(.*)",f="^(.*)"+t.startSymbol()+"(.*)"+t.endSymbol()+"(.*)";return function(s,m,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=a(s);var h={},v=function(e,t,n){if(t.translateValues&&angular.extend(e,r(t.translateValues)(s.$parent)),p)for(var i in n)if(Object.prototype.hasOwnProperty.call(t,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i){var a=angular.lowercase(i.substr(14,1))+i.substr(15);e[a]=n[i]}},_=function(e){if(angular.isFunction(_._unwatchOld)&&(_._unwatchOld(),_._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var n=o.apply(m.text()),r=n.match(d);if(angular.isArray(r)){s.preText=r[1],s.postText=r[3],h.translate=t(r[2])(s.$parent);var i=n.match(f);angular.isArray(i)&&i[2]&&i[2].length&&(_._unwatchOld=s.$watch(i[2],function(e){h.translate=e,S()}))}else h.translate=n?n:void 0}else h.translate=e;S()},y=function(e){g.$observe(e,function(t){h[e]=t,S()})};v(s.interpolateParams,g,l);var b=!0;g.$observe("translate",function(e){"undefined"==typeof e?_(""):""===e&&b||(h.translate=e,S()),b=!1});for(var w in g)g.hasOwnProperty(w)&&"translateAttr"===w.substr(0,13)&&w.length>13&&y(w);if(g.$observe("translateDefault",function(e){s.defaultText=e,S()}),c&&g.$observe("translateValues",function(e){e&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,r(e)(s.$parent))})}),p){var $=function(e){g.$observe(e,function(t){var n=angular.lowercase(e.substr(14,1))+e.substr(15);s.interpolateParams[n]=t})};for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&$(x)}var S=function(){for(var e in h)h.hasOwnProperty(e)&&void 0!==h[e]&&E(e,h[e],s,s.interpolateParams,s.defaultText,s.translateNamespace)},E=function(t,n,r,i,a,o){n?(o&&"."===n.charAt(0)&&(n=o+n),e(n,i,u,a,r.translateLanguage).then(function(e){T(e,r,!0,t)},function(e){T(e,r,!1,t)})):T(n,r,!1,t)},T=function(t,r,i,a){if(i||"undefined"!=typeof r.defaultText&&(t=r.defaultText),"translate"===a){(i||!i&&!e.isKeepContent()&&"undefined"==typeof g.translateKeepContent)&&m.empty().append(r.preText+t+r.postText);var o=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(o&&!s||c)&&n(m.contents())(r)}else{var u=g.$attr[a];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),m.attr(u,t)}};(c||p||g.translateDefault)&&s.$watch("interpolateParams",S,!0),s.$on("translateLanguageChanged",S);var k=i.$on("$translateChangeSuccess",S);m.text().length?_(g.translate?g.translate:""):g.translate&&_(g.translate),S(),s.$on("$destroy",k)}}}}function a(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?a(e.$parent):void 0}function o(e,t){"use strict";return{restrict:"A",priority:e.directivePriority(),link:function(n,r,i){var a,o,l={},c=function(){angular.forEach(a,function(t,a){t&&(l[a]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),e(t,o,i.translateInterpolation,void 0,n.translateLanguage).then(function(e){r.attr(a,e)},function(e){r.attr(a,e)}))}),angular.forEach(l,function(e,t){a[t]||(r.removeAttr(t),delete l[t])})};s(n,i.translateAttr,function(e){a=e},c),s(n,i.translateValues,function(e){o=e},c),i.translateValues&&n.$watch(i.translateValues,c,!0),n.$on("translateLanguageChanged",c);var u=t.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",u)}}}function s(e,t,n,r){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,function(e){n(e),r()},!0),n(e.$eval(t)))}function l(e,t){"use strict";return{compile:function(n){var r=function(){n.addClass(e.cloakClassName())},i=function(){n.removeClass(e.cloakClassName())};return e.onReady(function(){i()}),r(),function(n,a,o){o.translateCloak&&o.translateCloak.length&&(o.$observe("translateCloak",function(t){e(t).then(i,r)}),t.$on("$translateChangeSuccess",function(){e(o.translateCloak).then(i,r)}))}}}}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=a(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function a(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?a(e.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function p(e,t){"use strict";var n=function(n,r,i,a){return angular.isObject(r)||(r=e(r)(this)),t.instant(n,r,i,a)};return t.statefulFilter()&&(n.$stateful=!0),n}function d(e){"use strict";return e("translations")}return e.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],r.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],o.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],p.$inject=["$parse","$translate"],d.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",o),o.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",c),c.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",p),p.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",d),d.displayName="$translationCache","pascalprecht.translate"}),function(e,t){"use strict";function n(){function n(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?l(i[n]):i[n]]=!0;return r}function r(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),_.innerHTML=t;var r=5;do{if(0===r)throw d("uinput","Failed to sanitize html because the input is unstable");r--,e.document.documentMode&&h(_),t=_.innerHTML,_.innerHTML=t}while(t!==_.innerHTML);for(var i=_.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),f(i.attributes));break;case 3:n.chars(i.textContent)}var a;if(!(a=i.firstChild)&&(1==i.nodeType&&n.end(i.nodeName.toLowerCase()),a=i.nextSibling,!a))for(;null==a&&(i=i.parentNode,i!==_);)a=i.nextSibling,1==i.nodeType&&n.end(i.nodeName.toLowerCase());i=a}for(;i=_.firstChild;)_.removeChild(i)}function f(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function m(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=l(e),!n&&C[e]&&(n=e),n||A[e]!==!0||(r("<"),r(e),o(i,function(n,i){var a=l(i),o="img"===e&&"src"===a||"background"===a;I[a]!==!0||P[a]===!0&&!t(n,o)||(r(" "),r(i),r('="'),r(m(n)),r('"'))}),r(">"))},end:function(e){e=l(e),n||A[e]!==!0||w[e]===!0||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(m(e))}}}function h(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var a=n[r],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),r--,i--)}var s=t.firstChild;s&&h(s),s=t.nextSibling,s&&h(s)}var v=!1;this.$get=["$$sanitizeUri",function(e){return v&&a(A,k),function(t){var n=[];return u(t,p(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(v=e,this):v},i=t.bind,a=t.extend,o=t.forEach,s=t.isDefined,l=t.lowercase,c=t.noop,u=r,p=g;var _,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~ |!])/g,w=n("area,br,col,hr,img,wbr"),$=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=n("rp,rt"),S=a({},x,$),E=a({},$,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),T=a({},x,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),k=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=n("script,style"),A=a({},w,E,T,S),P=n("background,cite,href,longdesc,src,xlink:href"),O=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),j=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),I=a({},P,j,O);!function(e){var t;if(!e.document||!e.document.implementation)throw d("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)_=r[0];else{var i=t.createElement("html");_=t.createElement("body"),i.appendChild(_),t.appendChild(i)}}(e)}function r(e){var t=[],n=p(t,c);return n.chars(e),t.join("")}var i,a,o,s,l,c,u,p,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,a=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,p){function d(e){e&&y.push(r(e))}function f(e,t){var n,r=v(e);y.push("<a ");for(n in r)y.push(n+'="'+r[n]+'" ');!o(u)||"target"in r||y.push('target="',u,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),d(t),y.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw a("notstring","Expected string but received: {0}",t);for(var m,g,h,v=s(p)?p:l(p)?function(){return p}:function(){return{}},_=t,y=[];m=_.match(n);)g=m[0],m[2]||m[4]||(g=(m[3]?"http://":"mailto:")+g),h=m.index,d(_.substr(0,h)),f(g,m[0].replace(i,"")),_=_.substring(h+m[0].length);return d(_),e(y.join(""))}}])}(window,window.angular),function(){"use strict";function e(t,r){function i(e,t){return function(){return e.apply(t,arguments)}}var a;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,c=o.length;l<c;l++)s[o[l]]=i(s[o[l]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(a=t.onclick,t.addEventListener("click",function(e){a(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,i=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=r&&/OS [6-7]_\d/.test(navigator.userAgent),o=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(r&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;r&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,a;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],r){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,o,s,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(c=e.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-o>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),r&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return!(!r||i||(l=u.fastClickScrollParent,!l||l.fastClickLastScrollTop===l.scrollTop))||(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,r,i,a;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(a>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),angular.module("isoCurrency.common",[]).factory("iso4217",function(){var e={AFN:{text:"Afghani",fraction:2,symbol:""},EUR:{text:"Euro",fraction:2,symbol:""},ALL:{text:"Lek",fraction:2,symbol:"Lek"},DZD:{text:"Algerian Dinar",fraction:2,symbol:"."},USD:{text:"US Dollar",fraction:2,symbol:"$"},AOA:{text:"Kwanza",fraction:2,symbol:"Kz"},XCD:{text:"East Caribbean Dollar",fraction:2,symbol:"$"},ARS:{text:"Argentine Peso",fraction:2,symbol:"$"},AMD:{text:"Armenian Dram",fraction:2,symbol:!1},AWG:{text:"Aruban Florin",fraction:2,symbol:""},AUD:{text:"Australian Dollar",fraction:2,symbol:"$"},AZN:{text:"Azerbaijani Manat",fraction:2,symbol:""},BSD:{text:"Bahamian Dollar",fraction:2,symbol:"$"},BHD:{text:"Bahraini Dinar",fraction:3,symbol:"BD"},BDT:{text:"Taka",fraction:2,symbol:""},BBD:{text:"Barbados Dollar",fraction:2,symbol:"$"},BYR:{text:"Belarusian Ruble",fraction:0,symbol:"p."},BZD:{text:"Belize Dollar",fraction:2,symbol:"BZ$"},XOF:{text:"CFA Franc BCEAO",fraction:0,symbol:"CFA"},BMD:{text:"Bermudian Dollar",fraction:2,symbol:"$"},BTN:{text:"Ngultrum",fraction:2,symbol:"Nu"},INR:{text:"Indian Rupee",fraction:2,symbol:""},BOB:{text:"Boliviano",fraction:2,symbol:"$b"},BOV:{text:"Mvdol",fraction:2,symbol:"$b"},BAM:{text:"Convertible Mark",fraction:2,symbol:"KM"},BWP:{text:"Pula",fraction:2,symbol:"P"},NOK:{text:"Norwegian Krone",fraction:2,symbol:"kr"},BRL:{text:"Brazilian Real",fraction:2,symbol:"R$"},BND:{text:"Brunei Dollar",fraction:2,symbol:"$"},BGN:{text:"Bulgarian Lev",fraction:2,symbol:""},BIF:{text:"Burundian Franc",fraction:0,symbol:"BIF"},KHR:{text:"Riel",fraction:2,symbol:""},XAF:{text:"CFA Franc BEAC",fraction:0,symbol:!1},CAD:{text:"Canadian Dollar",fraction:2,symbol:"$"},CVE:{text:"Cabo Verde Escudo",fraction:2,symbol:"$"},KYD:{text:"Cayman Islands Dollar",fraction:2,symbol:"$"},CLF:{text:"Unidad de Fomento",fraction:4,symbol:!1},CLP:{text:"Chilean Peso",fraction:0,symbol:"$"},CNY:{text:"Yuan Renminbi",fraction:2,symbol:""},COP:{text:"Colombian Peso",fraction:2,symbol:"$"},COU:{text:"Unidad de Valor Real",fraction:2,symbol:!1},KMF:{text:"Comoro Franc",fraction:0,symbol:!1},CDF:{text:"Congolese Franc",fraction:2,symbol:!1},NZD:{text:"New Zealand Dollar",fraction:2,symbol:"$"},CRC:{text:"Costa Rican Colon",fraction:2,symbol:""},HRK:{text:"Croatian Kuna",fraction:2,symbol:"kn"},CUC:{text:"Peso Convertible",fraction:2,symbol:!1},CUP:{text:"Cuban Peso",fraction:2,symbol:""},ANG:{text:"Netherlands Antillean Guilder",fraction:2,symbol:""},CZK:{text:"Czech Koruna",fraction:2,symbol:"K"},DKK:{text:"Danish Krone",fraction:2,symbol:"kr"},DJF:{text:"Djibouti Franc",fraction:0,symbol:!1},DOP:{text:"Dominican Peso",fraction:2,symbol:"RD$"},EGP:{text:"Egyptian Pound",fraction:2,symbol:""},SVC:{text:"El Salvador Colon",fraction:2,symbol:"$"},ERN:{text:"Nakfa",fraction:2,symbol:!1},ETB:{text:"Ethiopian Birr",fraction:2,symbol:!1},FKP:{text:"Falkland Islands Pound",fraction:2,symbol:""},FJD:{text:"Fiji Dollar",fraction:2,symbol:"$"},XPF:{text:"CFP Franc",fraction:0,symbol:!1},GMD:{text:"Dalasi",fraction:2,symbol:!1},GEL:{text:"Lari",fraction:2,symbol:!1},GHS:{text:"Ghan Cedi",fraction:2,symbol:!1},GIP:{text:"Gibraltar Pound",fraction:2,symbol:""},GTQ:{text:"Quetzal",fraction:2,symbol:"Q"},GBP:{text:"Pound Sterling",fraction:2,symbol:""},GNF:{text:"Guinean Franc",fraction:0,symbol:!1},GYD:{text:"Guyanese Dollar",fraction:2,symbol:"$"},HTG:{text:"Gourde",fraction:2,symbol:!1},HNL:{text:"Lempira",fraction:2,symbol:"L"},HKD:{text:"Hong Kong Dollar",fraction:2,symbol:"$"},HUF:{text:"Forint",fraction:2,symbol:"Ft"},ISK:{text:"Iceland Krona",fraction:0,symbol:"kr"},IDR:{text:"Rupiah",fraction:2,symbol:"Rp"},XDR:{text:"SDR (Special Drawing Right)",fraction:0,symbol:!1},IRR:{text:"Iranian Rial",fraction:2,symbol:""},
IQD:{text:"Iraqi Dinar",fraction:3,symbol:!1},ILS:{text:"New Israeli Sheqel",fraction:2,symbol:""},JMD:{text:"Jamaican Dollar",fraction:2,symbol:"J$"},JPY:{text:"Yen",fraction:0,symbol:""},JOD:{text:"Jordanian Dinar",fraction:3,symbol:!1},KZT:{text:"Tenge",fraction:2,symbol:""},KES:{text:"Kenyan Shilling",fraction:2,symbol:!1},KPW:{text:"North Korean Won",fraction:2,symbol:""},KRW:{text:"Won",fraction:0,symbol:""},KWD:{text:"Kuwaiti Dinar",fraction:3,symbol:!1},KGS:{text:"Som",fraction:2,symbol:"som"},LAK:{text:"Kip",fraction:2,symbol:""},LBP:{text:"Lebanese Pound",fraction:2,symbol:""},LSL:{text:"Loti",fraction:2,symbol:!1},ZAR:{text:"South African Rand",fraction:2,symbol:"R"},LRD:{text:"Liberian Dollar",fraction:2,symbol:"$"},LYD:{text:"Libyan Dinar",fraction:3,symbol:!1},CHF:{text:"Swiss Franc",fraction:2,symbol:"CHF"},LTL:{text:"Lithuanian Litas",fraction:2,symbol:"Lt"},MOP:{text:"Pataca",fraction:2,symbol:!1},MKD:{text:"Denar",fraction:2,symbol:""},MGA:{text:"Malagasy riary",fraction:2,symbol:!1},MWK:{text:"Kwacha",fraction:2,symbol:!1},MYR:{text:"Malaysian Ringgit",fraction:2,symbol:"RM"},MVR:{text:"Rufiyaa",fraction:2,symbol:!1},MRO:{text:"Ouguiya",fraction:2,symbol:!1},MUR:{text:"Mauritius Rupee",fraction:2,symbol:""},XUA:{text:"ADB Unit of account",fraction:0,symbol:!1},MXN:{text:"Mexican Peso",fraction:2,symbol:"$"},MXV:{text:"Mexican Unidad de Inversion (UDI)",fraction:2,symbol:!1},MDL:{text:"Moldovan Leu",fraction:2,symbol:!1},MNT:{text:"Tugrik",fraction:2,symbol:""},MAD:{text:"Moroccan Dirham",fraction:2,symbol:!1},MZN:{text:"Mozambique Metical",fraction:2,symbol:"MT"},MMK:{text:"Kyat",fraction:2,symbol:!1},NAD:{text:"Namibian Dollar",fraction:2,symbol:"$"},NPR:{text:"Nepalese Rupee",fraction:2,symbol:""},NIO:{text:"Cordob Oro",fraction:2,symbol:"C$"},NGN:{text:"Naira",fraction:2,symbol:""},OMR:{text:"Rial Omani",fraction:3,symbol:""},PKR:{text:"Pakistan Rupee",fraction:2,symbol:""},PAB:{text:"Balboa",fraction:2,symbol:"B/."},PGK:{text:"Kina",fraction:2,symbol:"K"},PYG:{text:"Guarani",fraction:0,symbol:"Gs"},PEN:{text:"Nuevo Sol",fraction:2,symbol:"S/"},PHP:{text:"Philippine Peso",fraction:2,symbol:""},PLN:{text:"Zloty",fraction:2,symbol:"z"},QAR:{text:"Qatari Rial",fraction:2,symbol:""},RON:{text:"New Romanian Leu",fraction:2,symbol:"lei"},RUB:{text:"Russian Ruble",fraction:2,symbol:""},RWF:{text:"Rwandan Franc",fraction:0,symbol:"R"},SHP:{text:"Saint Helena Pound",fraction:2,symbol:""},WST:{text:"Tala",fraction:2,symbol:"$"},STD:{text:"Dobra",fraction:2,symbol:!1},SAR:{text:"Saudi Riyal",fraction:2,symbol:""},RSD:{text:"Serbian Dinar",fraction:2,symbol:"."},SCR:{text:"Seychelles Rupee",fraction:2,symbol:""},SLL:{text:"Leone",fraction:2,symbol:"Le"},SGD:{text:"Singapore Dollar",fraction:2,symbol:"$"},XSU:{text:"Sucre",fraction:0,symbol:!1},SBD:{text:"Solomon Islands Dollar",fraction:2,symbol:"$"},SOS:{text:"Somali Shilling",fraction:2,symbol:"S"},SSP:{text:"South Sudanese Pound",fraction:2,symbol:!1},LKR:{text:"Sri Lankan Rupee",fraction:2,symbol:""},SDG:{text:"Sudanese Pound",fraction:2,symbol:!1},SRD:{text:"Surinam Dollar",fraction:2,symbol:"$"},SZL:{text:"Lilangeni",fraction:2,symbol:!1},SEK:{text:"Swedish Krona",fraction:2,symbol:"kr"},CHE:{text:"WIR Euro",fraction:2,symbol:!1},CHW:{text:"WIR Franc",fraction:2,symbol:!1},SYP:{text:"Syrian Pound",fraction:2,symbol:""},TWD:{text:"New Taiwan Dollar",fraction:2,symbol:"NT$"},TJS:{text:"Somoni",fraction:2,symbol:!1},TZS:{text:"Tanzanian Shilling",fraction:2,symbol:!1},THB:{text:"Baht",fraction:2,symbol:""},TOP:{text:"Paanga",fraction:2,symbol:!1},TTD:{text:"Trinidad and Tobago Dollar",fraction:2,symbol:"TT$"},TND:{text:"Tunisian Dinar",fraction:3,symbol:!1},TRY:{text:"Turkish Lira",fraction:2,symbol:""},TMT:{text:"Turkmenistan New Manat",fraction:2,symbol:!1},UGX:{text:"Ugandan Shilling",fraction:0,symbol:!1},UAH:{text:"Hryvnia",fraction:2,symbol:""},AED:{text:"UAE Dirham",fraction:2,symbol:!1},USN:{text:"US Dollar (Next day)",fraction:2,symbol:!1},UYI:{text:"Uruguay Peso en Unidades Indexadas (URUIURUI)",fraction:0,symbol:!1},UYU:{text:"Peso Uruguayo",fraction:2,symbol:"$U"},UZS:{text:"Uzbekistan Sum",fraction:2,symbol:"som"},VUV:{text:"Vatu",fraction:0,symbol:!1},VEF:{text:"Bolivar",fraction:2,symbol:"Bs"},VND:{text:"Dong",fraction:0,symbol:""},YER:{text:"Yemeni Rial",fraction:2,symbol:""},ZMW:{text:"Zambian Kwacha",fraction:2,symbol:!1},ZWL:{text:"Zimbabwe Dollar",fraction:2,symbol:"$"}};return{getCurrencyByCode:function(t){if(t&&"string"==typeof t)return e[t.toUpperCase()]},getCurrencies:function(){return e}}}),angular.module("isoCurrency",["isoCurrency.common"]).filter("isoCurrency",["$filter","iso4217",function(e,t){return function(n,r,i){var a=t.getCurrencyByCode(r);if(!a)return n;var o=void 0===i?a.fraction:i;return e("currency")(n,a.symbol||r+" ",o)}}]);var duScrollDefaultEasing=function(e){"use strict";return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,r,i,a,o,s){"use strict";var l={},c=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},u=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},p=function(e){return u(e)||c(e)?e:e[0]};l.duScrollTo=function(t,n,r,i){var a;if(angular.isElement(t)?a=this.duScrollToElement:angular.isDefined(r)&&(a=this.duScrollToAnimated),a)return a.apply(this,arguments);var o=p(this);return c(o)?e.scrollTo(t,n):(o.scrollLeft=t,void(o.scrollTop=n))};var d,f;l.duScrollToAnimated=function(e,a,o,l){o&&!l&&(l=i);var c=this.duScrollLeft(),u=this.duScrollTop(),p=Math.round(e-c),m=Math.round(a-u),g=null,h=0,v=this,_=function(e){(!e||h&&e.which>0)&&(s&&v.unbind(s,_),n(d),f.reject(),d=null)};if(d&&_(),f=t.defer(),0===o||!p&&!m)return 0===o&&v.duScrollTo(e,a),f.resolve(),f.promise;var y=function(e){null===g&&(g=e),h=e-g;var t=h>=o?1:l(h/o);v.scrollTo(c+Math.ceil(p*t),u+Math.ceil(m*t)),t<1?d=r(y):(s&&v.unbind(s,_),d=null,f.resolve())};return v.duScrollTo(c,u),s&&v.bind(s,_),d=r(y),f.promise},l.duScrollToElement=function(e,t,n,r){var i=p(this);angular.isNumber(t)&&!isNaN(t)||(t=o);var a=this.duScrollTop()+p(e).getBoundingClientRect().top-t;return u(i)&&(a-=i.getBoundingClientRect().top),this.duScrollTo(0,a,n,r)},l.duScrollLeft=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,r);var i=p(this);return c(i)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:i.scrollLeft},l.duScrollTop=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,r);var i=p(this);return c(i)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:i.scrollTop},l.duScrollToElementAnimated=function(e,t,n,r){return this.duScrollToElement(e,t,n||a,r)},l.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||a,n)},l.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||a,n)},angular.forEach(l,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,r){if(e[n])return e[n];for(var i,a=n.substr(0,1).toUpperCase()+n.substr(1),o=0;o<t.length;o++)if(i=t[o]+a,e[i])return e[i];return r}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,r=function(e,r){var i=(new Date).getTime(),a=Math.max(0,16-(i-n)),o=t(function(){e(i+a)},a);return n=i+a,o};return e("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,r,i,a,o,s,l){"use strict";var c=function(i){var c=!1,u=!1,p=function(){u=!1;var t,o=i.container,c=o[0],p=0;if("undefined"!=typeof HTMLElement&&c instanceof HTMLElement||c.nodeType&&c.nodeType===c.ELEMENT_NODE)p=c.getBoundingClientRect().top,t=Math.round(c.scrollTop+c.clientHeight)>=c.scrollHeight;else{var d=r[0].body.scrollHeight||r[0].documentElement.scrollHeight;t=Math.round(n.pageYOffset+n.innerHeight)>=d}var f,m,g,h,v,_,y=s&&t?"bottom":"top";for(h=i.spies,m=i.currentlyActive,g=void 0,f=0;f<h.length;f++)v=h[f],_=v.getTargetPosition(),_&&(s&&t||_.top+v.offset-p<20&&(a||_.top*-1+p)<_.height)&&(!g||g[y]<_[y])&&(g={spy:v},g[y]=_[y]);g&&(g=g.spy),m===g||a&&!g||(m&&(m.$element.removeClass(l),e.$broadcast("duScrollspy:becameInactive",m.$element,angular.element(m.getTargetElement()))),g&&(g.$element.addClass(l),e.$broadcast("duScrollspy:becameActive",g.$element,angular.element(g.getTargetElement()))),i.currentlyActive=g)};return o?function(){c?u=!0:(p(),c=t(function(){c=!1,u&&p()},o,!1))}:p},u={},p=function(e){var t=e.$id,n={spies:[]};return n.handler=c(n),u[t]=n,e.$on("$destroy",function(){d(e)}),t},d=function(e){var t=e.$id,n=u[t],r=n.container;r&&r.off("scroll",n.handler),delete u[t]},f=p(e),m=function(e){return u[e.$id]?u[e.$id]:e.$parent?m(e.$parent):u[f]},g=function(e){var t,n,r=e.$scope;if(r)return m(r);for(n in u)if(t=u[n],t.spies.indexOf(e)!==-1)return t},h=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},v=function(e){var t=g(e);t&&(t.spies.push(e),t.container&&h(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=i.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},_=function(t){var n=g(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var r=n.spies.indexOf(t);r!==-1&&n.spies.splice(r,1),t.$element=null};return{addSpy:v,removeSpy:_,createContext:p,destroyContext:d,getContextForScope:m}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var r=e.$id;return t[r]=n,r},r=function(e){return t[e.$id]?e.$id:e.$parent?r(e.$parent):void 0},i=function(n){var i=r(n);return i?t[i]:e},a=function(e){var n=r(e);n&&delete t[n]};return{getContainerId:r,getContainer:i,setContainer:n,removeContainer:a}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(r,i,a){i.on("click",function(i){if(a.href&&a.href.indexOf("#")!==-1||""!==a.duSmoothScroll){var o=a.href?a.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):a.duSmoothScroll,s=document.getElementById(o)||document.getElementsByName(o)[0];if(s&&s.getBoundingClientRect){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();var l=a.offset?parseInt(a.offset,10):t,c=a.duration?parseInt(a.duration,10):e,u=n.getContainer(r);u.duScrollToElement(angular.element(s),isNaN(l)?0:l,isNaN(c)?0:c)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,r){return{pre:function(t,n,r,i){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,r){return{pre:function(t,n,r,i){r.$observe("duScrollContainer",function(r){angular.isString(r)&&(r=document.getElementById(r)),r=angular.isElement(r)?angular.element(r):n,e.setContainer(t,r),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,r){"use strict";var i=function(e,t,n,r){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=r};return i.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},i.prototype.getTargetPosition=function(){var e=this.getTargetElement();if(e)return e.getBoundingClientRect()},i.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(a,o,s){var l,c=s.ngHref||s.href;if(c&&c.indexOf("#")!==-1?l=c.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?l=s.duScrollspy:s.duSmoothScroll&&(l=s.duSmoothScroll),l){var u=n(function(){var n=new i(l,a,o,(-(s.offset?parseInt(s.offset,10):t)));e.addSpy(n),a.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var c=r.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));a.$on("$destroy",function(){e.removeSpy(n),c()})},0,!1);a.$on("$destroy",function(){n.cancel(u)})}}}}]),!function(e,t){"use strict";function n(){function t(e){return function(){u.waitForVendorCount&&(c[e]||(c[e]=[]),c[e].push(arguments))}}function n(t,n,r){return p[t]||(p[t]=[]),p[t].push(n),d[n]=r,function(){var n=Array.prototype.slice.apply(arguments);return this.$inject(["$q",e.bind(this,function(r){return r.all(p[t].map(function(t){var i=d[t]||{};if(i.async){var a=r.defer(),o=e.copy(n);return o.unshift(a.resolve),t.apply(this,o),a.promise}return r.when(t.apply(this,n))},this))})])}}function r(e,t){t?setTimeout(e,t):e()}function i(t,i,a){if(!s.developerMode){f[t]=n(t,i,a);var o=s[t],l=o?o.bufferFlushDelay:null,u=null!==l?l:s.bufferFlushDelay;e.forEach(c[t],function(e,t){r(function(){i.apply(this,e)},t*u)})}}function a(e){return e.replace(/^./,function(e){return e.toUpperCase()})}function o(e){var r="register"+a(e);m[r]=function(t,n){i(e,t,n)},f[e]=n(e,t(e))}var s={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,autoBasePath:!1,basePath:"",excludedRoutes:[]},eventTracking:{},bufferFlushDelay:1e3,trackExceptions:!1,developerMode:!1},l=["pageTrack","eventTrack","exceptionTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce","incrementProperty","userTimings"],c={},p={},d={},f={settings:s},m={$get:["$injector",function(e){return g(e)}],api:f,settings:s,virtualPageviews:function(e){this.settings.pageTracking.autoTrackVirtualPages=e},excludeRoutes:function(e){this.settings.pageTracking.excludedRoutes=e},firstPageview:function(e){this.settings.pageTracking.autoTrackFirstPage=e},withBase:function(t){this.settings.pageTracking.basePath=t?e.element(document).find("base").attr("href"):""},withAutoBase:function(e){this.settings.pageTracking.autoBasePath=e},trackExceptions:function(e){this.settings.trackExceptions=e},developerMode:function(e){this.settings.developerMode=e}},g=function(t){return e.extend(f,{$inject:t.invoke})};e.forEach(l,o);for(var h in m)this[h]=m[h]}function r(t,n,r,i){function a(e){for(var t=0;t<r.settings.pageTracking.excludedRoutes.length;t++){var n=r.settings.pageTracking.excludedRoutes[t];if(n instanceof RegExp&&n.test(e)||e.indexOf(n)>-1)return!0}return!1}function o(e,t){a(e)||r.pageTrack(e,t)}r.settings.pageTracking.autoTrackFirstPage&&i.invoke(["$location",function(e){var t=!0;if(i.has("$route")){var a=i.get("$route");if(a)for(var s in a.routes){t=!1;break}else null===a&&(t=!1)}else if(i.has("$state")){var l=i.get("$state");for(var c in l.get()){t=!1;break}}if(t)if(r.settings.pageTracking.autoBasePath&&(r.settings.pageTracking.basePath=n.location.pathname),r.settings.pageTracking.trackRelativePath){var u=r.settings.pageTracking.basePath+e.url();o(u,e)}else o(e.absUrl(),e)}]),r.settings.pageTracking.autoTrackVirtualPages&&i.invoke(["$location",function(e){r.settings.pageTracking.autoBasePath&&(r.settings.pageTracking.basePath=n.location.pathname+"#");var a=!0;if(i.has("$route")){var s=i.get("$route");if(s)for(var l in s.routes){a=!1;break}else null===s&&(a=!1);t.$on("$routeChangeSuccess",function(t,n){if(!n||!(n.$$route||n).redirectTo){var i=r.settings.pageTracking.basePath+e.url();o(i,e)}})}i.has("$state")&&!i.has("$transitions")&&(a=!1,t.$on("$stateChangeSuccess",function(t,n){var i=r.settings.pageTracking.basePath+e.url();o(i,e)})),i.has("$state")&&i.has("$transitions")&&(a=!1,i.invoke(["$transitions",function(t){t.onSuccess({},["$transition$",function(t){var n=t.options();if(n.notify){var i=r.settings.pageTracking.basePath+e.url();o(i,e)}}])}])),a&&t.$on("$locationChangeSuccess",function(t,n){if(!n||!(n.$$route||n).redirectTo)if(r.settings.pageTracking.trackRelativePath){var i=r.settings.pageTracking.basePath+e.url();o(i,e)}else o(e.absUrl(),e)})}]),r.settings.developerMode&&e.forEach(r,function(e,t){"function"==typeof e&&(r[t]=function(){})})}function i(t){return{restrict:"A",link:function(n,r,i){var a=i.analyticsOn||"click",o={};e.forEach(i.$attr,function(e,t){l(t)&&(o[c(t)]=i[t],i.$observe(t,function(e){o[c(t)]=e}))}),e.element(r[0]).bind(a,function(a){var l=i.analyticsEvent||s(r[0]);o.eventType=a.type,i.analyticsIf&&!n.$eval(i.analyticsIf)||(i.analyticsProperties&&e.extend(o,n.$eval(i.analyticsProperties)),t.eventTrack(l,o))})}}}function a(e){e.decorator("$exceptionHandler",["$delegate","$injector",function(e,t){return function(n,r){var i=e(n,r),a=t.get("$analytics");return a.settings.trackExceptions&&a.exceptionTrack(n,r),i}}])}function o(e){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(e.tagName.toLowerCase()+":"+(e.type||""))>=0}function s(e){return o(e)?e.innerText||e.value:e.id||e.name||e.tagName}function l(e){return"analytics"===e.substr(0,9)&&["On","Event","If","Properties","EventType"].indexOf(e.substr(9))===-1}function c(e){var t=e.slice(9);return"undefined"!=typeof t&&null!==t&&t.length>0?t.substring(0,1).toLowerCase()+t.substring(1):t}var u=window.angulartics||(window.angulartics={});u.waitForVendorCount=0,u.waitForVendorApi=function(e,t,n,r,i){i||u.waitForVendorCount++,r||(r=n,n=void 0),!Object.prototype.hasOwnProperty.call(window,e)||void 0!==n&&void 0===window[e][n]?setTimeout(function(){u.waitForVendorApi(e,t,n,r,!0)},t):(u.waitForVendorCount--,r(window[e]))},e.module("angulartics",[]).provider("$analytics",n).run(["$rootScope","$window","$analytics","$injector",r]).directive("analyticsOn",["$analytics",i]).config(["$provide",a])}(angular),angular.module("angular-toArrayFilter",[]).filter("toArray",function(){return function(e,t){return angular.isObject(e)?t===!1?Object.keys(e).map(function(t){return e[t]}):Object.keys(e).map(function(t){var n=e[t];return angular.isObject(n)?Object.defineProperty(n,"$key",{enumerable:!1,value:t}):{$key:t,$value:n}}):e}}),function(e,t,n){"use strict";t.module("ngToast.provider",[]).provider("ngToast",[function(){function e(e){for(var r=Math.floor(1e3*Math.random());n.indexOf(r)>-1;)r=Math.floor(1e3*Math.random());this.id=r,this.count=0,this.animation=i.animation,this.className=i.className,this.additionalClasses=i.additionalClasses,this.dismissOnTimeout=i.dismissOnTimeout,this.timeout=i.timeout,this.dismissButton=i.dismissButton,this.dismissButtonHtml=i.dismissButtonHtml,this.dismissOnClick=i.dismissOnClick,this.compileContent=i.compileContent,t.extend(this,e)}var n=[],r=[],i={animation:!1,className:"success",additionalClasses:null,dismissOnTimeout:!0,timeout:4e3,dismissButton:!1,dismissButtonHtml:"&times;",dismissOnClick:!0,compileContent:!1,combineDuplications:!1,horizontalPosition:"right",verticalPosition:"top",maxNumber:0};this.configure=function(e){t.extend(i,e)},this.$get=[function(){var t=function(e,t){return t="object"==typeof t?t:{content:t},t.className=e,this.create(t)};return{settings:i,messages:n,dismiss:function(e){if(e){for(var t=n.length-1;t>=0;t--)if(n[t].id===e)return n.splice(t,1),void r.splice(r.indexOf(e),1)}else{for(;n.length>0;)n.pop();r=[]}},create:function(t){if(t="object"==typeof t?t:{content:t},i.combineDuplications)for(var a=r.length-1;a>=0;a--){var o=n[a],s=t.className||"success";if(o.content===t.content&&o.className===s)return void n[a].count++}i.maxNumber>0&&r.length>=i.maxNumber&&this.dismiss(r[0]);var l=new e(t);return"bottom"===i.verticalPosition?n.unshift(l):n.push(l),r.push(l.id),l.id},success:function(e){return t.call(this,"success",e)},info:function(e){return t.call(this,"info",e)},warning:function(e){return t.call(this,"warning",e)},danger:function(e){return t.call(this,"danger",e)}}}]}])}(window,window.angular),function(e,t){"use strict";t.module("ngToast.directives",["ngToast.provider"]).run(["$templateCache",function(e){e.put("ngToast/toast.html",'<div class="ng-toast ng-toast--{{hPos}} ng-toast--{{vPos}} {{animation ? \'ng-toast--animate-\' + animation : \'\'}}"><ul class="ng-toast__list"><toast-message ng-repeat="message in messages" message="message" count="message.count"><span ng-bind-html="message.content"></span></toast-message></ul></div>'),e.put("ngToast/toastMessage.html",'<li class="ng-toast__message {{message.additionalClasses}}"ng-mouseenter="onMouseEnter()"ng-mouseleave="onMouseLeave()"><div class="alert alert-{{message.className}}" ng-class="{\'alert-dismissible\': message.dismissButton}"><button type="button" class="close" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"></button><span ng-if="count" class="ng-toast__message__count">{{count + 1}}</span><span ng-if="!message.compileContent" ng-transclude></span></div></li>')}]).directive("toast",["ngToast","$templateCache","$log",function(e,t,n){return{replace:!0,restrict:"EA",templateUrl:"ngToast/toast.html",compile:function(r,i){if(i.template){var a=t.get(i.template);a?r.replaceWith(a):n.warn("ngToast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.")}return function(t){t.hPos=e.settings.horizontalPosition,t.vPos=e.settings.verticalPosition,t.animation=e.settings.animation,t.messages=e.messages}}}}]).directive("toastMessage",["$timeout","$compile","ngToast",function(e,t,n){return{replace:!0,transclude:!0,restrict:"EA",scope:{message:"=",count:"="},controller:["$scope","ngToast",function(e,t){e.dismiss=function(){t.dismiss(e.message.id)}}],templateUrl:"ngToast/toastMessage.html",link:function(r,i,a,o,s){i.attr("data-message-id",r.message.id);var l,c=r.message.compileContent;if(r.cancelTimeout=function(){e.cancel(l)},r.startTimeout=function(){r.message.dismissOnTimeout&&(l=e(function(){n.dismiss(r.message.id)},r.message.timeout))},r.onMouseEnter=function(){r.cancelTimeout()},r.onMouseLeave=function(){r.startTimeout()},c){var u;s(r,function(e){u=e,i.children().append(u)}),e(function(){t(u.contents())("boolean"==typeof c?r.$parent:c,function(e){u.replaceWith(e)})},0)}r.startTimeout(),r.message.dismissOnClick&&i.bind("click",function(){n.dismiss(r.message.id),r.$apply()})}}}])}(window,window.angular),function(e,t){"use strict";t.module("ngToast",["ngSanitize","ngToast.directives","ngToast.provider"])}(window,window.angular),angular.module("youtube-embed",[]).service("youtubeEmbedUtils",["$window","$rootScope",function(e,t){function n(e,t){return e.indexOf(t)>-1}function r(){t.$apply(function(){i.ready=!0})}var i={},a=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*[^\w\s-])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,o=/t=(\d+)[ms]?(\d+)?s?/;return i.getIdFromURL=function(e){var t=e.replace(a,"$1");if(n(t,";")){var r=t.split(";");if(n(r[1],"%")){var i=decodeURIComponent(r[1]);t=("http://youtube.com"+i).replace(a,"$1")}else t=r[0]}else n(t,"#")&&(t=t.split("#")[0]);return t},i.getTimeFromURL=function(e){e=e||"";var t=e.match(o);if(!t)return 0;var r=t[0],i=t[1],a=t[2];return"undefined"!=typeof a?(a=parseInt(a,10),i=parseInt(i,10)):n(r,"m")?(i=parseInt(i,10),a=0):(a=parseInt(i,10),i=0),a+60*i},i.ready=!1,"undefined"==typeof YT?(e.onYouTubeIframeAPIReady=r,console.log("Unable to find YouTube iframe library on this page.")):YT.loaded?i.ready=!0:YT.ready(r),i}]).directive("youtubeVideo",["$window","youtubeEmbedUtils",function(e,t){var n=1,r={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"queued"},i="youtube.player.";return e.YTConfig={host:"https://www.youtube.com"},{restrict:"EA",scope:{videoId:"=?",videoUrl:"=?",player:"=?",playerVars:"=?",playerHeight:"=?",playerWidth:"=?"},link:function(e,a,o){function s(){var t=Array.prototype.slice.call(arguments);e.$apply(function(){e.$emit.apply(e,t)})}function l(t){var n=r[t.data];"undefined"!=typeof n&&s(i+n,e.player,t),e.$apply(function(){e.player.currentState=n})}function c(t){s(i+"ready",e.player,t)}function u(t){s(i+"error",e.player,t)}function p(){var t=angular.copy(e.playerVars);t.start=t.start||e.urlStartTime;var n=new YT.Player(f,{height:e.playerHeight,width:e.playerWidth,videoId:e.videoId,playerVars:t,events:{onReady:c,onStateChange:l,onError:u}});return n.id=f,n}function d(){(e.videoId||e.playerVars.list)&&(e.player&&"function"==typeof e.player.destroy&&e.player.destroy(),e.player=p())}e.utils=t;var f=o.playerId||a[0].id||"unique-youtube-embed-id-"+n++;a[0].id=f,e.playerHeight=e.playerHeight||390,e.playerWidth=e.playerWidth||640,e.playerVars=e.playerVars||{};var m=e.$watch(function(){return e.utils.ready&&("undefined"!=typeof e.videoUrl||"undefined"!=typeof e.videoId||"undefined"!=typeof e.playerVars.list)},function(t){t&&(m(),"undefined"!=typeof e.videoUrl?e.$watch("videoUrl",function(t){e.videoId=e.utils.getIdFromURL(t),e.urlStartTime=e.utils.getTimeFromURL(t),d()}):"undefined"!=typeof e.videoId?e.$watch("videoId",function(){e.urlStartTime=null,d()}):e.$watch("playerVars.list",function(){e.urlStartTime=null,d()}))});e.$watchCollection(["playerHeight","playerWidth"],function(){e.player&&e.player.setSize(e.playerWidth,e.playerHeight)}),e.$on("$destroy",function(){e.player&&e.player.destroy()})}}}]),function(){function e(e,t){return e.push.apply(e,t),e}function t(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function n(e){return function(t){return null==t?Je:t[e]}}function r(e){return function(t){return null==e?Je:e[t]}}function i(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function a(e,t){return T(t,function(t){return e[t]})}function o(e,t){return function(n){return e(t(n))}}function s(e){return e instanceof l?e:new l(e)}function l(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t}function c(e,t,n,r){return e===Je||be(e,kt[n])&&!Ct.call(r,n)?t:e}function u(e,t,n){var r=e[t];Ct.call(e,t)&&be(r,n)&&(n!==Je||t in e)||p(e,t,n)}function p(e,t,n){e[t]=n}function d(e,t,n){if("function"!=typeof e)throw new TypeError(Ze);return setTimeout(function(){e.apply(Je,n)},t)}function f(e,t){var n=!0;return Mt(e,function(e,r,i){return n=!!t(e,r,i)}),n}function m(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(s===Je?o===o&&!0:n(o,s)))var s=o,l=a}return l}function g(e,t){var n=[];return Mt(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function h(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=G),a||(a=[]);++o<s;){var l=t[o];n>0&&r(l)?n>1?h(l,n-1,r,i,a):e(a,l):i||(a[a.length]=l)}return a}function v(e,t){return e&&Ft(e,t,rn)}function _(e,t){return g(t,function(t){return Te(e[t])})}function y(e,t){return e>t}function b(e){return Ae(e)&&Pt.call(e)==lt}function w(e,t,n,r,i){return e===t||(null==e||null==t||!Ce(e)&&!Ae(t)?e!==e&&t!==t:$(e,t,w,n,r,i))}function $(e,t,n,r,i,a){var o=Yt(e),s=Yt(t),l=ot,c=ot;o||(l=Pt.call(e),l=l==at?ft:l),s||(c=Pt.call(t),c=c==at?ft:c);var u=l==ft,p=c==ft,d=l==c;a||(a=[]);var f=Wt(a,function(t){return t[0]==e}),m=Wt(a,function(e){return e[0]==t});if(f&&m)return f[1]==t;if(a.push([e,t]),a.push([t,e]),d&&!u){var g=o?B(e,t,n,r,i,a):W(e,t,l,n,r,i,a);return a.pop(),g}if(!(i&nt)){var h=u&&Ct.call(e,"__wrapped__"),v=p&&Ct.call(t,"__wrapped__");if(h||v){var _=h?e.value():e,y=v?t.value():t,g=n(_,y,r,i,a);return a.pop(),g}}if(!d)return!1;var g=V(e,t,n,r,i,a);return a.pop(),g}function x(e){return Ce(e)&&Pt.call(e)==gt}function S(e){return"function"==typeof e?e:null==e?Be:("object"==typeof e?k:n)(e)}function E(e,t){return e<t}function T(e,t){var n=-1,r=we(e)?Array(e.length):[];return Mt(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function k(e){var t=Dt(e);return function(n){var r=t.length;if(null==n)return!r;for(n=Object(n);r--;){var i=t[r];if(!(i in n&&w(e[i],n[i],Je,tt|nt)))return!1}return!0}}function C(e,t){return e=Object(e),de(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function A(e,t){return Ut(Y(e,t,Be),e+"")}function P(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}function O(e){return P(e,0,e.length)}function j(e,t){var n;return Mt(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function I(t,n){var r=t;return de(n,function(t,n){return n.func.apply(n.thisArg,e([t],n.args))},r)}function N(e,t){if(e!==t){var n=e!==Je,r=null===e,i=e===e,a=!1,o=t!==Je,s=null===t,l=t===t,c=!1;if(!s&&!c&&!a&&e>t||a&&o&&l&&!s&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}function D(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):Je;l===Je&&(l=e[s]),i?p(n,s,l):u(n,s,l)}return n}function R(e){return A(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:Je;for(a=e.length>3&&"function"==typeof a?(i--,a):Je,t=Object(t);++r<i;){var o=n[r];o&&e(t,o,r,a)}return t})}function L(e,t){return function(n,r){if(null==n)return n;if(!we(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function M(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(n(a[l],l,a)===!1)break}return t}}function F(e){return function(){var t=arguments,n=Lt(e.prototype),r=e.apply(n,t);return Ce(r)?r:n}}function z(e){return function(t,n,r){var i=Object(t);if(!we(t)){var a=S(n,3);t=rn(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:Je}}function U(e,t,n,r){function i(){for(var t=-1,s=arguments.length,l=-1,c=r.length,u=Array(c+s),p=this&&this!==$t&&this instanceof i?o:e;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++t];return p.apply(a?n:this,u)}if("function"!=typeof e)throw new TypeError(Ze);var a=t&Qe,o=F(e);return i}function B(e,t,n,r,i,a){var o=i&nt,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;for(var c=-1,u=!0,p=i&tt?[]:Je;++c<s;){var d,f=e[c],m=t[c];if(d!==Je){if(d)continue;u=!1;break}if(p){if(!j(t,function(e,t){if(!te(p,t)&&(f===e||n(f,e,r,i,a)))return p.push(t)})){u=!1;break}}else if(f!==m&&!n(f,m,r,i,a)){u=!1;break}}return u}function W(e,t,n,r,i,a,o){switch(n){case st:case lt:case dt:return be(+e,+t);case ct:return e.name==t.name&&e.message==t.message;case gt:case ht:return e==t+""}return!1}function V(e,t,n,r,i,a){var o=i&nt,s=rn(e),l=s.length,c=rn(t),u=c.length;if(l!=u&&!o)return!1;for(var p=l;p--;){var d=s[p];if(!(o?d in t:Ct.call(t,d)))return!1}for(var f=!0,m=o;++p<l;){d=s[p];var g,h=e[d],v=t[d];if(!(g===Je?h===v||n(h,v,r,i,a):g)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){
var _=e.constructor,y=t.constructor;_!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y)&&(f=!1)}return f}function q(e){return Ut(Y(e,Je,Z),e+"")}function G(e){return Yt(e)||Ht(e)}function H(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function Y(e,t,n){return t=Rt(t===Je?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Rt(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),e.apply(this,s)}}function K(e){return g(e,Boolean)}function J(){var t=arguments.length;if(!t)return[];for(var n=Array(t-1),r=arguments[0],i=t;i--;)n[i-1]=arguments[i];return e(Yt(r)?O(r):[r],h(n,1))}function X(e,n,r){var i=e?e.length:0;if(!i)return-1;var a=null==r?0:Xt(r);return a<0&&(a=Rt(i+a,0)),t(e,S(n,3),a)}function Z(e){var t=e?e.length:0;return t?h(e,1):[]}function Q(e){var t=e?e.length:0;return t?h(e,rt):[]}function ee(e){return e&&e.length?e[0]:Je}function te(e,t,n){var r=e?e.length:0;n="number"==typeof n?n<0?Rt(r+n,0):n:0;for(var i=(n||0)-1,a=t===t;++i<r;){var o=e[i];if(a?o===t:o!==o)return i}return-1}function ne(e){var t=e?e.length:0;return t?e[t-1]:Je}function re(e,t,n){var r=e?e.length:0;return t=null==t?0:+t,n=n===Je?r:+n,r?P(e,t,n):[]}function ie(e){var t=s(e);return t.__chain__=!0,t}function ae(e,t){return t(e),e}function oe(e,t){return t(e)}function se(){return I(this.__wrapped__,this.__actions__)}function le(e,t,n){return t=n?Je:t,f(e,S(t))}function ce(e,t){return g(e,S(t))}function ue(e,t){return Mt(e,S(t))}function pe(e,t){return T(e,S(t))}function de(e,t,n){return i(e,S(t),n,arguments.length<3,Mt)}function fe(e){return null==e?0:(e=we(e)?e:Dt(e),e.length)}function me(e,t,n){return t=n?Je:t,j(e,S(t))}function ge(e,t){var r=0;return t=S(t),T(T(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){return N(e.criteria,t.criteria)||e.index-t.index}),n("value"))}function he(e,t){var n;if("function"!=typeof t)throw new TypeError(Ze);return e=Xt(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=Je),n}}function ve(e){if("function"!=typeof e)throw new TypeError(Ze);return function(){var t=arguments;return!e.apply(this,t)}}function _e(e){return he(2,e)}function ye(e){return Ce(e)?Yt(e)?O(e):D(e,Dt(e)):e}function be(e,t){return e===t||e!==e&&t!==t}function we(e){return null!=e&&ke(e.length)&&!Te(e)}function $e(e){return e===!0||e===!1||Ae(e)&&Pt.call(e)==st}function xe(e){return we(e)&&(Yt(e)||Ie(e)||Te(e.splice)||Ht(e))?!e.length:!Dt(e).length}function Se(e,t){return w(e,t)}function Ee(e){return"number"==typeof e&&Nt(e)}function Te(e){var t=Ce(e)?Pt.call(e):"";return t==ut||t==pt||t==mt}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=it}function Ce(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}function Pe(e){return je(e)&&e!=+e}function Oe(e){return null===e}function je(e){return"number"==typeof e||Ae(e)&&Pt.call(e)==dt}function Ie(e){return"string"==typeof e||!Yt(e)&&Ae(e)&&Pt.call(e)==ht}function Ne(e){return e===Je}function De(e){return we(e)?e.length?O(e):[]:ze(e)}function Re(e){return"string"==typeof e?e:null==e?"":e+""}function Le(e,t){var n=Lt(e);return t?Qt(n,t):n}function Me(e,t){return null!=e&&Ct.call(e,t)}function Fe(e,t,n){var r=null==e?Je:e[t];return r===Je&&(r=n),Te(r)?r.call(e):r}function ze(e){return e?a(e,rn(e)):[]}function Ue(e){return e=Re(e),e&&_t.test(e)?e.replace(vt,Et):e}function Be(e){return e}function We(e){return k(Qt({},e))}function Ve(t,n,r){var i=rn(n),a=_(n,i);null!=r||Ce(n)&&(a.length||!i.length)||(r=n,n=t,t=this,a=_(n,rn(n)));var o=!(Ce(r)&&"chain"in r&&!r.chain),s=Te(t);return Mt(a,function(r){var i=n[r];t[r]=i,s&&(t.prototype[r]=function(){var n=this.__chain__;if(o||n){var r=t(this.__wrapped__),a=r.__actions__=O(this.__actions__);return a.push({func:i,args:arguments,thisArg:t}),r.__chain__=n,r}return i.apply(t,e([this.value()],arguments))})}),t}function qe(){return $t._===this&&($t._=Ot),this}function Ge(){}function He(e){var t=++At;return Re(e)+t}function Ye(e){return e&&e.length?m(e,Be,y):Je}function Ke(e){return e&&e.length?m(e,Be,E):Je}var Je,Xe="4.16.4",Ze="Expected a function",Qe=1,et=32,tt=1,nt=2,rt=1/0,it=9007199254740991,at="[object Arguments]",ot="[object Array]",st="[object Boolean]",lt="[object Date]",ct="[object Error]",ut="[object Function]",pt="[object GeneratorFunction]",dt="[object Number]",ft="[object Object]",mt="[object Proxy]",gt="[object RegExp]",ht="[object String]",vt=/[&<>"']/g,_t=RegExp(vt.source),yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bt="object"==typeof global&&global&&global.Object===Object&&global,wt="object"==typeof self&&self&&self.Object===Object&&self,$t=bt||wt||Function("return this")(),xt="object"==typeof exports&&exports&&!exports.nodeType&&exports,St=xt&&"object"==typeof module&&module&&!module.nodeType&&module,Et=r(yt),Tt=Array.prototype,kt=Object.prototype,Ct=kt.hasOwnProperty,At=0,Pt=kt.toString,Ot=$t._,jt=Object.create,It=kt.propertyIsEnumerable,Nt=$t.isFinite,Dt=o(Object.keys,Object),Rt=Math.max,Lt=function(){function e(){}return function(t){if(!Ce(t))return{};if(jt)return jt(t);e.prototype=t;var n=new e;return e.prototype=Je,n}}();l.prototype=Lt(s.prototype),l.prototype.constructor=l;var Mt=L(v),Ft=M(),zt=Ge,Ut=Be,Bt=String,Wt=z(X),Vt=A(function(e,t,n){return U(e,Qe|et,t,n)}),qt=A(function(e,t){return d(e,1,t)}),Gt=A(function(e,t,n){return d(e,Zt(t)||0,n)}),Ht=zt(function(){return arguments}())?zt:function(e){return Ae(e)&&Ct.call(e,"callee")&&!It.call(e,"callee")},Yt=Array.isArray,Kt=b,Jt=x,Xt=Number,Zt=Number,Qt=R(function(e,t){D(t,Dt(t),e)}),en=R(function(e,t){D(t,H(t),e)}),tn=R(function(e,t,n,r){D(t,an(t),e,r)}),nn=A(function(e){return e.push(Je,c),tn.apply(Je,e)}),rn=Dt,an=H,on=q(function(e,t){return null==e?{}:C(e,T(t,Bt))}),sn=S;s.assignIn=en,s.before=he,s.bind=Vt,s.chain=ie,s.compact=K,s.concat=J,s.create=Le,s.defaults=nn,s.defer=qt,s.delay=Gt,s.filter=ce,s.flatten=Z,s.flattenDeep=Q,s.iteratee=sn,s.keys=rn,s.map=pe,s.matches=We,s.mixin=Ve,s.negate=ve,s.once=_e,s.pick=on,s.slice=re,s.sortBy=ge,s.tap=ae,s.thru=oe,s.toArray=De,s.values=ze,s.extend=en,Ve(s,s),s.clone=ye,s.escape=Ue,s.every=le,s.find=Wt,s.forEach=ue,s.has=Me,s.head=ee,s.identity=Be,s.indexOf=te,s.isArguments=Ht,s.isArray=Yt,s.isBoolean=$e,s.isDate=Kt,s.isEmpty=xe,s.isEqual=Se,s.isFinite=Ee,s.isFunction=Te,s.isNaN=Pe,s.isNull=Oe,s.isNumber=je,s.isObject=Ce,s.isRegExp=Jt,s.isString=Ie,s.isUndefined=Ne,s.last=ne,s.max=Ye,s.min=Ke,s.noConflict=qe,s.noop=Ge,s.reduce=de,s.result=Fe,s.size=fe,s.some=me,s.uniqueId=He,s.each=ue,s.first=ee,Ve(s,function(){var e={};return v(s,function(t,n){Ct.call(s.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),s.VERSION=Xe,Mt(["pop","join","replace","reverse","split","push","shift","sort","splice","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?String.prototype:Tt)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|join|replace|shift)$/.test(e);s.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Yt(i)?i:[],e)}return this[n](function(n){return t.apply(Yt(n)?n:[],e)})}}),s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=se,"function"==typeof define&&"object"==typeof define.amd&&define.amd?($t._=s,define(function(){return s})):St?((St.exports=s)._=s,xt._=s):$t._=s}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.satellizer=t()}(this,function(){"use strict";function e(e,t){if(/^(?:[a-z]+:)?\/\//i.test(t))return t;var n=[e,t].join("/"),r=function(e){return e.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")};return r(n)}function t(e){var t="https:"===e.protocol;return e.protocol+"//"+e.hostname+":"+(e.port||(t?"443":"80"))+(/^\//.test(e.pathname)?e.pathname:"/"+e.pathname)}function n(e){var t,n,r={};return angular.forEach((e||"").split("&"),function(e){e&&(n=e.split("="),t=decodeURIComponent(n[0]),r[t]=!angular.isDefined(n[1])||decodeURIComponent(n[1]))}),r}function r(e){var t;if("undefined"!=typeof module&&module.exports)try{t=require("buffer").Buffer}catch(n){}var r=String.fromCharCode,i=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),a=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return r((n>>>10)+55296)+r((1023&n)+56320);case 3:return r((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return r((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},o=function(e){return e.replace(i,a)},s=t?function(e){return(e.constructor===t.constructor?e:new t(e,"base64")).toString()}:function(e){return o(atob(e))};return s(String(e).replace(/[-_]/g,function(e){return"-"===e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}var i=function(){function e(){this.baseUrl="/",this.loginUrl="/auth/login",this.signupUrl="/auth/signup",this.unlinkUrl="/auth/unlink/",this.tokenName="token",this.tokenPrefix="satellizer",this.tokenHeader="Authorization",this.tokenType="Bearer",this.storageType="localStorage",this.tokenRoot=null,this.withCredentials=!1,this.providers={facebook:{name:"facebook",url:"/auth/facebook",authorizationEndpoint:"https://www.facebook.com/v2.5/dialog/oauth",redirectUri:window.location.origin+"/",requiredUrlParams:["display","scope"],scope:["email"],scopeDelimiter:",",display:"popup",oauthType:"2.0",popupOptions:{width:580,height:400}},google:{name:"google",url:"/auth/google",authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",redirectUri:window.location.origin,requiredUrlParams:["scope"],optionalUrlParams:["display","state"],scope:["profile","email"],scopePrefix:"openid",scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:452,height:633},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}},github:{name:"github",url:"/auth/github",authorizationEndpoint:"https://github.com/login/oauth/authorize",redirectUri:window.location.origin,optionalUrlParams:["scope"],scope:["user:email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1020,height:618}},instagram:{name:"instagram",url:"/auth/instagram",authorizationEndpoint:"https://api.instagram.com/oauth/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["basic"],scopeDelimiter:"+",oauthType:"2.0"},linkedin:{name:"linkedin",url:"/auth/linkedin",authorizationEndpoint:"https://www.linkedin.com/uas/oauth2/authorization",redirectUri:window.location.origin,requiredUrlParams:["state"],scope:["r_emailaddress"],scopeDelimiter:" ",state:"STATE",oauthType:"2.0",popupOptions:{width:527,height:582}},twitter:{name:"twitter",url:"/auth/twitter",authorizationEndpoint:"https://api.twitter.com/oauth/authenticate",redirectUri:window.location.origin,oauthType:"1.0",popupOptions:{width:495,height:645}},twitch:{name:"twitch",url:"/auth/twitch",authorizationEndpoint:"https://api.twitch.tv/kraken/oauth2/authorize",redirectUri:window.location.origin,requiredUrlParams:["scope"],scope:["user_read"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},live:{name:"live",url:"/auth/live",authorizationEndpoint:"https://login.live.com/oauth20_authorize.srf",redirectUri:window.location.origin,requiredUrlParams:["display","scope"],scope:["wl.emails"],scopeDelimiter:" ",display:"popup",oauthType:"2.0",popupOptions:{width:500,height:560}},yahoo:{name:"yahoo",url:"/auth/yahoo",authorizationEndpoint:"https://api.login.yahoo.com/oauth2/request_auth",redirectUri:window.location.origin,scope:[],scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:559,height:519}},bitbucket:{name:"bitbucket",url:"/auth/bitbucket",authorizationEndpoint:"https://bitbucket.org/site/oauth2/authorize",redirectUri:window.location.origin+"/",requiredUrlParams:["scope"],scope:["email"],scopeDelimiter:" ",oauthType:"2.0",popupOptions:{width:1028,height:529}},spotify:{name:"spotify",url:"/auth/spotify",authorizationEndpoint:"https://accounts.spotify.com/authorize",redirectUri:window.location.origin,optionalUrlParams:["state"],requiredUrlParams:["scope"],scope:["user-read-email"],scopePrefix:"",scopeDelimiter:",",oauthType:"2.0",popupOptions:{width:500,height:530},state:function(){return encodeURIComponent(Math.random().toString(36).substr(2))}}},this.httpInterceptor=function(){return!0}}return Object.defineProperty(e,"getConstant",{get:function(){return new e},enumerable:!0,configurable:!0}),e}(),a=function(){function e(e){this.SatellizerConfig=e}return Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this.SatellizerConfig.baseUrl},set:function(e){this.SatellizerConfig.baseUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loginUrl",{get:function(){return this.SatellizerConfig.loginUrl},set:function(e){this.SatellizerConfig.loginUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"signupUrl",{get:function(){return this.SatellizerConfig.signupUrl},set:function(e){this.SatellizerConfig.signupUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unlinkUrl",{get:function(){return this.SatellizerConfig.unlinkUrl},set:function(e){this.SatellizerConfig.unlinkUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenRoot",{get:function(){return this.SatellizerConfig.tokenRoot},set:function(e){this.SatellizerConfig.tokenRoot=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenName",{get:function(){return this.SatellizerConfig.tokenName},set:function(e){this.SatellizerConfig.tokenName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenPrefix",{get:function(){return this.SatellizerConfig.tokenPrefix},set:function(e){this.SatellizerConfig.tokenPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenHeader",{get:function(){return this.SatellizerConfig.tokenHeader},set:function(e){this.SatellizerConfig.tokenHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenType",{get:function(){return this.SatellizerConfig.tokenType},set:function(e){this.SatellizerConfig.tokenType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withCredentials",{get:function(){return this.SatellizerConfig.withCredentials},set:function(e){this.SatellizerConfig.withCredentials=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storageType",{get:function(){return this.SatellizerConfig.storageType},set:function(e){this.SatellizerConfig.storageType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"httpInterceptor",{get:function(){return this.SatellizerConfig.httpInterceptor},set:function(e){"function"==typeof e?this.SatellizerConfig.httpInterceptor=e:this.SatellizerConfig.httpInterceptor=function(){return e}},enumerable:!0,configurable:!0}),e.prototype.facebook=function(e){angular.extend(this.SatellizerConfig.providers.facebook,e)},e.prototype.google=function(e){angular.extend(this.SatellizerConfig.providers.google,e)},e.prototype.github=function(e){angular.extend(this.SatellizerConfig.providers.github,e)},e.prototype.instagram=function(e){angular.extend(this.SatellizerConfig.providers.instagram,e)},e.prototype.linkedin=function(e){angular.extend(this.SatellizerConfig.providers.linkedin,e)},e.prototype.twitter=function(e){angular.extend(this.SatellizerConfig.providers.twitter,e)},e.prototype.twitch=function(e){angular.extend(this.SatellizerConfig.providers.twitch,e)},e.prototype.live=function(e){angular.extend(this.SatellizerConfig.providers.live,e)},e.prototype.yahoo=function(e){angular.extend(this.SatellizerConfig.providers.yahoo,e)},e.prototype.bitbucket=function(e){angular.extend(this.SatellizerConfig.providers.bitbucket,e)},e.prototype.spotify=function(e){angular.extend(this.SatellizerConfig.providers.spotify,e)},e.prototype.oauth1=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"1.0"})},e.prototype.oauth2=function(e){this.SatellizerConfig.providers[e.name]=angular.extend(e,{oauthType:"2.0"})},e.prototype.$get=function(e,t,n){return{login:function(e,n){return t.login(e,n)},signup:function(e,n){return t.signup(e,n)},logout:function(){return e.logout()},authenticate:function(e,t){return n.authenticate(e,t)},link:function(e,t){return n.authenticate(e,t)},unlink:function(e,t){return n.unlink(e,t)},isAuthenticated:function(){return e.isAuthenticated()},getPayload:function(){return e.getPayload()},getToken:function(){return e.getToken()},setToken:function(t){return e.setToken({access_token:t})},removeToken:function(){return e.removeToken()},setStorageType:function(t){return e.setStorageType(t)}}},e.$inject=["SatellizerConfig"],e}();a.prototype.$get.$inject=["SatellizerShared","SatellizerLocal","SatellizerOAuth"];var o=function(){function e(e,t,n,r){this.$q=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerStorage=r;var i=this.SatellizerConfig,a=i.tokenName,o=i.tokenPrefix;this.prefixedTokenName=o?[o,a].join("_"):a}return e.prototype.getToken=function(){return this.SatellizerStorage.get(this.prefixedTokenName)},e.prototype.getPayload=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e&&3===e.split(".").length)try{var t=e.split(".")[1],n=t.replace("-","+").replace("_","/");return JSON.parse(r(n))}catch(i){}},e.prototype.setToken=function(e){var t,n=this.SatellizerConfig.tokenRoot,r=this.SatellizerConfig.tokenName,i=e&&e.access_token;if(i&&(angular.isObject(i)&&angular.isObject(i.data)?e=i:angular.isString(i)&&(t=i)),!t&&e){var a=n&&n.split(".").reduce(function(e,t){return e[t]},e.data);t=a?a[r]:e.data&&e.data[r]}t&&this.SatellizerStorage.set(this.prefixedTokenName,t)},e.prototype.removeToken=function(){this.SatellizerStorage.remove(this.prefixedTokenName)},e.prototype.isAuthenticated=function(){var e=this.SatellizerStorage.get(this.prefixedTokenName);if(e){if(3===e.split(".").length)try{var t=e.split(".")[1],n=t.replace("-","+").replace("_","/"),r=JSON.parse(this.$window.atob(n)).exp;if("number"==typeof r)return Math.round((new Date).getTime()/1e3)<r}catch(i){return!0}return!0}return!1},e.prototype.logout=function(){return this.SatellizerStorage.remove(this.prefixedTokenName),this.$q.when()},e.prototype.setStorageType=function(e){this.SatellizerConfig.storageType=e},e.$inject=["$q","$window","SatellizerConfig","SatellizerStorage"],e}(),s=function(){function t(e,t,n){this.$http=e,this.SatellizerConfig=t,this.SatellizerShared=n}return t.prototype.login=function(t,n){var r=this;return void 0===n&&(n={}),n.url=n.url?n.url:e(this.SatellizerConfig.baseUrl,this.SatellizerConfig.loginUrl),n.data=t||n.data,n.method=n.method||"POST",n.withCredentials=n.withCredentials||this.SatellizerConfig.withCredentials,this.$http(n).then(function(e){return r.SatellizerShared.setToken(e),e})},t.prototype.signup=function(t,n){return void 0===n&&(n={}),n.url=n.url?n.url:e(this.SatellizerConfig.baseUrl,this.SatellizerConfig.signupUrl),n.data=t||n.data,n.method=n.method||"POST",n.withCredentials=n.withCredentials||this.SatellizerConfig.withCredentials,this.$http(n)},t.$inject=["$http","SatellizerConfig","SatellizerShared"],t}(),l=function(){function e(e,t,n){this.$interval=e,this.$window=t,this.$q=n,this.popup=null,this.defaults={redirectUri:null}}return e.prototype.stringifyOptions=function(e){var t=[];return angular.forEach(e,function(e,n){t.push(n+"="+e)}),t.join(",")},e.prototype.open=function(e,t,n,r,i){var a=n.width||500,o=n.height||500,s=this.stringifyOptions({width:a,height:o,top:this.$window.screenY+(this.$window.outerHeight-o)/2.5,left:this.$window.screenX+(this.$window.outerWidth-a)/2}),l=this.$window.cordova||this.$window.navigator.userAgent.indexOf("CriOS")>-1?"_blank":t;if(this.popup=this.$window.open(e,l,s),this.popup&&this.popup.focus&&this.popup.focus(),!i)return this.$window.cordova?this.eventListener(r):("about:blank"===e&&(this.popup.location=e),this.polling(r))},e.prototype.polling=function(e){var r=this;return this.$q(function(i,a){var o=document.createElement("a");o.href=e;var s=t(o),l=r.$interval(function(){r.popup&&!r.popup.closed&&void 0!==r.popup.closed||(r.$interval.cancel(l),a(new Error("The popup window was closed")));try{var e=t(r.popup.location);if(e===s){if(r.popup.location.search||r.popup.location.hash){var o=n(r.popup.location.search.substring(1).replace(/\/$/,"")),c=n(r.popup.location.hash.substring(1).replace(/[\/$]/,"")),u=angular.extend({},o,c);u.error?a(new Error(u.error)):i(u)}else a(new Error("OAuth redirect has occurred but no query or hash parameters were found. They were either not set during the redirect, or were removedtypically by a routing librarybefore Satellizer could read it."));r.$interval.cancel(l),r.popup.close()}}catch(p){}},500)})},e.prototype.eventListener=function(e){var t=this;return this.$q(function(r,i){t.popup.addEventListener("loadstart",function(a){if(0===a.url.indexOf(e)){var o=document.createElement("a");if(o.href=a.url,o.search||o.hash){var s=n(o.search.substring(1).replace(/\/$/,"")),l=n(o.hash.substring(1).replace(/[\/$]/,"")),c=angular.extend({},s,l);c.error?i(new Error(c.error)):r(c),t.popup.close()}}}),t.popup.addEventListener("loaderror",function(){i(new Error("Authorization failed"))}),t.popup.addEventListener("exit",function(){i(new Error("The popup window was closed"))})})},e.$inject=["$interval","$window","$q"],e}(),c=function(){function t(e,t,n,r){this.$http=e,this.$window=t,this.SatellizerConfig=n,this.SatellizerPopup=r,this.defaults={name:null,url:null,authorizationEndpoint:null,scope:null,scopePrefix:null,scopeDelimiter:null,redirectUri:null,requiredUrlParams:null,defaultUrlParams:null,oauthType:"1.0",popupOptions:{width:null,height:null}}}return t.prototype.init=function(e,t){var n=this;angular.extend(this.defaults,e);var r=e.name,i=e.popupOptions,a=this.defaults.redirectUri;return this.$window.cordova||this.SatellizerPopup.open("about:blank",r,i,a,!0),this.getRequestToken().then(function(r){return n.openPopup(e,r).then(function(e){return n.exchangeForToken(e,t)})})},t.prototype.openPopup=function(e,t){var n=[e.authorizationEndpoint,this.buildQueryString(t.data)].join("?"),r=this.defaults.redirectUri;return this.$window.cordova?this.SatellizerPopup.open(n,e.name,e.popupOptions,r):(this.SatellizerPopup.popup.location=n,this.SatellizerPopup.polling(r))},t.prototype.getRequestToken=function(){var t=this.SatellizerConfig.baseUrl?e(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(t,this.defaults)},t.prototype.exchangeForToken=function(t,n){var r=angular.extend({},n,t),i=this.SatellizerConfig.baseUrl?e(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(i,r,{withCredentials:this.SatellizerConfig.withCredentials})},t.prototype.buildQueryString=function(e){var t=[];return angular.forEach(e,function(e,n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),t.join("&")},t.$inject=["$http","$window","SatellizerConfig","SatellizerPopup"],t}(),u=function(){function t(e,t,n,r,i,a,o){this.$http=e,this.$window=t,this.$timeout=n,this.$q=r,this.SatellizerConfig=i,this.SatellizerPopup=a,this.SatellizerStorage=o,this.defaults={name:null,url:null,clientId:null,authorizationEndpoint:null,redirectUri:null,scope:null,scopePrefix:null,scopeDelimiter:null,state:null,requiredUrlParams:null,defaultUrlParams:["response_type","client_id","redirect_uri"],responseType:"code",responseParams:{code:"code",clientId:"clientId",redirectUri:"redirectUri"},oauthType:"2.0",popupOptions:{width:null,height:null}}}return t.camelCase=function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,n,r){return r?n.toUpperCase():n})},t.prototype.init=function(e,t){var n=this;return this.$q(function(r,i){angular.extend(n.defaults,e);var a=n.defaults.name+"_state",o=n.defaults,s=o.name,l=o.state,c=o.popupOptions,u=o.redirectUri,p=o.responseType;"function"==typeof l?n.SatellizerStorage.set(a,l()):"string"==typeof l&&n.SatellizerStorage.set(a,l);var d=[n.defaults.authorizationEndpoint,n.buildQueryString()].join("?");n.SatellizerPopup.open(d,s,c,u).then(function(e){return"token"!==p&&d?e.state&&e.state!==n.SatellizerStorage.get(a)?i(new Error("The value returned in the state parameter does not match the state value from your original authorization code request.")):void r(n.exchangeForToken(e,t)):r(e)})["catch"](function(e){return i(e)})})},t.prototype.exchangeForToken=function(t,n){var r=this,i=angular.extend({},n);angular.forEach(this.defaults.responseParams,function(e,n){switch(n){case"code":i[e]=t.code;break;case"clientId":i[e]=r.defaults.clientId;break;case"redirectUri":i[e]=r.defaults.redirectUri;break;default:i[e]=t[n]}}),t.state&&(i.state=t.state);var a=this.SatellizerConfig.baseUrl?e(this.SatellizerConfig.baseUrl,this.defaults.url):this.defaults.url;return this.$http.post(a,i,{withCredentials:this.SatellizerConfig.withCredentials})},t.prototype.buildQueryString=function(){var e=this,n=[],r=["defaultUrlParams","requiredUrlParams","optionalUrlParams"];return angular.forEach(r,function(r){angular.forEach(e.defaults[r],function(r){var i=t.camelCase(r),a=angular.isFunction(e.defaults[r])?e.defaults[r]():e.defaults[i];if("redirect_uri"!==r||a){if("state"===r){var o=e.defaults.name+"_state";a=encodeURIComponent(e.SatellizerStorage.get(o))}"scope"===r&&Array.isArray(a)&&(a=a.join(e.defaults.scopeDelimiter),e.defaults.scopePrefix&&(a=[e.defaults.scopePrefix,a].join(e.defaults.scopeDelimiter))),n.push([r,a])}})}),n.map(function(e){return e.join("=")}).join("&")},t.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage"],t}(),p=function(){function t(e,t,n,r,i,a,o,s,l,c){this.$http=e,this.$window=t,this.$timeout=n,this.$q=r,this.SatellizerConfig=i,this.SatellizerPopup=a,this.SatellizerStorage=o,this.SatellizerShared=s,this.SatellizerOAuth1=l,this.SatellizerOAuth2=c}return t.prototype.authenticate=function(e,t){var n=this;return this.$q(function(r,i){var a=n.SatellizerConfig.providers[e],o=null;switch(a.oauthType){case"1.0":o=new c(n.$http,n.$window,n.SatellizerConfig,n.SatellizerPopup);break;case"2.0":o=new u(n.$http,n.$window,n.$timeout,n.$q,n.SatellizerConfig,n.SatellizerPopup,n.SatellizerStorage);break;default:return i(new Error("Invalid OAuth Type"))}return o.init(a,t).then(function(e){a.url&&n.SatellizerShared.setToken(e),r(e)})["catch"](function(e){i(e)})})},t.prototype.unlink=function(t,n){return void 0===n&&(n={}),n.url=n.url?n.url:e(this.SatellizerConfig.baseUrl,this.SatellizerConfig.unlinkUrl),n.data={provider:t}||n.data,n.method=n.method||"POST",n.withCredentials=n.withCredentials||this.SatellizerConfig.withCredentials,this.$http(n)},t.$inject=["$http","$window","$timeout","$q","SatellizerConfig","SatellizerPopup","SatellizerStorage","SatellizerShared","SatellizerOAuth1","SatellizerOAuth2"],t}(),d=function(){function e(e,t){this.$window=e,this.SatellizerConfig=t,this.memoryStore={}}return e.prototype.get=function(e){try{return this.$window[this.SatellizerConfig.storageType].getItem(e)}catch(t){return this.memoryStore[e]}},e.prototype.set=function(e,t){try{this.$window[this.SatellizerConfig.storageType].setItem(e,t)}catch(n){this.memoryStore[e]=t}},e.prototype.remove=function(e){try{this.$window[this.SatellizerConfig.storageType].removeItem(e)}catch(t){delete this.memoryStore[e]}},e.$inject=["$window","SatellizerConfig"],e}(),f=function(){function e(e,t,n){var r=this;this.SatellizerConfig=e,this.SatellizerShared=t,this.SatellizerStorage=n,this.request=function(e){if(e.skipAuthorization)return e;if(r.SatellizerShared.isAuthenticated()&&r.SatellizerConfig.httpInterceptor()){var t=r.SatellizerConfig.tokenPrefix?[r.SatellizerConfig.tokenPrefix,r.SatellizerConfig.tokenName].join("_"):r.SatellizerConfig.tokenName,n=r.SatellizerStorage.get(t);r.SatellizerConfig.tokenHeader&&r.SatellizerConfig.tokenType&&(n=r.SatellizerConfig.tokenType+" "+n),e.headers[r.SatellizerConfig.tokenHeader]=n}return e}}return e.Factory=function(t,n,r){return new e(t,n,r)},e.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"],e}();f.Factory.$inject=["SatellizerConfig","SatellizerShared","SatellizerStorage"];var m=function(){function e(e){this.$httpProvider=e,e.interceptors.push(f.Factory)}return e.$inject=["$httpProvider"],e}();angular.module("satellizer",[]).provider("$auth",["SatellizerConfig",function(e){return new a(e)}]).constant("SatellizerConfig",i.getConstant).service("SatellizerShared",o).service("SatellizerLocal",s).service("SatellizerPopup",l).service("SatellizerOAuth",p).service("SatellizerOAuth2",u).service("SatellizerOAuth1",c).service("SatellizerStorage",d).service("SatellizerInterceptor",f).config(["$httpProvider",function(e){return new m(e)}]);var g="satellizer";return g}),function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};if(t=function(e){"use strict";var t;return t=e.module("pathgather.popeye",[]),t.provider("Popeye",function(){var t;return t={defaults:{containerTemplate:'<div class="popeye-modal-container">\n  <div class="popeye-modal">\n    <a class="popeye-close-modal" href ng-click="$close()"></a>\n  </div>\n</div>',containerTemplateUrl:null,bodyClass:"popeye-modal-open",containerClass:null,modalClass:null,locals:null,resolve:null,scope:null,controller:null,keyboard:!0,click:!0},$get:["$q","$animate","$rootScope","$document","$http","$templateCache","$compile","$controller","$injector",function(r,i,a,o,s,l,c,u,p){var d,f,m;return f=null,m=null,o.on("keydown",function(e){if(27===e.which&&null!=f&&f.options.keyboard)return f.close({reason:"keyboard"})}),d=function(){function d(i){if(null==i&&(i={}),this.handleError=n(this.handleError,this),this.close=n(this.close,this),this.open=n(this.open,this),this.resolve=n(this.resolve,this),null==i.template&&null==i.templateUrl)throw new Error("template or templateUrl must be provided");this.options=e.extend(e.copy(t.defaults),i),this.resolvedDeferred=r.defer(),this.resolved=this.resolvedDeferred.promise,this.openedDeferred=r.defer(),this.opened=this.openedDeferred.promise,this.closedDeferred=r.defer(),this.closed=this.closedDeferred.promise}return d.prototype.resolve=function(){return this.resolving?this.resolved:(this.resolving=!0,r.when({}).then(function(t){return function(){var n,i;return n=e.extend({modal:t},t.options.locals),i=e.extend({},t.options.resolve),e.forEach(i,function(t,r){return n[r]=e.isString(t)?p.get(t):p.invoke(t,null,n)}),r.all(n)}}(this)).then(function(t){return function(n){return t.scope=null!=t.options.scope?t.options.scope:a.$new(),t.scope.$close=function(){return t.close.apply(t,arguments)},t.options.controller&&(t.controller=u(t.options.controller,e.extend({$scope:t.scope},n))),t.resolvedDeferred.resolve(t)}}(this),function(e){return function(t){return e.handleError(t)}}(this)),this.resolved)},d.prototype.open=function(){var t;return this.opening?this.opened:(this.opening=!0,t=null!=m?m=m.then(function(e){return function(t){return t.close().then(function(){return e})}}(this)):null!=f?m=f.close().then(function(e){return function(){return e}}(this)):(m=this.opened,r.when()),t.then(function(t){return function(){return t.resolve().then(function(){var n;if(null==t.scope)throw new Error("@scope is undefined");return n=null!=t.options.containerTemplate?r.when({data:t.options.containerTemplate}):null!=t.options.containerTemplateUrl?s.get(t.options.containerTemplateUrl,{cache:l}):r.reject("Missing containerTemplate or containerTemplateUrl"),n.then(function(n){var a,u;return a=e.element(n.data),t.options.containerClass&&a.addClass(t.options.containerClass),u=null!=t.options.template?r.when({data:t.options.template}):null!=t.options.templateUrl?s.get(t.options.templateUrl,{cache:l}):r.reject("Missing containerTemplate or containerTemplateUrl"),u.then(function(n){var r,s;return e.element(a[0].querySelector(".popeye-modal")).append(n.data),
t.options.click&&a.on("click",function(e){if(e.target===e.currentTarget)return t.close()}),t.container=c(a)(t.scope),t.element=e.element(t.container[0].querySelector(".popeye-modal")),t.options.modalClass&&t.element.addClass(t.options.modalClass),r=o.find("body"),r[0].lastChild&&(s=e.element(r[0].lastChild)),t.options.bodyClass&&r.addClass(t.options.bodyClass),i.enter(t.container,r,s).then(function(){return f=t,t.openedDeferred.resolve(t)})})})})}}(this))["catch"](function(e){return function(t){return e.handleError(t)}}(this))["finally"](function(){return m=null}),this.opened)},d.prototype.close=function(e){return this.closing?this.closed:(this.closing=!0,this.opened.then(function(t){return function(){if(null==t.container)throw new Error("@container is undefined");return i.leave(t.container).then(function(){return f=null,t.options.scope||t.scope.$destroy(),o.find("body").removeClass(t.options.bodyClass),t.closedDeferred.resolve(e)},function(e){return t.handleError(e)})}}(this)),this.closed)},d.prototype.handleError=function(e){return this.resolvedDeferred.reject(e),this.openedDeferred.reject(e),this.closedDeferred.reject(e)},d}(),{openModal:function(e){var t;return null==e&&(e={}),t=new d(e),t.open(),t},closeCurrentModal:function(e){return null!=f&&f.close(e),f},isModalOpen:function(){return!!f}}}]}})},null!=("undefined"!=typeof window&&null!==window?window.angular:void 0))t(window.angular);else{if("function"!=typeof require)throw new Error("Could not find angular on window nor via require()");e=require("angular"),t(e)}"undefined"!=typeof module&&null!==module&&(module.exports="pathgather.popeye")}.call(this),function(e){"use strict";var t=e.module("angular-bind-html-compile",[]);t.directive("bindHtmlCompile",["$compile",function(e){return{restrict:"A",link:function(t,n,r){t.$watch(function(){return t.$eval(r.bindHtmlCompile)},function(i){n.html(i&&i.toString());var a=t;r.bindHtmlScope&&(a=t.$eval(r.bindHtmlScope)),e(n.contents())(a)})}}}])}(window.angular),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.AlephBet=e()}}(function(){var e;return function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return i(n?n:t)},u,u.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,n,r){(function(){function t(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=m[e])});i<16;)t[r+i++]=0;return t}function r(e,t){var n=t||0,r=f;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function i(e,t,n){var i=t&&n||0,a=t||[];e=e||{};var o=null!=e.clockseq?e.clockseq:_,s=null!=e.msecs?e.msecs:(new Date).getTime(),l=null!=e.nsecs?e.nsecs:b+1,c=s-y+(l-b)/1e4;if(c<0&&null==e.clockseq&&(o=o+1&16383),(c<0||s>y)&&null==e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=s,b=l,_=o,s+=122192928e5;var u=(1e4*(268435455&s)+l)%4294967296;a[i++]=u>>>24&255,a[i++]=u>>>16&255,a[i++]=u>>>8&255,a[i++]=255&u;var p=s/4294967296*1e4&268435455;a[i++]=p>>>8&255,a[i++]=255&p,a[i++]=p>>>24&15|16,a[i++]=p>>>16&255,a[i++]=o>>>8|128,a[i++]=255&o;for(var d=e.node||v,f=0;f<6;f++)a[i+f]=d[f];return t?t:r(a)}function a(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new d(16):null,e=null),e=e||{};var a=e.random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;s++)t[i+s]=a[s];return t||r(a)}var o,s=this;if("function"==typeof s.require)try{var l=s.require("crypto").randomBytes;o=l&&function(){return l(16)}}catch(c){}if(!o&&s.crypto&&crypto.getRandomValues){var u=new Uint8Array(16);o=function(){return crypto.getRandomValues(u),u}}if(!o){var p=new Array(16);o=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),p[t]=e>>>((3&t)<<3)&255;return p}}for(var d="function"==typeof s.Buffer?s.Buffer:Array,f=[],m={},g=0;g<256;g++)f[g]=(g+256).toString(16).substr(1),m[f[g]]=g;var h=o(),v=[1|h[0],h[1],h[2],h[3],h[4],h[5]],_=16383&(h[6]<<8|h[7]),y=0,b=0,w=a;if(w.v1=i,w.v4=a,w.parse=t,w.unparse=r,w.BufferClass=d,"function"==typeof e&&e.amd)e(function(){return w});else if("undefined"!=typeof n&&n.exports)n.exports=w;else{var $=s.uuid;w.noConflict=function(){return s.uuid=$,w},s.uuid=w}}).call(this)},{}],2:[function(t,n,r){(function(t){"use strict";!function(t,i){"function"==typeof e&&e.amd?e([],i):"object"==typeof r?n.exports=i():t.store=i()}(this,function(){function e(){try{return o in i&&i[o]}catch(e){return!1}}var n,r={},i="undefined"!=typeof window?window:t,a=i.document,o="localStorage",s="script";if(r.disabled=!1,r.version="1.3.20",r.set=function(e,t){},r.get=function(e,t){},r.has=function(e){return void 0!==r.get(e)},r.remove=function(e){},r.clear=function(){},r.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var i=r.get(e,t);n(i),r.set(e,i)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())n=i[o],r.set=function(e,t){return void 0===t?r.remove(e):(n.setItem(e,r.serialize(t)),t)},r.get=function(e,t){var i=r.deserialize(n.getItem(e));return void 0===i?t:i},r.remove=function(e){n.removeItem(e)},r.clear=function(){n.clear()},r.getAll=function(){var e={};return r.forEach(function(t,n){e[t]=n}),e},r.forEach=function(e){for(var t=0;t<n.length;t++){var i=n.key(t);e(i,r.get(i))}};else if(a&&a.documentElement.addBehavior){var l,c;try{c=new ActiveXObject("htmlfile"),c.open(),c.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),c.close(),l=c.w.frames[0].document,n=l.createElement("div")}catch(u){n=a.createElement("div"),l=a.body}var p=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(n),l.appendChild(n),n.addBehavior("#default#userData"),n.load(o);var i=e.apply(r,t);return l.removeChild(n),i}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),f=function(e){return e.replace(/^d/,"___$&").replace(d,"___")};r.set=p(function(e,t,n){return t=f(t),void 0===n?r.remove(t):(e.setAttribute(t,r.serialize(n)),e.save(o),n)}),r.get=p(function(e,t,n){t=f(t);var i=r.deserialize(e.getAttribute(t));return void 0===i?n:i}),r.remove=p(function(e,t){t=f(t),e.removeAttribute(t),e.save(o)}),r.clear=p(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(o)}),r.getAll=function(e){var t={};return r.forEach(function(e,n){t[e]=n}),t},r.forEach=p(function(e,t){for(var n,i=e.XMLDocument.documentElement.attributes,a=0;n=i[a];++a)t(n.name,r.deserialize(e.getAttribute(n.name)))})}try{var m="__storejs__";r.set(m,m),r.get(m)!=m&&(r.disabled=!0),r.remove(m)}catch(u){r.disabled=!0}return r.enabled=!r.disabled,r})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){var r,i,a,o=function(e,t){return function(){return e.apply(t,arguments)}};a=e("./utils"),i=e("./storage"),r=function(){function e(){}return e.GimelAdapter=function(){function t(t,n,r){null==r&&(r=e.LocalStorageAdapter),this.goal_complete=o(this.goal_complete,this),this.experiment_start=o(this.experiment_start,this),this._storage=r,this.url=t,this.namespace=n,this._queue=JSON.parse(this._storage.get(this.queue_name)||"[]"),this._flush()}return t.prototype.queue_name="_gimel_queue",t.prototype._remove_uuid=function(e){return function(t){return function(n,r){if(!n)return a.remove(t._queue,function(t){return t.properties.uuid===e}),t._storage.set(t.queue_name,JSON.stringify(t._queue))}}(this)},t.prototype._jquery_get=function(e,t,n){return a.log("send request using jQuery"),window.jQuery.ajax({method:"GET",url:e,data:t,success:n})},t.prototype._plain_js_get=function(e,t,n){var r,i,o,s;return a.log("fallback on plain js xhr"),s=new XMLHttpRequest,i=function(){var e;e=[];for(r in t)o=t[r],e.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return e}(),i=i.join("&").replace(/%20/g,"+"),s.open("GET",e+"?"+i),s.onload=function(){if(200===s.status)return n()},s.send()},t.prototype._ajax_get=function(e,t,n){var r;return(null!=(r=window.jQuery)?r.ajax:void 0)?this._jquery_get(e,t,n):this._plain_js_get(e,t,n)},t.prototype._flush=function(){var e,t,n,r,i,a;for(i=this._queue,a=[],t=0,r=i.length;t<r;t++)n=i[t],e=this._remove_uuid(n.properties.uuid),this._ajax_get(this.url,n.properties,e),a.push(null);return a},t.prototype._track=function(e,t,n){return a.log("Persistent Queue Gimel track: "+this.namespace+", "+e+", "+t+", "+n),this._queue.length>100&&this._queue.shift(),this._queue.push({properties:{experiment:e,uuid:a.uuid(),variant:t,event:n,namespace:this.namespace}}),this._storage.set(this.queue_name,JSON.stringify(this._queue)),this._flush()},t.prototype.experiment_start=function(e,t){return this._track(e,t,"participate")},t.prototype.goal_complete=function(e,t,n){return this._track(e,t,n)},t}(),e.PersistentQueueGoogleAnalyticsAdapter=function(){function t(t){null==t&&(t=e.LocalStorageAdapter),this.goal_complete=o(this.goal_complete,this),this.experiment_start=o(this.experiment_start,this),this._storage=t,this._queue=JSON.parse(this._storage.get(this.queue_name)||"[]"),this._flush()}return t.prototype.namespace="alephbet",t.prototype.queue_name="_ga_queue",t.prototype._remove_uuid=function(e){return function(t){return function(){return a.remove(t._queue,function(t){return t.uuid===e}),t._storage.set(t.queue_name,JSON.stringify(t._queue))}}(this)},t.prototype._flush=function(){var e,t,n,r,i,a;if("function"!=typeof ga)throw"ga not defined. Please make sure your Universal analytics is set up correctly";for(i=this._queue,a=[],t=0,r=i.length;t<r;t++)n=i[t],e=this._remove_uuid(n.uuid),a.push(ga("send","event",n.category,n.action,n.label,{hitCallback:e,nonInteraction:1}));return a},t.prototype._track=function(e,t,n){return a.log("Persistent Queue Google Universal Analytics track: "+e+", "+t+", "+n),this._queue.length>100&&this._queue.shift(),this._queue.push({uuid:a.uuid(),category:e,action:t,label:n}),this._storage.set(this.queue_name,JSON.stringify(this._queue)),this._flush()},t.prototype.experiment_start=function(e,t){return this._track(this.namespace,e+" | "+t,"Visitors")},t.prototype.goal_complete=function(e,t,n){return this._track(this.namespace,e+" | "+t,n)},t}(),e.PersistentQueueKeenAdapter=function(){function t(t,n){null==n&&(n=e.LocalStorageAdapter),this.goal_complete=o(this.goal_complete,this),this.experiment_start=o(this.experiment_start,this),this.client=t,this._storage=n,this._queue=JSON.parse(this._storage.get(this.queue_name)||"[]"),this._flush()}return t.prototype.queue_name="_keen_queue",t.prototype._remove_uuid=function(e){return function(t){return function(n,r){if(!n)return a.remove(t._queue,function(t){return t.properties.uuid===e}),t._storage.set(t.queue_name,JSON.stringify(t._queue))}}(this)},t.prototype._flush=function(){var e,t,n,r,i,a;for(i=this._queue,a=[],t=0,r=i.length;t<r;t++)n=i[t],e=this._remove_uuid(n.properties.uuid),a.push(this.client.addEvent(n.experiment_name,n.properties,e));return a},t.prototype._track=function(e,t,n){return a.log("Persistent Queue Keen track: "+e+", "+t+", "+n),this._queue.length>100&&this._queue.shift(),this._queue.push({experiment_name:e,properties:{uuid:a.uuid(),variant:t,event:n}}),this._storage.set(this.queue_name,JSON.stringify(this._queue)),this._flush()},t.prototype.experiment_start=function(e,t){return this._track(e,t,"participate")},t.prototype.goal_complete=function(e,t,n){return this._track(e,t,n)},t}(),e.GoogleUniversalAnalyticsAdapter=function(){function e(){}return e.namespace="alephbet",e._track=function(e,t,n){if(a.log("Google Universal Analytics track: "+e+", "+t+", "+n),"function"!=typeof ga)throw"ga not defined. Please make sure your Universal analytics is set up correctly";return ga("send","event",e,t,n,{nonInteraction:1})},e.experiment_start=function(t,n){return e._track(e.namespace,t+" | "+n,"Visitors")},e.goal_complete=function(t,n,r){return e._track(e.namespace,t+" | "+n,r)},e}(),e.LocalStorageAdapter=function(){function e(){}return e.namespace="alephbet",e.set=function(e,t){return new i(this.namespace).set(e,t)},e.get=function(e){return new i(this.namespace).get(e)},e}(),e}(),t.exports=r},{"./storage":6,"./utils":7}],4:[function(e,t,n){var r,i,a,o,s=function(e,t){return function(){return e.apply(t,arguments)}};o=e("./utils"),i=e("./adapters"),a=e("./options"),r=function(){function e(){}return e.options=a,e.utils=o,e.GimelAdapter=i.GimelAdapter,e.PersistentQueueGoogleAnalyticsAdapter=i.PersistentQueueGoogleAnalyticsAdapter,e.PersistentQueueKeenAdapter=i.PersistentQueueKeenAdapter,e.Experiment=function(){function e(r){this.options=null!=r?r:{},this.add_goals=s(this.add_goals,this),this.add_goal=s(this.add_goal,this),o.defaults(this.options,e._options),n.call(this),this.name=this.options.name,this.variants=this.options.variants,this.variant_names=o.keys(this.variants),t.call(this)}var t,n;return e._options={name:null,variants:null,sample:1,trigger:function(){return!0},tracking_adapter:i.GoogleUniversalAnalyticsAdapter,storage_adapter:i.LocalStorageAdapter},e.prototype.run=function(){var e;return o.log("running with options: "+JSON.stringify(this.options)),(e=this.get_stored_variant())?(o.log(e+" active"),this.activate_variant(e)):this.conditionally_activate_variant()},t=function(){return this.run()},e.prototype.activate_variant=function(e){var t;return null!=(t=this.variants[e])&&t.activate(this),this.storage().set(this.options.name+":variant",e)},e.prototype.conditionally_activate_variant=function(){var e;if(this.options.trigger()&&(o.log("trigger set"),this.in_sample()))return o.log("in sample"),e=this.pick_variant(),this.tracking().experiment_start(this.options.name,e),this.activate_variant(e)},e.prototype.goal_complete=function(e,t){var n;if(null==t&&(t={}),o.defaults(t,{unique:!0}),(!t.unique||!this.storage().get(this.options.name+":"+e))&&(n=this.get_stored_variant()))return t.unique&&this.storage().set(this.options.name+":"+e,!0),o.log("experiment: "+this.options.name+" variant:"+n+" goal:"+e+" complete"),this.tracking().goal_complete(this.options.name,n,e)},e.prototype.get_stored_variant=function(){return this.storage().get(this.options.name+":variant")},e.prototype.pick_variant=function(){var e,t,n;return t=1/this.variant_names.length,e=Math.floor(Math.random()/t),n=this.variant_names[e],o.log(n+" picked"),n},e.prototype.in_sample=function(){var e;return e=this.storage().get(this.options.name+":in_sample"),"undefined"!=typeof e?e:(e=Math.random()<=this.options.sample,this.storage().set(this.options.name+":in_sample",e),e)},e.prototype.add_goal=function(e){return e.add_experiment(this)},e.prototype.add_goals=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.add_goal(t));return i},e.prototype.storage=function(){return this.options.storage_adapter},e.prototype.tracking=function(){return this.options.tracking_adapter},n=function(){if(null===this.options.name)throw"an experiment name must be specified";if(null===this.options.variants)throw"variants must be provided";if("function"!=typeof this.options.trigger)throw"trigger must be a function"},e}(),e.Goal=function(){function e(e,t){this.name=e,this.props=null!=t?t:{},o.defaults(this.props,{unique:!0}),this.experiments=[]}return e.prototype.add_experiment=function(e){return this.experiments.push(e)},e.prototype.add_experiments=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.add_experiment(t));return i},e.prototype.complete=function(){var e,t,n,r,i;for(r=this.experiments,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(e.goal_complete(this.name,this.props));return i},e}(),e}(),t.exports=r},{"./adapters":3,"./options":5,"./utils":7}],5:[function(e,t,n){t.exports={debug:!1}},{}],6:[function(e,t,n){var r,i;i=e("store"),r=function(){function e(e){if(this.namespace=null!=e?e:"alephbet",!i.enabled)throw"local storage not supported";this.storage=i.get(this.namespace)||{}}return e.prototype.set=function(e,t){return this.storage[e]=t,i.set(this.namespace,this.storage),t},e.prototype.get=function(e){return this.storage[e]},e}(),t.exports=r},{store:2}],7:[function(e,t,n){var r,i,a,o;i=e("lodash.custom"),o=e("node-uuid"),a=e("./options"),r=function(){function e(){}return e.defaults=i.defaults,e.keys=i.keys,e.remove=i.remove,e.log=function(e){if(a.debug)return console.log(e)},e.uuid=o.v4,e}(),t.exports=r},{"./options":5,"lodash.custom":8,"node-uuid":1}],8:[function(e,t,n){(function(e){(function(){function r(e){return!!e&&"object"==typeof e}function i(){}function a(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function o(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function s(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function l(e,t){var n;if(null==t)n=e;else{n=ot(t);var r=e;r||(r={});for(var i=-1,a=n.length;++i<a;){var o=n[i];r[o]=t[o]}n=r}return n}function c(e,t,n){var r=typeof e;return"function"==r?t===J?e:y(e,t,n):null==e?H:"object"==r?g(e):t===J?K(e):h(e,t)}function u(e,t,n,r,i,s,c){var d;if(n&&(d=i?n(e,r,i):n(e)),d!==J)return d;if(!z(e))return e;if(r=rt(e)){if(d=T(e),!t)return a(e,d)}else{var f=Be.call(e),m=f==re;if(f!=ae&&f!=Z&&(!m||i))return ke[f]?C(e,f,t):i?e:{};if(De(e))return i?e:{};if(d=k(m?{}:e),!t)return l(d,e)}for(s||(s=[]),c||(c=[]),i=s.length;i--;)if(s[i]==e)return c[i];return s.push(e),c.push(d),(r?o:p)(e,function(r,i){d[i]=u(r,t,n,i,e,s,c)}),d}function p(e,t){return tt(e,t,ot)}function d(e,t,n){if(null!=e){e=N(e),n!==J&&n in e&&(t=[n]),n=0;for(var r=t.length;null!=e&&n<r;)e=N(e)[t[n++]];return n&&n==r?e:J}}function f(e,t,n,i,a,o){if(e===t)e=!0;else if(null==e||null==t||!z(e)&&!r(t))e=e!==e&&t!==t;else e:{var s=f,l=rt(e),c=rt(t),u=Q,p=Q;l||(u=Be.call(e),u==Z?u=ae:u!=ae&&(l=W(e))),c||(p=Be.call(t),p==Z?p=ae:p!=ae&&W(t));var d=u==ae&&!De(e),c=p==ae&&!De(t),p=u==p;if(!p||l||d){if(!i&&(u=d&&Ue.call(e,"__wrapped__"),c=c&&Ue.call(t,"__wrapped__"),u||c)){e=s(u?e.value():e,c?t.value():t,n,i,a,o);break e}if(p){for(a||(a=[]),o||(o=[]),u=a.length;u--;)if(a[u]==e){e=o[u]==t;break e}a.push(e),o.push(t),e=(l?w:x)(e,t,s,n,i,a,o),a.pop(),o.pop()}else e=!1}else e=$(e,t,u)}return e}function m(e,t){var n=t.length,r=n;if(null==e)return!r;for(e=N(e);n--;){var i=t[n];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++n<r;){var i=t[n],a=i[0],o=e[a],s=i[1];if(i[2]){if(o===J&&!(a in e))return!1}else if(i=J,i===J?!f(s,o,void 0,!0):!i)return!1}return!0}function g(e){var t=S(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e=N(e),e[n]===r&&(r!==J||n in e))}}return function(e){return m(e,t)}}function h(e,t){var n=rt(e),r=O(e)&&t===t&&!z(t),i=e+"";return e=D(e),function(a){if(null==a)return!1;var o=i;if(a=N(a),!(!n&&r||o in a)){if(1!=e.length){var o=e,s=0,l=-1,c=-1,u=o.length,s=null==s?0:+s||0;for(0>s&&(s=-s>u?0:u+s),l=l===J||l>u?u:+l||0,0>l&&(l+=u),u=s>l?0:l-s>>>0,s>>>=0,l=Array(u);++c<u;)l[c]=o[c+s];a=d(a,l)}if(null==a)return!1;o=R(e),a=N(a)}return a[o]===t?t!==J||o in a:f(t,a[o],J,!0)}}function v(e){return function(t){return null==t?J:N(t)[e]}}function _(e){var t=e+"";return e=D(e),function(n){return d(n,e,t)}}function y(e,t,n){if("function"!=typeof e)return H;if(t===J)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)};case 5:return function(n,r,i,a,o){return e.call(t,n,r,i,a,o)}}return function(){return e.apply(t,arguments)}}function b(e){var t=new Ve(e.byteLength);return new He(t).set(new He(e)),t}function w(e,t,n,r,i,a,o){var l=-1,c=e.length,u=t.length;if(c!=u&&!(i&&u>c))return!1;for(;++l<c;){var p=e[l],u=t[l],d=r?r(i?u:p,i?p:u,l):J;if(d!==J){if(d)continue;return!1}if(i){if(!s(t,function(e){return p===e||n(p,e,r,i,a,o)}))return!1}else if(p!==u&&!n(p,u,r,i,a,o))return!1}return!0}function $(e,t,n){switch(n){case ee:case te:return+e==+t;case ne:return e.name==t.name&&e.message==t.message;case ie:return e!=+e?t!=+t:e==+t;case oe:case se:return e==t+""}return!1}function x(e,t,n,r,i,a,o){var s=ot(e),l=s.length,c=ot(t).length;if(l!=c&&!i)return!1;for(c=l;c--;){var u=s[c];if(!(i?u in t:Ue.call(t,u)))return!1}for(var p=i;++c<l;){var u=s[c],d=e[u],f=t[u],m=r?r(i?f:d,i?d:f,u):J;if(m===J?!n(d,f,r,i,a,o):!m)return!1;p||(p="constructor"==u)}return!(!p&&(n=e.constructor,r=t.constructor,n!=r&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)))}function S(e){e=q(e);for(var t=e.length;t--;){var n=e[t][1];e[t][2]=n===n&&!z(n)}return e}function E(e,t){var n=null==e?J:e[t];return U(n)?n:J}function T(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ue.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function k(e){return e=e.constructor,"function"==typeof e&&e instanceof e||(e=Object),new e}function C(e,t,n){var r=e.constructor;switch(t){case le:return b(e);case ee:case te:return new r((+e));case ce:case ue:case pe:case de:case fe:case me:case ge:case he:case ve:return r instanceof r&&(r=Ze[t]),t=e.buffer,new r(n?b(t):t,e.byteOffset,e.length);case ie:case se:return new r(e);case oe:var i=new r(e.source,$e.exec(e));i.lastIndex=e.lastIndex}return i}function A(e,t){return e="number"==typeof e||Se.test(e)?+e:-1,t=null==t?Xe:t,-1<e&&0==e%1&&e<t}function P(e,t,n){if(!z(n))return!1;var r=typeof t;return!!("number"==r?null!=n&&j(nt(n))&&A(t,n.length):"string"==r&&t in n)&&(t=n[t],e===e?e===t:t!==t)}function O(e){var t=typeof e;return!!("string"==t&&ye.test(e)||"number"==t)||!rt(e)&&(!_e.test(e)||!1)}function j(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=Xe}function I(e){for(var t=V(e),n=t.length,r=n&&e.length,i=!!r&&j(r)&&(rt(e)||M(e)||B(e)),a=-1,o=[];++a<n;){var s=t[a];(i&&A(s,r)||Ue.call(e,s))&&o.push(s)}return o}function N(e){if(i.support.unindexedChars&&B(e)){for(var t=-1,n=e.length,r=Object(e);++t<n;)r[t]=e.charAt(t);return r}return z(e)?e:Object(e)}function D(e){if(rt(e))return e;var t=[];return(null==e?"":e+"").replace(be,function(e,n,r,i){t.push(r?i.replace(we,"$1"):n||e)}),t}function R(e){var t=e?e.length:0;return t?e[t-1]:J}function L(e,t){if("function"!=typeof e)throw new TypeError(X);return t=Je(t===J?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=Je(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}for(i=Array(t+1),r=-1;++r<t;)i[r]=n[r];return i[t]=a,e.apply(this,i)}}function M(e){return r(e)&&null!=e&&j(nt(e))&&Ue.call(e,"callee")&&!qe.call(e,"callee")}function F(e){return z(e)&&Be.call(e)==re}function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){return null!=e&&(F(e)?We.test(ze.call(e)):r(e)&&(De(e)?We:xe).test(e))}function B(e){return"string"==typeof e||r(e)&&Be.call(e)==se}function W(e){return r(e)&&j(e.length)&&!!Te[Be.call(e)]}function V(e){if(null==e)return[];z(e)||(e=Object(e));for(var t=e.length,n=i.support,t=t&&j(t)&&(rt(e)||M(e)||B(e))&&t||0,r=e.constructor,a=-1,r=F(r)&&r.prototype||Me,o=r===e,s=Array(t),l=0<t,c=n.enumErrorProps&&(e===Le||e instanceof Error),u=n.enumPrototypes&&F(e);++a<t;)s[a]=a+"";for(var p in e)u&&"prototype"==p||c&&("message"==p||"name"==p)||l&&A(p,t)||"constructor"==p&&(o||!Ue.call(e,p))||s.push(p);if(n.nonEnumShadows&&e!==Me)for(t=e===Fe?se:e===Le?ne:Be.call(e),n=Qe[t]||Qe[ae],t==ae&&(r=Me),t=Ee.length;t--;)p=Ee[t],a=n[p],o&&a||(a?!Ue.call(e,p):e[p]===r[p])||s.push(p);return s}function q(e){e=N(e);for(var t=-1,n=ot(e),r=n.length,i=Array(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function G(e,t,n){return n&&P(e,t,n)&&(t=J),r(e)?Y(e):c(e,t)}function H(e){return e}function Y(e){return g(u(e,!0))}function K(e){return O(e)?v(e):_(e)}var J,X="Expected a function",Z="[object Arguments]",Q="[object Array]",ee="[object Boolean]",te="[object Date]",ne="[object Error]",re="[object Function]",ie="[object Number]",ae="[object Object]",oe="[object RegExp]",se="[object String]",le="[object ArrayBuffer]",ce="[object Float32Array]",ue="[object Float64Array]",pe="[object Int8Array]",de="[object Int16Array]",fe="[object Int32Array]",me="[object Uint8Array]",ge="[object Uint8ClampedArray]",he="[object Uint16Array]",ve="[object Uint32Array]",_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ye=/^\w*$/,be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,we=/\\(\\)?/g,$e=/\w*$/,xe=/^\[object .+?Constructor\]$/,Se=/^\d+$/,Ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Te={};Te[ce]=Te[ue]=Te[pe]=Te[de]=Te[fe]=Te[me]=Te[ge]=Te[he]=Te[ve]=!0,Te[Z]=Te[Q]=Te[le]=Te[ee]=Te[te]=Te[ne]=Te[re]=Te["[object Map]"]=Te[ie]=Te[ae]=Te[oe]=Te["[object Set]"]=Te[se]=Te["[object WeakMap]"]=!1;var ke={};ke[Z]=ke[Q]=ke[le]=ke[ee]=ke[te]=ke[ce]=ke[ue]=ke[pe]=ke[de]=ke[fe]=ke[ie]=ke[ae]=ke[oe]=ke[se]=ke[me]=ke[ge]=ke[he]=ke[ve]=!0,ke[ne]=ke[re]=ke["[object Map]"]=ke["[object Set]"]=ke["[object WeakMap]"]=!1;var Ce={"function":!0,object:!0},Ae=Ce[typeof n]&&n&&!n.nodeType&&n,Pe=Ce[typeof t]&&t&&!t.nodeType&&t,Oe=Ce[typeof self]&&self&&self.Object&&self,je=Ce[typeof window]&&window&&window.Object&&window,Ie=Pe&&Pe.exports===Ae&&Ae,Ne=Ae&&Pe&&"object"==typeof e&&e&&e.Object&&e||je!==(this&&this.window)&&je||Oe||this,De=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}(),Re=Array.prototype,Le=Error.prototype,Me=Object.prototype,Fe=String.prototype,ze=Function.prototype.toString,Ue=Me.hasOwnProperty,Be=Me.toString,We=RegExp("^"+ze.call(Ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=Ne.ArrayBuffer,qe=Me.propertyIsEnumerable,Ge=Re.splice,He=Ne.Uint8Array,Ye=E(Array,"isArray"),Ke=E(Object,"keys"),Je=Math.max,Xe=9007199254740991,Ze={};Ze[ce]=Ne.Float32Array,Ze[ue]=Ne.Float64Array,Ze[pe]=Ne.Int8Array,Ze[de]=Ne.Int16Array,Ze[fe]=Ne.Int32Array,Ze[me]=He,Ze[ge]=Ne.Uint8ClampedArray,Ze[he]=Ne.Uint16Array,Ze[ve]=Ne.Uint32Array;var Qe={};Qe[Q]=Qe[te]=Qe[ie]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Qe[ee]=Qe[se]={constructor:!0,toString:!0,valueOf:!0},Qe[ne]=Qe[re]=Qe[oe]={constructor:!0,toString:!0},Qe[ae]={constructor:!0},o(Ee,function(e){for(var t in Qe)if(Ue.call(Qe,t)){var n=Qe[t];n[e]=Ue.call(n,e)}});var et=i.support={};!function(e){function t(){this.x=e}var n={0:e,length:e},r=[];t.prototype={valueOf:e,y:e};for(var i in new t)r.push(i);et.enumErrorProps=qe.call(Le,"message")||qe.call(Le,"name"),et.enumPrototypes=qe.call(t,"prototype"),et.nonEnumShadows=!/valueOf/.test(r),et.spliceObjects=(Ge.call(n,0,1),!n[0]),et.unindexedChars="xx"!="x"[0]+Object("x")[0]}(1,0);var tt=function(e){return function(t,n,r){var i=N(t);r=r(t);for(var a=r.length,o=e?a:-1;e?o--:++o<a;){var s=r[o];if(!1===n(i[s],s,i))break}return t}}(),nt=v("length"),rt=Ye||function(e){return r(e)&&j(e.length)&&Be.call(e)==Q},it=function(e){return L(function(t,n){var r=-1,i=null==t?0:n.length,a=2<i?n[i-2]:J,o=2<i?n[2]:J,s=1<i?n[i-1]:J;for("function"==typeof a?(a=y(a,s,5),i-=2):(a="function"==typeof s?s:J,i-=a?1:0),o&&P(n[0],n[1],o)&&(a=3>i?J:a,i=1);++r<i;)(o=n[r])&&e(t,o,a);return t})}(function(e,t,n){if(n)for(var r=-1,i=ot(t),a=i.length;++r<a;){var o=i[r],s=e[o],c=n(s,t[o],o,e,t);(c===c?c===s:s!==s)&&(s!==J||o in e)||(e[o]=c)}else e=l(e,t);return e}),at=function(e,t){return L(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(J,n))})}(it,function(e,t){return e===J?t:e}),ot=Ke?function(e){var t=null==e?J:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?i.support.enumPrototypes:null!=e&&j(nt(e)))?I(e):z(e)?Ke(e):[]}:I;i.assign=it,i.callback=G,i.defaults=at,i.keys=ot,i.keysIn=V,i.matches=Y,i.pairs=q,i.property=K,i.remove=function(e,t,n){var r=[];if(!e||!e.length)return r;var a=-1,o=[],s=e.length,l=i.callback||G,l=l===G?c:l;for(t=l(t,n,3);++a<s;)n=e[a],t(n,a,e)&&(r.push(n),o.push(a));for(t=e?o.length:0;t--;)if(a=o[t],a!=u&&A(a)){var u=a;Ge.call(e,a,1)}return r},i.restParam=L,i.extend=it,i.iteratee=G,i.identity=H,i.isArguments=M,i.isArray=rt,i.isFunction=F,i.isNative=U,i.isObject=z,i.isString=B,i.isTypedArray=W,i.last=R,i.VERSION="3.10.0",Ae&&Pe&&Ie&&((Pe.exports=i)._=i)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[4])(4)}),function(e,t,n){"use strict";t.module("angulartics.google.analytics",["angulartics"]).config(["$analyticsProvider",function(r){function i(t){if(e.ga){for(var n={},r=1;r<=200;r++)"undefined"!=typeof t["dimension"+r]&&(n["dimension"+r]=t["dimension"+r]),"undefined"!=typeof t["metric"+r]&&(n["metric"+r]=t["metric"+r]);return n}}function a(n,a){if(!r.settings.ga.disableEventTracking){if(a&&a.category||(a=a||{},a.category="Event"),a.value){var o=parseInt(a.value,10);a.value=isNaN(o)?0:o}if(a.hitCallback&&"function"!=typeof a.hitCallback&&(a.hitCallback=null),a.hasOwnProperty("nonInteraction")||(a.nonInteraction=a.noninteraction),e.ga){var s={eventCategory:a.category,eventAction:n,eventLabel:a.label,eventValue:a.value,nonInteraction:a.nonInteraction,page:a.page||e.location.hash.substring(1)||e.location.pathname,userId:r.settings.ga.userId,hitCallback:a.hitCallback},l=i(a);t.extend(s,l),r.settings.ga.transport&&t.extend(s,r.settings.ga.transport),ga("send","event",s),t.forEach(r.settings.ga.additionalAccountNames,function(e){ga(e+".send","event",s)})}else e._gaq&&_gaq.push(["_trackEvent",a.category,n,a.label,a.value,a.nonInteraction])}}r.settings.pageTracking.trackRelativePath=!0,r.settings.ga={additionalAccountNames:n,disableEventTracking:null,disablePageTracking:null,userId:null},r.registerPageTrack(function(n){r.settings.ga.disablePageTracking||(e._gaq&&(_gaq.push(["_trackPageview",n]),t.forEach(r.settings.ga.additionalAccountNames,function(e){_gaq.push([e+"._trackPageview",n])})),e.ga&&(r.settings.ga.userId&&ga("set","userId",r.settings.ga.userId),ga("send","pageview",n),t.forEach(r.settings.ga.additionalAccountNames,function(e){ga(e+".send","pageview",n)})))}),r.registerEventTrack(a),r.registerExceptionTrack(function(e,t){a(e.toString(),{category:"Exceptions",label:e.stack,nonInteraction:!0})}),r.registerSetUsername(function(e){r.settings.ga.userId=e}),r.registerSetUserProperties(function(e){if(e){var t=i(e);ga("set",t)}}),r.registerUserTimings(function(t){return t&&t.timingCategory&&t.timingVar&&"undefined"!=typeof t.timingValue?void(e.ga&&ga("send","timing",t)):void console.log("Properties timingCategory, timingVar, and timingValue are required to be set.")})}])}(window,window.angular),angular.module("jw-webapp",["templates-app","angulartics.google.analytics","ui.router","pascalprecht.translate","ui.bootstrap","ngSanitize","isoCurrency","duScroll","angulartics","ui.slider","ngToast","youtube-embed","angular-toArrayFilter","satellizer","angular-bind-html-compile"]).constant("CONFIG",{ENV:"web",VERSION:window.JW_CONFIG.VERSION,WEBLOCALES:{de:"de_DE",us:"en_US",br:"pt_BR",au:"en_AU",nz:"en_NZ",ca:"en_CA",uk:"en_GB",ie:"en_IE",za:"en_ZA",fr:"fr_FR",es:"es_ES",mx:"es_MX",nl:"en_NL",fi:"en_FI",no:"en_NO",dk:"en_DK",se:"en_SE",jp:"ja_JP",be:"fr_BE",pt:"pt_PT",ee:"en_EE",lv:"en_LV",lt:"en_LT",ro:"en_RO",hu:"en_HU",bg:"en_BG",kr:"ko_KR"},API:window.JW_CONFIG.API,PULL_API:window.JW_CONFIG.PULL_URL,
USER_API:window.JW_CONFIG.USER_URL,FEEDBACK_API:window.JW_CONFIG.FEEDBACK_URL,COLLECTIONTYPES:["new","popular","search","watchlist","pricedrops","titlelist","offers","cinema","cinema-upcoming"],DOMAIN:window.JW_CONFIG.DOMAIN}).value("viewport",function(){var e,t;return t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e=t<=512?"smartphone":t<=670?"phablet":t<=960?"tablet":"desktop"}).filter("has",function(){return function(e,t,n,r){var i=[];return angular.forEach(e,function(e){var a=!1;angular.forEach(n,function(n){e[t].indexOf(n)!==-1&&(a=!0)}),(a&&!r||!a&&r)&&i.push(e)}),i}}).config(["$translateProvider",function(e){e.useLoader("languageUrlLoader"),e.useSanitizeValueStrategy(null)}]).config(["$analyticsProvider",function(e){e.virtualPageviews(!1),e.settings.ga.additionalAccountNames=["listTracker"]}]).run(["jwTrackingManager",function(e){var t={platform:"",url:window.JW_CONFIG.ID_URL,notificationUrl:window.JW_CONFIG.PULL_URL};t.platform="web",e.init(t.platform,t.url,t.notificationUrl),e.addTracker({trackingId:"UA-58489323-1",fieldsObject:"auto"}),e.addTracker({trackingId:"UA-58489323-4",fieldsObject:{cookieDomain:"auto",clientId:"{{UUID}}",name:"listTracker"}})}]).run(["storageMigrator",function(e){e.execute()}]).run(["storagePreferences",function(e){e.loadPreferences()}]).run(["translationFinished",function(e){e.init()}]).run(["launchFinished","$rootScope",function(e,t){e.init(),t.$watchCollection("readyInit",function(t,n){4===t.length&&e.finish()})}]).run(["$rootScope","translationFinished",function(e,t){e.readyInit=[],t.whenAvailable().then(function(){e.readyInit.push("translated")})}]).run(["localeManager","configRepository",function(e,t){e.setWebLocale(t.config.webLocale)}]).config(["$logProvider",function(e){e.debugEnabled(!1)}]).config(["$httpProvider",function(e){e.useApplyAsync(!0),e.interceptors.push("withCredentialsInterceptor"),e.interceptors.push("userTokenInterceptor")}]).config(["$compileProvider",function(e){e.debugInfoEnabled(!1)}]).config(["$locationProvider","$stateProvider","$urlRouterProvider",function(e,t,n){e.html5Mode(!0),e.hashPrefix("!"),n.otherwise(""),n.rule(function(e,t){var n=t.path(),r="/"===n[n.length-1];if(r){var i=n.substr(0,n.length-1);return i}})}]).config(["ngToastProvider",function(e){e.configure({animation:"fade",horizontalPosition:"right",verticalPosition:"top",maxNumber:5})}]).run(function(){"scrollRestoration"in history&&(history.scrollRestoration="manual")}).run(function(){window.FastClick.attach(document.body)}).run(["$timeout","jwTrackingManager",function(e,t){e(function(){return t.updatePushProfile(!1)})}]).run(["launchFinished",function(e){function t(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://www.youtube.com/iframe_api",document.getElementsByTagName("head")[0].appendChild(t)}e.listen().then(function(){angular.forEach(["https://www.youtube.com/iframe_api"],t)})}]),angular.module("jw-webapp").config(["$stateProvider","$urlRouterProvider","$i18nUrlMatcherFactoryProvider","CONFIG",function(e,t,n,r){e.state("app",{views:{head:{templateUrl:"head/head.tpl.html",controller:"headCtrl",resolve:{availableMonetizationTypes:["filterRepository",function(e){return e.getAvailableMonetizationTypesPromise()}]}},footer:{templateUrl:"footer/footer.tpl.html",controller:"footerCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers"])}]}}}}).state("app.titles",{data:{hasFilterBar:!0}}).state("app.titles.popular",{data:{collectionType:"popular"},views:{"main@":{templateUrl:"title/list/popular.tpl.html",controller:"titleCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers","genres"])}]}}}}).state("app.titles.popular.list",{url:n.compile({us:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",jp:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",kr:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ie:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",za:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",au:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ee:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lv:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lt:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ro:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",hu:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",bg:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nz:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ca:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",uk:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nl:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fi:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",no:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",dk:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",se:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",de:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",br:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",pt:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fr:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",be:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",es:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",mx:"/:locale?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch"})}).state("app.titles.popular.movie",{url:n.compile({us:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",jp:"/:locale/?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",kr:"/:locale/?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ie:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",za:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",au:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ee:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lv:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lt:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ro:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",hu:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",bg:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nz:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ca:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",uk:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nl:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fi:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",no:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",dk:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",se:"/:locale/movies?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",de:"/:locale/Filme?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",br:"/:locale/filmes?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",pt:"/:locale/filmes?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fr:"/:locale/films?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",be:"/:locale/films?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",es:"/:locale/peliculas?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",mx:"/:locale/peliculas?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch"})}).state("app.titles.popular.show",{url:n.compile({us:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",jp:"/:locale/?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",kr:"/:locale/TV-?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ie:"/:locale/tv-series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",za:"/:locale/tv-series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",au:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ee:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lv:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lt:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ro:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",hu:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",bg:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nz:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ca:"/:locale/tv-shows?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",uk:"/:locale/tv-series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nl:"/:locale/tv-series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fi:"/:locale/tv-series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",no:"/:locale/tv-series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",dk:"/:locale/tv-series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",se:"/:locale/tv-series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",de:"/:locale/Serien?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",br:"/:locale/series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",pt:"/:locale/series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fr:"/:locale/series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",be:"/:locale/series?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",es:"/:locale/peliculas?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",mx:"/:locale/peliculas?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch"})}).state("app.titles.popular.provider",{url:n.compile({us:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",jp:"/:locale//:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",kr:"/:locale//:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ie:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",za:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",au:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ee:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lv:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lt:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ro:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",hu:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",bg:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nz:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ca:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",uk:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nl:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fi:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",no:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",dk:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",se:"/:locale/provider/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",de:"/:locale/Anbieter/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",br:"/:locale/provedor/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",pt:"/:locale/provedor/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fr:"/:locale/plateforme/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",be:"/:locale/plateforme/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",es:"/:locale/proveedor/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",mx:"/:locale/proveedor/:provider?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch"})}).state("app.titles.new",{data:{collectionType:"new"},views:{"main@":{templateUrl:"title/list/new.tpl.html",controller:"titleCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers","genres"])}]}}}}).state("app.titles.new.list",{url:n.compile({us:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",jp:"/:locale/?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",kr:"/:locale/?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ie:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",za:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",au:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ee:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lv:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lt:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ro:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",hu:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",bg:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nz:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ca:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",uk:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nl:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fi:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",no:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",dk:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",se:"/:locale/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",de:"/:locale/Neu?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",br:"/:locale/novo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",pt:"/:locale/novo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fr:"/:locale/nouveau?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",be:"/:locale/nouveau?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",es:"/:locale/nuevo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",mx:"/:locale/nuevo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch"})}).state("app.titles.new.movie",{url:n.compile({us:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",jp:"/:locale//?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",kr:"/:locale//?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ie:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",za:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",au:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ee:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lv:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lt:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ro:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",hu:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",bg:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nz:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ca:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",uk:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nl:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fi:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",no:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",dk:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",se:"/:locale/movies/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",de:"/:locale/Filme/Neu?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",br:"/:locale/filmes/novo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",
pt:"/:locale/filmes/novo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fr:"/:locale/films/nouveau?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",be:"/:locale/films/nouveau?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",es:"/:locale/peliculas/nuevo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",mx:"/:locale/peliculas/nuevo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch"})}).state("app.titles.new.show_season",{url:n.compile({us:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",jp:"/:locale//?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",kr:"/:locale/TV-/?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ie:"/:locale/tv-series/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",za:"/:locale/tv-series/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",au:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ee:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lv:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lt:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ro:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",hu:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",bg:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nz:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ca:"/:locale/tv-shows/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",uk:"/:locale/tv-series/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nl:"/:locale/tv-series/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fi:"/:locale/tv-series/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",no:"/:locale/tv-series/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",dk:"/:locale/tv-series/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",se:"/:locale/tv-series/new?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",de:"/:locale/Serien/Neu?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",br:"/:locale/series/novo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",pt:"/:locale/series/novo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fr:"/:locale/series/nouveau?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",be:"/:locale/series/nouveau?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",es:"/:locale/series/nuevo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",mx:"/:locale/series/nuevo?providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch"})}).state("app.titles.new.provider",{url:n.compile({us:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",jp:"/:locale//:provider/?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",kr:"/:locale//:provider/?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ie:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",za:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",au:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ee:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lv:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",lt:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ro:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",hu:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",bg:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nz:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",ca:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",uk:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",nl:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fi:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",no:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",dk:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",se:"/:locale/provider/:provider/new?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",de:"/:locale/Anbieter/:provider/Neu?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",br:"/:locale/provedor/:provider/novo?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",pt:"/:locale/provedor/:provider/novo?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",fr:"/:locale/plateforme/:provider/nouveau?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",be:"/:locale/plateforme/:provider/nouveau?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",es:"/:locale/proveedor/:provider/nuevo?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch",mx:"/:locale/proveedor/:provider/nuevo?content_type&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch"})}).state("app.titles.cinema",{data:{collectionType:"cinema"},views:{"main@":{templateUrl:"cinema/list-current.tpl.html",controller:"titleCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers","genres"])}]}}}}).state("app.titles.cinema.list",{url:n.compile({us:"/:locale/cinema",ca:"/:locale/cinema",de:"/:locale/Kino",kr:"/:locale/"})}).state("app.titles.cinema.upcoming",{url:n.compile({us:"/:locale/cinema/upcoming",ca:"/:locale/cinema/upcoming",de:"/:locale/Kino/demnaechst",kr:"/:locale//"})}).state("app.watchlist",{data:{collectionType:"watchlist",hasFilterBar:!0},views:{"main@":{templateUrl:"watchlist/watchList.tpl.html",controller:"watchListCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers","genres"])}]}}}}).state("app.watchlist.list",{url:n.compile({us:"/:locale/watchlist",jp:"/:locale/",kr:"/:locale/",ie:"/:locale/watchlist",za:"/:locale/watchlist",au:"/:locale/watchlist",ee:"/:locale/watchlist",lv:"/:locale/watchlist",lt:"/:locale/watchlist",ro:"/:locale/watchlist",hu:"/:locale/watchlist",bg:"/:locale/watchlist",nz:"/:locale/watchlist",ca:"/:locale/watchlist",uk:"/:locale/watchlist",nl:"/:locale/watchlist",fi:"/:locale/watchlist",no:"/:locale/watchlist",dk:"/:locale/watchlist",se:"/:locale/watchlist",de:"/:locale/WatchList",br:"/:locale/watchlist",pt:"/:locale/watchlist",fr:"/:locale/watchlist",be:"/:locale/watchlist",es:"/:locale/watchlist",mx:"/:locale/watchlist"})}).state("app.search",{data:{collectionType:"search",hasFilterBar:!0},views:{"main@":{templateUrl:"search/search.tpl.html",controller:"titleCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers","genres"])}]}}}}).state("app.search.list",{url:n.compile({us:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",jp:"/:locale/?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",kr:"/:locale/?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",ie:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",za:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",au:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",ee:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",lv:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",lt:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",ro:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",hu:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",bg:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",nz:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",ca:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",uk:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",nl:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",fi:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",no:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",dk:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",se:"/:locale/search?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",de:"/:locale/Suche?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",br:"/:locale/busca?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",pt:"/:locale/busca?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",fr:"/:locale/recherche?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",be:"/:locale/recherche?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",es:"/:locale/buscar?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id",mx:"/:locale/buscar?q&content_type&providers&genres&release_year_from&release_year_until&presentation_types&monetization_types&min_price&max_price&rating_imdb&rating_tomato&rating_justwatch&person_id"})}).state("app.detail",{}).state("app.detail.movies",{url:n.compile({us:"/:locale/movie/:title?campaign_survey&uct_cs",jp:"/:locale//:title?campaign_survey&uct_cs",kr:"/:locale//:title?campaign_survey&uct_cs",ie:"/:locale/movie/:title?campaign_survey&uct_cs",za:"/:locale/movie/:title?campaign_survey&uct_cs",au:"/:locale/movie/:title?campaign_survey&uct_cs",ee:"/:locale/movie/:title?campaign_survey&uct_cs",lv:"/:locale/movie/:title?campaign_survey&uct_cs",lt:"/:locale/movie/:title?campaign_survey&uct_cs",ro:"/:locale/movie/:title?campaign_survey&uct_cs",hu:"/:locale/movie/:title?campaign_survey&uct_cs",bg:"/:locale/movie/:title?campaign_survey&uct_cs",nz:"/:locale/movie/:title?campaign_survey&uct_cs",ca:"/:locale/movie/:title?campaign_survey&uct_cs",uk:"/:locale/movie/:title?campaign_survey&uct_cs",nl:"/:locale/movie/:title?campaign_survey&uct_cs",fi:"/:locale/movie/:title?campaign_survey&uct_cs",no:"/:locale/movie/:title?campaign_survey&uct_cs",dk:"/:locale/movie/:title?campaign_survey&uct_cs",se:"/:locale/movie/:title?campaign_survey&uct_cs",de:"/:locale/Film/:title?campaign_survey&uct_cs",br:"/:locale/filme/:title?campaign_survey&uct_cs",pt:"/:locale/filme/:title?campaign_survey&uct_cs",fr:"/:locale/film/:title?campaign_survey&uct_cs",be:"/:locale/film/:title?campaign_survey&uct_cs",es:"/:locale/pelicula/:title?campaign_survey&uct_cs",mx:"/:locale/pelicula/:title?campaign_survey&uct_cs"}),views:{"main@":{templateUrl:"title/detail/movieDetail.tpl.html",controller:"titleDetailMovieCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers"])}]}}}}).state("app.detail.show",{url:n.compile({us:"/:locale/tv-show/:title",jp:"/:locale//:title",kr:"/:locale/TV-/:title",ie:"/:locale/tv-series/:title",za:"/:locale/tv-series/:title",au:"/:locale/tv-show/:title",ee:"/:locale/tv-show/:title",lv:"/:locale/tv-show/:title",lt:"/:locale/tv-show/:title",ro:"/:locale/tv-show/:title",hu:"/:locale/tv-show/:title",bg:"/:locale/tv-show/:title",nz:"/:locale/tv-show/:title",ca:"/:locale/tv-show/:title",uk:"/:locale/tv-series/:title",nl:"/:locale/tv-series/:title",fi:"/:locale/tv-series/:title",no:"/:locale/tv-series/:title",dk:"/:locale/tv-series/:title",se:"/:locale/tv-series/:title",de:"/:locale/Serie/:title",br:"/:locale/serie/:title",pt:"/:locale/serie/:title",fr:"/:locale/serie/:title",be:"/:locale/serie/:title",es:"/:locale/serie/:title",mx:"/:locale/serie/:title"}),views:{"main@":{templateUrl:"title/detail/showDetail.tpl.html",controller:"titleDetailShowCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers"])}]}}}}).state("app.detail.show.season",{url:n.compile({us:"/:locale/tv-show/:title/season-:season",jp:"/:locale//:title/-:season",kr:"/:locale/TV-/:title/-:season",ie:"/:locale/tv-series/:title/season-:season",za:"/:locale/tv-series/:title/season-:season",au:"/:locale/tv-show/:title/season-:season",ee:"/:locale/tv-show/:title/season-:season",lv:"/:locale/tv-show/:title/season-:season",lt:"/:locale/tv-show/:title/season-:season",ro:"/:locale/tv-show/:title/season-:season",hu:"/:locale/tv-show/:title/season-:season",bg:"/:locale/tv-show/:title/season-:season",nz:"/:locale/tv-show/:title/season-:season",ca:"/:locale/tv-show/:title/season-:season",uk:"/:locale/tv-series/:title/season-:season",nl:"/:locale/tv-series/:title/season-:season",fi:"/:locale/tv-series/:title/season-:season",no:"/:locale/tv-series/:title/season-:season",dk:"/:locale/tv-series/:title/season-:season",se:"/:locale/tv-series/:title/season-:season",de:"/:locale/Serie/:title/Staffel-:season",br:"/:locale/serie/:title/temporada-:season",pt:"/:locale/serie/:title/temporada-:season",fr:"/:locale/serie/:title/saison-:season",be:"/:locale/serie/:title/saison-:season",es:"/:locale/serie/:title/temporada-:season",mx:"/:locale/serie/:title/temporada-:season"}),views:{season:{templateUrl:"title/detail/showSeasonDetail.tpl.html",controller:"titleDetailSeasonCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers"])}]}}}}).state("global",{url:"/"}).state("global.otherwise",{url:n.compile({us:"/:locale/blog",jp:"/:locale/blog",kr:"/:locale/blog",ie:"/:locale/blog",za:"/:locale/blog",au:"/:locale/blog",ee:"/:locale/blog",lv:"/:locale/blog",lt:"/:locale/blog",ro:"/:locale/blog",hu:"/:locale/blog",bg:"/:locale/blog",nz:"/:locale/blog",ca:"/:locale/blog",uk:"/:locale/blog",nl:"/:locale/blog",fi:"/:locale/blog",no:"/:locale/blog",dk:"/:locale/blog",se:"/:locale/blog",de:"/:locale/Blog",br:"/:locale/blog",pt:"/:locale/blog",fr:"/:locale/blog",be:"/:locale/blog",es:"/:locale/blog",mx:"/:locale/blog"}),views:{"main@":{controller:["$scope",function(e){window.location.reload()}]}}}).state("app.titlelist",{data:{collectionType:"titlelist",hasFilterBar:!0}}).state("app.titlelist.list",{url:n.compile({us:"/:locale/list/:titlelistName",jp:"/:locale/list/:titlelistName",kr:"/:locale/list/:titlelistName",ie:"/:locale/list/:titlelistName",za:"/:locale/list/:titlelistName",au:"/:locale/list/:titlelistName",ee:"/:locale/list/:titlelistName",lv:"/:locale/list/:titlelistName",lt:"/:locale/list/:titlelistName",ro:"/:locale/list/:titlelistName",hu:"/:locale/list/:titlelistName",bg:"/:locale/list/:titlelistName",nz:"/:locale/list/:titlelistName",ca:"/:locale/list/:titlelistName",uk:"/:locale/list/:titlelistName",nl:"/:locale/list/:titlelistName",fi:"/:locale/list/:titlelistName",no:"/:locale/list/:titlelistName",dk:"/:locale/list/:titlelistName",se:"/:locale/list/:titlelistName",de:"/:locale/Liste/:titlelistName",br:"/:locale/lista/:titlelistName",pt:"/:locale/lista/:titlelistName",fr:"/:locale/liste/:titlelistName",be:"/:locale/liste/:titlelistName",es:"/:locale/lista/:titlelistName",mx:"/:locale/lista/:titlelistName"}),views:{"main@":{templateUrl:"titlelist/titlelist.tpl.html",controller:"TitleListCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers","genres"])}]}}}}).state("app.offers",{data:{collectionType:"offers",hasFilterBar:!1}}).state("app.offers.list",{url:n.compile({us:"/:locale/black-friday-:offerName",jp:"/:locale/black-friday-:offerName",kr:"/:locale/black-friday-:offerName",ie:"/:locale/black-friday-:offerName",za:"/:locale/black-friday-:offerName",au:"/:locale/black-friday-:offerName",ee:"/:locale/black-friday-:offerName",lv:"/:locale/black-friday-:offerName",lt:"/:locale/black-friday-:offerName",ro:"/:locale/black-friday-:offerName",hu:"/:locale/black-friday-:offerName",bg:"/:locale/black-friday-:offerName",nz:"/:locale/black-friday-:offerName",ca:"/:locale/black-friday-:offerName",uk:"/:locale/black-friday-:offerName",nl:"/:locale/black-friday-:offerName",fi:"/:locale/black-friday-:offerName",no:"/:locale/black-friday-:offerName",dk:"/:locale/black-friday-:offerName",se:"/:locale/black-friday-:offerName",de:"/:locale/Black-Friday-:offerName",br:"/:locale/black-friday-:offerName",pt:"/:locale/black-friday-:offerName",fr:"/:locale/black-friday-:offerName",be:"/:locale/black-friday-:offerName",es:"/:locale/black-friday-:offerName",mx:"/:locale/black-friday-:offerName"}),views:{"main@":{templateUrl:"title/list/new.tpl.html",controller:"titleCtrl",resolve:{filters:["filterRepository",function(e){return e.fetchFilters(["providers","genres"])}]}}}}).state("app.static",{}).state("app.static.content",{url:n.compile({us:"/:locale/*page",jp:"/:locale/*page",kr:"/:locale/*page",ie:"/:locale/*page",za:"/:locale/*page",au:"/:locale/*page",ee:"/:locale/*page",lv:"/:locale/*page",lt:"/:locale/*page",ro:"/:locale/*page",hu:"/:locale/*page",bg:"/:locale/*page",nz:"/:locale/*page",ca:"/:locale/*page",uk:"/:locale/*page",nl:"/:locale/*page",fi:"/:locale/*page",no:"/:locale/*page",dk:"/:locale/*page",se:"/:locale/*page",de:"/:locale/*page",br:"/:locale/*page",pt:"/:locale/*page",fr:"/:locale/*page",be:"/:locale/*page",es:"/:locale/*page",mx:"/:locale/*page"}),views:{"main@":{templateUrl:"static/page.tpl.html",controller:"staticCtrl"}}}),t.otherwise(function(e){window.location.reload()})}]),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("cinema/list-current.tpl.html",'<div class="page__popular" deferred=""><div class="top-content no-provider-filters" ng-class="{\'top-content--fixed-new\': watchbarFixed[state.activeCollectionType] && !scrollingState.slideDownMobile}"><expandable-fade-text is-filter-content="isFilterContent()" content-data="contentData"></expandable-fade-text><div all-filter="" filters="filters" providers-key="providers" domain="{{::state.activeCollectionType}}" state="state" excludes="{cinema: [\'providers\', \'content-types\', \'additional-filters\', \'reset\']}" slide-down-mobile="scrollingState.slideDownMobile"></div></div><div class="max-width-padding" id="content"><div ng-if="isGridView"><div class="main-content row"><div class="main-content__title-divider"><span class="main-content__title-divider__title">{{ totalResults[state.activeCollectionType].toLocaleString(numberLocale) || \'0\' }} <span translate="WEBAPP_TITLES" translate-default="titles"></span></span></div><div jw-infinite-scroll="addMoreItems()" jw-infinite-scroll-id="{{::state.activeCollectionType}}" jw-infinite-scroll-disabled="fetchingState.isFetching || titles[state.activeCollectionType].items.length >= totalResults[state.activeCollectionType] || !!isPopularEndReached" jw-infinite-scroll-distance="1" jw-infinite-scroll-listen-for-event="infinite-scroll.manual"><div class="main-content__poster" ng-repeat="title in titles[state.activeCollectionType].items track by (title.object_type + title.id + \'-\' + $index)" ng-init="$last && hasRendered()" ng-show="::title.poster" snowplow-data-contextable="" contextable-type="title" contextable-data="::title"><div class="main-content__poster__image"><title-card target-title="::title"></title-card></div></div><div ng-if="titles[state.activeCollectionType].items.length === 0 && !fetchingState.isFetching" class="text-center"><div ng-if="isPriceFilterActive" ng-init="selectedProviders = getSelectedProviders([\'flatrate\', \'ads\'])" class="col-sm-12"><div ng-if="selectedProviders.length == amountSelectedProviders"><span style="position: relative; top: 20px;" translate="WEBAPP_NO_NEW_TITLES_STREAM_PRICE" translate-default="Price filter isn\'t available for your selected providers. Try selecting other providers like <strong>iTunes</strong> or <strong>Google Play</strong> or unselect the price filter."></span></div></div></div></div></div></div><div ng-if="!isGridView"><timeline-section ng-init="$last && hasRendered()" specials="specials" sections="titles[state.activeCollectionType].items" is-new-end-reached="isNewEndReached" fetching-state="fetchingState" has-rendered="hasRendered()" add-more-items="addMoreItems()" display-height="displayHeight" active-collection-type="state.activeCollectionType">--></timeline-section></div></div></div><div ng-repeat="script in contentData.scripts" unsafe-html="" html="script"></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("footer/footer.tpl.html",'<div class="container-fluid"><div class="footer-inner"><div class="footer"><div class="row"><div class="col-xs-12 footer__static"><div class="row"><div class="col-xs-6"><p class="text-left"><strong>JustWatch</strong> | <span translate="WEBAPP_FOOTER_TAGLINE" translate-default="The Streaming Search Engine"></span></p></div><div class="col-xs-6"><p class="text-right"><small>&copy; {{::currentYear}} JustWatch <span style="color: #4C5A67;">(0.11.129)</span></small></p></div></div></div></div><div class="row"><div class="col-sm-2 footer__column"><p class="footer__subheading"><span translate="WEBAPP_FOOTER_TOP_X_MOVIES" translate-values="{ x: topAmount }"></span></p><ul class="list-unstyled"><li ng-repeat="title in ::topTitles.movies"><a ng-href="{{ ::title.full_path }}" target="_self">{{::title.title }}</a></li></ul></div><div class="col-sm-2 footer__column"><p class="footer__subheading"><span translate="WEBAPP_FOOTER_TOP_X_SHOWS" translate-values="{ x: topAmount }"></span></p><ul class="list-unstyled"><li ng-repeat="title in ::topTitles.shows"><a ng-href="{{ ::title.full_path }}" target="_self">{{::title.title }}</a></li></ul></div><div class="col-sm-2 footer__column"><p class="footer__subheading"><span translate="WEBAPP_FOOTER_TOP_X_PROVIDERS" translate-values="{ x: topAmount }"></span></p><ul class="list-unstyled"><li ng-repeat="provider in ::filters.providers.slice(0, topAmount) | orderBy:provider.display_priority"><a ui-sref="app.titles.popular.provider({locale: config.webLocale, provider: provider.slug, providers: provider.short_name})" target="_self">{{::provider.clear_name}}</a></li></ul></div><div class="col-sm-2 footer__column" ng-if="[\'de\', \'us\'].indexOf(config.webLocale) !== -1"><p class="footer__subheading"><span translate="WEBAPP_FOOTER_TOP_X_NEW_IN_CINEMA" translate-values="{ x: topAmount }"></span></p><ul class="list-unstyled"><li ng-repeat="title in ::topTitles.cinema"><a ng-href="{{ ::title.full_path }}" target="_self">{{::title.title }}</a></li></ul></div><div class="col-sm-6 footer__column" ng-class="{\'col-sm-4\': [\'de\', \'us\'].indexOf(config.webLocale) !== -1}"><p class="footer__subheading"><span translate="WEBAPP_FOOTER_TOP_X_NEW_ON_PROVIDER" translate-values="{ x: topAmount }"></span></p><ul class="list-unstyled"><li ng-repeat="provider in ::filters.providers.slice(0, topAmount) | orderBy:provider.display_priority"><a ui-sref="app.titles.new.provider({locale: config.webLocale, provider: provider.slug, providers: provider.short_name})" target="_self"><span translate="WEBAPP_FOOTER_NEW_ON_PROVIDER" translate-values="{ provider: provider.clear_name }"></span></a></li></ul></div></div></div></div></div>');
}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("head/head.tpl.html",'<div class="head__bottom"><div class="menu" ng-class="{\'menu--search-expanded\': searchMenu.expanded}"><div class="logo"><a ng-href="{{ getStateUrl(\'popular\') }}"><img class="logo__img" src="https://static.{{::domain}}/static/compile_jw/assets/JustWatch-logo-small.png" alt="JustWatch"></a></div><ul class="menu__nav" ng-class="{\'menu__nav--cinema\': [\'us\', \'de\', \'ca\', \'kr\'].indexOf(config.webLocale) !== -1}"><li class="menu__nav__item" ng-class="{\'menu__nav__item--active\': isStateActive(\'app.titles.new\')}"><a class="menu__nav__item__link" ng-href="{{ getStateUrl(\'new\') }}" translate="WEBAPP_MENU_NEW" analytics-on="click" analytics-event="tabchange" analytics-category="userinteraction" analytics-properties="::{ label: \'new\' }" translate-default="NEW"></a></li><li class="menu__nav__item" ng-class="{\'menu__nav__item--active\': isStateActive(\'app.titles.popular\')}"><a class="menu__nav__item__link" ng-href="{{ getStateUrl(\'popular\') }}" translate="WEBAPP_MENU_POPULAR" analytics-on="click" analytics-event="tabchange" analytics-category="userinteraction" analytics-properties="::{ label: \'popular\' }" translate-default="POPULAR"></a></li><li class="menu__nav__item" ng-class="{\'menu__nav__item--active\': isStateActive(\'app.titles.cinema\')}" ng-if="[\'us\', \'de\', \'ca\', \'kr\'].indexOf(config.webLocale) !== -1"><a class="menu__nav__item__link" ng-href="{{ getStateUrl(\'cinema\', true) }}" translate="WEBAPP_MENU_CINEMA" analytics-on="click" analytics-event="tabchange" analytics-category="userinteraction" analytics-properties="::{ label: \'cinema\' }" translate-default="CINEMA"></a></li><li class="menu__nav__item menu__nav__item--watchlist-button" ng-class="{\'menu__nav__item--active\': isStateActive(\'app.watchlist.list\')}"><a class="menu__nav__item__link" ui-sref="app.watchlist.list({locale: config.webLocale})" analytics-on="click" analytics-event="tabchange" analytics-category="userinteraction" analytics-properties="::{ label: \'watchlist\' }"><span class="hidden-xs" translate="WEBAPP_WATCHLIST" translate-default="WATCHLIST"></span> <span class="glyphicon glyphicon-bookmark"></span></a></li></ul><div class="search"><input type="text" class="search__input form-control hidden-xs" placeholder="{{ \'WEBAPP_SEARCH_PLACEHOLDER\' | translate }}" ng-model="headsearch" ng-keypress="search($event)" uib-typeahead="suggestion as suggestion.title for suggestion in getSuggestions($viewValue)" typeahead-template-url="search/typeahead/typeahead.tpl.html" typeahead-popup-template-url="search/typeahead/typeahead-popup.tpl.html" typeahead-focus-first="false" typeahead-on-select="typeaheadSearch($item, $model, $label)" typeahead-wait-ms="100"> <input type="text" class="search__input form-control visible-xs" placeholder="{{ \'WEBAPP_SEARCH\' | translate }}" ng-model="headsearch" ng-keypress="search($event)" ng-click="searchMenu.expanded = true" ng-blur="typeaheadBlur()" uib-typeahead="suggestion as suggestion.title for suggestion in getSuggestions($viewValue)" typeahead-template-url="search/typeahead/typeahead.tpl.html" typeahead-popup-template-url="search/typeahead/typeahead-popup.tpl.html" typeahead-focus-first="false" typeahead-on-select="typeaheadSearch($item, $model, $label)" typeahead-wait-ms="100"> <span ng-click="search(false)" class="search__icon glyphicon glyphicon-search" analytics-on="click" analytics-event="search_on_icon" analytics-category="userinteraction"></span></div><div class="head__extra"><login-button ng-if="::enabledFeatures.LOGINS" layout="header"></login-button><a ui-sref="app.watchlist.list({locale: config.webLocale})" class="head__extra__button head__extra__button--watchlist-icon pull-right btn btn-primary" ng-class="{\'head__extra__button--active\': isStateActive(\'app.watchlist.list\')}"><span class="glyphicon glyphicon-bookmark"></span></a><div class="btn-group pull-left" uib-dropdown="" is-open="status.isopen"><button type="button" class="btn btn-primary dropdown-toggle head__extra__button" uib-dropdown-toggle="" ng-disabled="disabled" analytics-on="click" analytics-event="open_dropdown_menu" analytics-category="userinteraction"><div class="head__action-icon"><div class="head__action-icon__square"></div><div class="head__action-icon__square"></div><div class="head__action-icon__square"></div></div></button><ul class="dropdown-menu" resizer="" ng-class="{\'dropdown-menu-left\':isScreenXS, \'dropdown-menu-right\': !isScreenXS}" role="menu"><li ng-repeat="page in pageStore.pages | orderBy:\'attributes.sorting\'"><a ng-href="{{ page.full_path }}">{{ page.translation }}</a></li></ul></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("search/search.tpl.html",'<div ng-class="{\'invisible\': !isVisible}" deferred=""><div class="top-content" ng-class="{\'top-content--fixed\': watchbarFixed[state.activeCollectionType] && !scrollingState.slideDownMobile}"><div class="max-width-padding" id="content" ng-if="(!stateParams.person_id && !person)"><h1 translate="WEBAPP_SEARCH_RESULTSFOR" translate-default="results" translate-values="{ searchTerm: searchterm }"></h1></div><div ng-if="::enabledFeatures.PERSONS"><person-detail ng-if="person" person="person"></person-detail></div><div all-filter="" filters="filters" providers-key="providers" domain="popular" state="state" excludes="{search: [\'cinema-release\']}" slide-down-mobile="scrollingState.slideDownMobile"></div></div><credits-chooser ng-if="credits" credits="credits" fetching-state="::fetchingState"></credits-chooser><div class="max-width-padding"><div class="main-content main-content--list row"><total-results fetching-state="::fetchingState" total-results="::totalResults" result-target="search" filter-state="::filters" custom-amount="(localPerson.filter) ? credits[localPerson.filter] : null" ng-if="!person"></total-results><div class="main-content__list clearfix fadeable" ng-class="{\'fadeable--shown\': rendered.done}" on-touch="hideKeyboard()" jw-infinite-scroll="addMoreSearchItems()" jw-infinite-scroll-id="{{::state.activeCollectionType}}" jw-infinite-scroll-disabled="fetchingState.isFetching || !rendered.done || titles.search.items.length >= totalResults.search" jw-infinite-scroll-distance="1.5" jw-infinite-scroll-listen-for-event="infinite-scroll.manual"><div class="main-content__list-element col-xs-12" ng-repeat="title in titles.search.items | filter:filterPersonRole as filteredTitles" ng-init="$last && hasRendered()"><search-result-entry target-title="title" filters="filters" viewport="viewport" current-index="$index" person="person" complete-list-on-mobile="true"></search-result-entry></div><div ng-if="filteredTitles.length === 0 && isFiltered" class="container text-center"><span translate="WEBAPP_PERSONS_FILTERED_NOTITLES" translate-default="We found no titles try removing some of your filters for more results."></span></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("search/searchResultEntry.tpl.html",'<div class=""><div ng-class="{\'main-content__poster__image\': isGridView, \'col-xs-4 col-sm-2\': !isGridView}" ng-if="::desktopView"><div snowplow-data-contextable="" contextable-type="title" contextable-data="::title"><div person-click-trackable="::person"><title-card target-title="::title"></title-card></div></div></div><div ng-if="!isGridView" class="main-content__list-element__content" ng-class="::{ \'col-xs-8 col-sm-10\': desktopView, \'col-xs-12\': currentIndex >= 10 && viewport !== \'desktop\' && !completeListOnMobile }"><div><a person-click-trackable="::person" ng-href="{{::title.full_path}}" class="main-content__list-element__title" ng-class="::{\'main-content__list-element__title--first\': desktopView}"><span ng-if="::[\'show_season\', \'show_episode\'].indexOf(title.object_type) !== -1" ng-bind-html="::title.show_title"></span> <span ng-if="::[\'show_season\', \'show_episode\'].indexOf(title.object_type) === -1" ng-bind-html="::title.title"></span> <span class="main-content__list-element__year">(<span>{{::title.original_release_year}}</span>)</span></a><p ng-if="::[\'show_episode\'].indexOf(title.object_type) !== -1"><span translate="WEBAPP_SEASON_X_EPISODE_Y" translate-default="S{{season}} E{{episode}}" translate-values="{season: title.season_number, episode: title.episode_number}"></span> - <span ng-bind-html="::title.title"></span></p></div><div ng-if="::(desktopView)"><p class="detail-infos__subheading" ng-if="::title.offers.length > 0" translate="WEBAPP_WATCHNOW" translate-default="Watch Now"></p><p ng-if="::title.offers.length == 0" translate="WEBAPP_NO_OFFERS" translate-default="We are sorry. We can\'t find any offers right now."></p><div class="price-comparison--search" ng-if="::(viewport !== \'smartphone\')"><div class="price-comparison__grid"><div snowplow-data-contextable="" contextable-type="title" contextable-data="::title"><div monetizations="" monetization-type="general" offers="::title.offers" filters="::filters" search="true" object-type="::title.object_type" full-path="::title.full_path" title-name="::title.title"></div></div></div></div><div ng-if="::(viewport === \'smartphone\')"><p><a ng-href="{{::title.full_path}}" person-click-trackable="::person"><span translate="{{::(offerCount == 1 ? \'WEBAPP_X_OFFER_AVAILABLE\' : \'WEBAPP_X_OFFERS_AVAILABLE\')}}" translate-default="offers available" translate-values="{ offerCount: offerCount }"></span> &rsaquo;</a></p></div><div class="clearfix"></div><div ng-if="::person" style="margin-top: 10px;"><div ng-repeat="credit in ::title.credits" ng-if="::credit.character_name"><strong>{{::credit.name}}</strong> <span translate="WEBAPP_PERSONS_AS" translate-default="as"></span> <span ng-if="::credit.character_name">{{::credit.character_name}}</span></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("static/page.tpl.html",'<div class="static-page"><div class="container-fluid"><div class="row"><div class="backdrop-wrapper" ng-bind-html="contentData.html_content.backdrop"></div></div><div class="bottom-fade row hidden-xs hidden-sm"></div></div><div class="max-width-padding static-page__padding"><div class="static-page__margin" ng-class="{\'detail-infos__main\':contentData.html_content.backdrop}"><div ng-bind-html="contentData.html_content.default"></div><div bind-html-compile="contentData.html_content.compile"></div></div></div><div unsafe-html="" html="contentData.html_content.script"></div><style type="text/css" ng-bind-html="contentData.html_content[\'styles\']"></style></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("titlelist/titlelist.tpl.html",'<div class="page__titlelist"><div class="top-content" ng-class="{\'top-content--fixed\': titlelist.watchbarFixed[titlelist.state.activeCollectionType] && !scrollingState.slideDownMobile}"><expandable-fade-text ng-if="!hasHeroImage" is-filter-content="isFilterContent()" content-data="contentData"></expandable-fade-text><div ng-if="hasHeroImage"><div class="hidden-xs titlelist__hero titlelist__hero__desktop img-replace"><h1 ng-if="contentData.heading_1">{{ contentData.heading_1 }}</h1><div ng-if="contentData.html_content[\'h1_text\']" ng-bind-html="contentData.html_content[\'h1_text\']"></div><h2 ng-if="contentData.heading_2" class="lead">{{ contentData.heading_2 }}</h2><div ng-if="contentData.html_content[\'h2_text\']" ng-bind-html="contentData.html_content[\'h2_text\']"></div></div><div class="visible-xs titlelist__hero titlelist__hero__mobile"></div></div><div all-filter="" filters="titlelist.filters" providers-key="providers" domain="titlelist" state="titlelist.state" slide-down-mobile="scrollingState.slideDownMobile" excludes="{titlelist: [\'presentation_types\', \'price\', \'releaseYear\', \'genre\', \'scoring_filter_types\', \'cinema-release\']}"></div></div><div class="max-width-padding" id="content"><div class="main-content" ng-class="{\'main-content--list row\': !contentData.html_content.title_list_gridview}"><div class="main-content__title-divider"><span class="main-content__title-divider__title">{{ filteredTitles.length.toLocaleString(titlelist.numberLocale) || \'0\' }} {{\'WEBAPP_TITLES\' | translate}}</span></div><div class="main-content__list"><div ng-class="{\'main-content__list-element col-xs-12\': !contentData.html_content.title_list_gridview, \'main-content__poster\': contentData.html_content.title_list_gridview}" ng-repeat="title in filteredTitles = (titlelist.titles | filter:atLeastOne(\'providers\'))" snowplow-data-contextable="" contextable-type="title" contextable-data="::title" ng-init="$last && rendered()"><search-result-entry target-title="title" filters="titlelist.filters" complete-list-on-mobile="true" viewport="viewport" current-index="$index" is-grid-view="contentData.html_content.title_list_gridview"></search-result-entry></div></div></div><div ng-if="contentData.html_content.footer" ng-bind-html="contentData.html_content.footer"></div></div></div><style type="text/css" ng-bind-html="contentData.html_content[\'styles\']"></style>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("watchlist/watchList.tpl.html",'<div class="page__watchlist"><div class="col-sm-12" ng-if="stats.titlesCurrentLocale === 0"><div style="margin-top: 30px; padding: 20px 0;" ng-if="::enabledFeatures.LOGINS" class="col-sm-6 col-sm-offset-3 login-button--filled"><login-button></login-button></div></div><div class="top-content" deferred=""><div class="max-width-padding watchlist__landing" ng-if="stats.titlesCurrentLocale === 0"><div class="watchlist__landing__top" ng-bind-html=":: contentData.html_content[\'watchlist_top\']"></div><div class="watchlist__landing__hero" ng-click="toggleMeme()"><div ng-show="watchlistMeme" ng-bind-html=":: contentData.html_content[\'watchlist_meme\']"></div><div ng-hide="watchlistMeme" ng-bind-html=":: contentData.html_content[\'watchlist_hero_image\']"></div></div><div ng-bind-html=":: contentData.html_content[\'watchlist_main\']" class="container"></div><div class="text-center" id="watchbar" ng-if="recommendedTitles.length > 0"><div horizontal-scrollable="" horizontal-scrollable-style="basic-gradient"><div class="horizontal-scrollable-container timeline__provider-block__titles" style="padding-left: 15px; padding-right: 15px;"><div ng-repeat="title in ::recommendedTitles" style="position: relative; display: inline-block;" ng-init="$last ? $parent.$parent.loaded() : null" snowplow-data-contextable="" contextable-type="title" contextable-data="::title"><watchlist-ribbon content-type="::title.object_type" content-id="::title.id" target-title="::title"></watchlist-ribbon><a ng-if="::title.poster" ng-hide="::!title.poster" class="timeline__provider-block__title" ng-href="{{::title.full_path}}"><div ng-class="::{\'tv-show\': title.object_type == \'show_season\' || title.object_type == \'show\'}"><div ng-if="::(title.object_type == \'show\' || title.object_type == \'show_season\')" class="tv-show__badge" translate="WEBAPP_SHOW_BADGE" translate-default="TV"></div><img class="poster" ng-src="{{::title.poster | thumborProxy:\'poster\'}}" alt="{{::title.title}}"></div></a></div></div></div></div></div></div><div ng-if="stats.titlesCurrentLocale > 0" style="margin-right: -15px;"><div all-filter="" filters="filters" providers-key="providers" domain="watchlist" state="state" slide-down-mobile="scrollingState.slideDownMobile" excludes="{watchlist: [\'presentation_types\', \'price\', \'cinema-release\', \'scoring_filter_types\', \'cinema_release\']}"></div></div><div class="max-width-padding" id="content"><div class="main-content main-content--list row" ng-class="{\'watchlist--fixed\': watchbarFixed[state.activeCollectionType] && !scrollingState.slideDownMobile}"><div class="main-content__title-divider" ng-hide="titles.length == 0"><span class="main-content__title-divider__title">{{ !scrollingState.isFetching ? filteredTitles.length.toLocaleString(numberLocale) : \'\' }} <span ng-if="filteredTitles.length !== 1" translate="WEBAPP_TITLES" translate-default="titles"></span> <span ng-if="filteredTitles.length === 1" translate="WEBAPP_TITLE" translate-default="title"></span></span></div><div class="col-sm-12"><div ng-if="enabledFeatures.LOGINS && stats.titlesCurrentLocale > 0" class="col-sm-6 col-sm-offset-3 login-button--filled"><login-button class="padded"></login-button></div></div><div jw-infinite-scroll="increaseInfiniteScroll()" jw-infinite-scroll-id="watchlist.infinite-scroll" jw-infinite-scroll-reset-event="watchlist.infinite-scroll.reset" jw-infinite-scroll-disabled="(filteredTitles.length + 6) < titles.watchlist.limit" jw-infinite-scroll-distance="1"><div class="main-content__list"><div class="main-content__list-element col-xs-12" ng-repeat="title in filteredTitles | limitTo:titles.watchlist.limit track by getUniqueID(title)" snowplow-data-contextable="" contextable-type="title" contextable-data="::title"><search-result-entry target-title="title" filters="filters" viewport="viewport" current-index="$index" complete-list-on-mobile="true"></search-result-entry></div></div></div><delete-watchlist-button ng-hide="!titles.watchlist.items || titles.watchlist.items.length === 0" analytics-on="click" analytics-event="clear_watchlist" analytics-category="userinteraction"></delete-watchlist-button></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/expandable-fade-text/expandable-fade-text.tpl.html",'<div class="max-width-padding"><div class="fade-text" ng-click="$ctrl.toggle()" ng-class="{\'fade-text--expanded\': !$ctrl.isCollapsed}"><div class="fade-text__toggle"><a href=""><span ng-show="$ctrl.isCollapsed" class="glyphicon glyphicon-chevron-down"></span> <span ng-show="!$ctrl.isCollapsed" class="glyphicon glyphicon-chevron-up"></span></a></div><div ng-if="$ctrl.isFilterContent" ng-bind-html="$ctrl.contentData.html_content.filter_content"></div><div ng-if="!$ctrl.isFilterContent"><h1 ng-if="$ctrl.contentData.heading_1">{{ $ctrl.contentData.heading_1 }}</h1><div ng-if="$ctrl.contentData.html_content[\'h1_text\']" ng-bind-html="$ctrl.contentData.html_content[\'h1_text\']"></div><h2 ng-if="$ctrl.contentData.heading_2" class="lead">{{ $ctrl.contentData.heading_2 }}</h2><div ng-if="$ctrl.contentData.html_content[\'h2_text\']" ng-bind-html="$ctrl.contentData.html_content[\'h2_text\']"></div><div ng-if="$ctrl.contentData.html_content.default" ng-bind-html="$ctrl.contentData.html_content.default"></div><div ng-if="$ctrl.contentData.html_content.default1" ng-bind-html="$ctrl.contentData.html_content.default1"></div><div ng-if="$ctrl.contentData.html_content.default2" ng-bind-html="$ctrl.contentData.html_content.default2"></div><div ng-if="$ctrl.contentData.html_content.default3" ng-bind-html="$ctrl.contentData.html_content.default3"></div><div ng-if="$ctrl.contentData.html_content.default4" ng-bind-html="$ctrl.contentData.html_content.default4"></div><div ng-if="$ctrl.contentData.html_content.default5" ng-bind-html="$ctrl.contentData.html_content.default5"></div><div ng-if="$ctrl.contentData.html_content.default6" ng-bind-html="$ctrl.contentData.html_content.default6"></div><div ng-if="$ctrl.contentData.html_content.default7" ng-bind-html="$ctrl.contentData.html_content.default7"></div><div ng-if="$ctrl.contentData.html_content.default8" ng-bind-html="$ctrl.contentData.html_content.default8"></div><div ng-if="$ctrl.contentData.html_content.default9" ng-bind-html="$ctrl.contentData.html_content.default9"></div><div ng-if="$ctrl.contentData.html_content.default10" ng-bind-html="$ctrl.contentData.html_content.default10"></div></div><p ng-show="$ctrl.isCollapsed" class="fade-text__gradient"></p></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/allFilter.tpl.html",'<div class="filter__placeholder"></div><div class="filter__wrapper" ng-class="{\'filter__wrapper--fixed\': watchbarFixed && !slideDownMobile}" ng-click="filterActiveState.active = false"><div class="filter__inactive-overlay"></div><div class="alpha-overlay" ng-click="closeOverlay()"></div><div class="filter"><div provider-filter="" ng-if="activeCollectionType !== \'offers\' && !isExcluded(\'providers\')" providers="filters[providersKey]" collection-type="activeCollectionType" domain="domain" limited-providers="limitedProviders" ignored-providers="ignoredProviders" provider-modal-handler="providerModalHandler()"></div><div class="additional-filter" ng-if="hasAdditionalFilters() || !isExcluded(\'content-types\')"><div class="additional-filter__wrap" ng-class="{\'additional-filter__wrap--slidedown\': slideDownMobile}"><cinema-release-filter ng-if="!isExcluded(\'cinema-release\')"></cinema-release-filter><span content-type-filter="" types="filters.types" collection-type="domain" ng-if="!isExcluded(\'content-types\') && (!abTestGlobal || abTestGlobal.FIRST_SESSION_GROUPIE_3 !== 2)" class="content-type-filter"></span><free-filter ng-if="!isExcluded(\'content-types\') && abTestGlobal.FIRST_SESSION_GROUPIE_3 === 2" class="content-type-filter"></free-filter><a ng-if="mobileViewport && !isExcluded(\'additional-filter-mobile\') && !isExcluded(\'additional-filters\')" class="additional-filter__button additional-filter__button--filter" ng-class="{ \'additional-filter__button--active\': isFilterActive([\'genres\', \'release_year_from\', \'release_year_until\', \'presentation_types\', \'min_price\', \'max_price\', \'monetization_types\', \'scoring_filter_types\']), \'additional-filter__button--flyout\': slideDownMobile }" ng-click="toggleSlide()" analytics-on="click" analytics-event="toggle_slide_down_filter" analytics-category="userinteraction"><span class="glyphicon glyphicon-filter"></span> <span translate="WEBAPP_FILTERS" translate-default="filters"></span>&nbsp;</a><div ng-if="!mobileViewport && !isExcluded(\'additional-filters\')" class="additional-filter__extra-filter"><span class="additional-filter__extra-filter__heading"><span class="glyphicon glyphicon-filter"></span> <span translate="WEBAPP_FILTERS" translate-default="filters"></span>&nbsp;</span><a href="" ng-repeat="groupedFilter in ::groupedFilters | toArray | orderBy:\'ordering\'" ng-if="!isExcluded(groupedFilter.name)" ng-click="togglePopover(groupedFilter)" class="additional-filter__button" style="display: inline-block; margin-right: 8px;" ng-class="{\'additional-filter__button--flyout\': groupedFilter.popover, \'additional-filter__button--active\': isFilterActive(groupedFilter.actives)}" translate="{{::groupedFilter.translation}}" translate-default="{{::groupedFilter.translationDefault}}"></a><filter-container filter-data="groupedFilters.releaseYear" ng-if="!isExcluded(\'releaseYear\')"><span release-filter="" min-release="1900" max-release=""></span></filter-container><filter-container filter-data="groupedFilters.genre" ng-if="!isExcluded(\'genre\')"><span genre-filter="" genres="filters.genres"></span></filter-container><filter-container filter-data="groupedFilters.price" ng-if="!isExcluded(\'price\')"><span price-filter=""></span><hr style="margin-bottom: 20px;"><span monetization-type-filter="" providers="filters.providers_all"></span><hr style="margin-bottom: 20px;"><span presentation-type-filter="" types="filters.types" collection-type="domain"></span></filter-container><filter-container filter-data="groupedFilters.rating" ng-if="!isExcluded(\'scoring_filter_types\')"><span rating-filter=""></span></filter-container></div><div class="additional-filter__reset-button" ng-if="::((hasAdditionalFilters() || !isExcluded(\'content-types\')) && !isExcluded(\'reset\'))"><a class="" href="" ng-click="reset()" analytics-on="click" analytics-event="reset_filter" analytics-category="userinteraction"><span class="glyphicon glyphicon-remove"></span> <span class="additional-filter__reset-button__text" translate="WEBAPP_RESET" translate-default="Reset"></span></a></div></div><div class="additional-filter__slide-down" uib-collapse="!slideDownMobile" style="padding-top: 20px;"><div ng-include="\'common/filter/slide-down-list.tpl.html\'"></div><hr><div class="additional-filter__slide-down__close"><a ng-click="toggleSlide()" href=""><span class="glyphicon glyphicon-ok-sign"></span> <span translate="WEBAPP_DONE" translate-default="Done"></span></a></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/filter-container.tpl.html",'<div class="additional-filter__popover" ng-show="filterData.popover"><div ng-transclude=""></div><hr><div class="additional-filter__popover__close"><a ng-click="closePopover()" href=""><span class="glyphicon glyphicon-ok-sign"></span> <span translate="WEBAPP_DONE" translate-default="Done"></span></a></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/filter-popover-head.tpl.html",'<div class="additional-filter__popover__head"><div class="additional-filter__popover__head__heading"><div ng-transclude=""></div></div><div class="additional-filter__popover__head__actions" ng-if="::(type == \'select\')"><a href="" ng-click="unselectAll()"><span translate="WEBAPP_UNSELECTALL" translate-default="Unselect All"></span></a> &nbsp; <a href="" ng-click="selectAll()"><span translate="WEBAPP_SELECTALL" translate-default="Select All"></span></a></div><div class="additional-filter__popover__head__actions" ng-if="::(type == \'reset\')"><a href="" ng-click="reset()"><span class="glyphicon glyphicon-remove"></span> <span translate="WEBAPP_RESET" translate-default="Reset"></span></a></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/slide-down-list.tpl.html",'<div ng-if="!isExcluded(\'releaseYear\')"><span release-filter="" min-release="1900" max-release=""></span><hr style="margin-bottom: 20px;"></div><div ng-if="!isExcluded(\'scoring_filter_types\')"><span rating-filter=""></span><hr style="margin-bottom: 20px;"></div><div ng-if="!isExcluded(\'price\')"><span price-filter=""></span><hr style="margin-bottom: 20px;"></div><div ng-if="!isExcluded(\'price\')"><span monetization-type-filter="" providers="filters.providers_all"></span><hr style="margin-bottom: 20px;"></div><div ng-if="!isExcluded(\'genres\')"><span genre-filter="" genres="filters.genres"></span><hr style="margin-bottom: 20px;"></div><div ng-if="!isExcluded(\'presentation_types\')"><span presentation-type-filter="" types="filters.types" collection-type="domain"></span></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/scroll/horizontalScrollable.tpl.html",'<div class="horizontal-scroll timeline__provider-block__titles__wrapper {{:: horizontalScrollableStyle }}" ng-class="{\'timeline__provider-block__titles__wrapper--nav-left\': scrollers.left, \'timeline__provider-block__titles__wrapper--nav-right\': scrollers.right}"><a class="horizontal-scroll__nav horizontal-scroll__nav--left" ng-if="scrollers.left" ng-click="scrollLeft()"><span class="glyphicon glyphicon-chevron-left"></span></a> <a class="horizontal-scroll__nav horizontal-scroll__nav--right" ng-if="scrollers.right" ng-click="scrollRight()"><span class="glyphicon glyphicon-chevron-right"></span></a><div ng-transclude=""></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/survey/survey.tpl.html","<div ng-if=\"$ctrl.surveyType !== 'user_feedback'\" ng-include=\"::('common/survey/templates/' + $ctrl.surveyType + '-survey.tpl.html')\"></div>")}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/trailer-zapper/trailer-zapper-modal.tpl.html",'<ion-modal-view class="modal-settings"><ion-content class="gradient-bg" style="background-color: rgba(12, 21, 29, 1);"><ion-spinner style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);" icon="android" ng-if="!loaded"></ion-spinner><ion-slide-box class="trailer-zapper" ng-if="entries.length > 0" show-pager="false" on-slide-changed="onSlideChanged($index)"><ion-slide ng-repeat="entry in entries" ng-init="setTitleContext(entry.title)" style="height: 100vh; overflow-x: hidden;"><div class="jw-modal jw-modal--slim"><div class="modal-header"><div class="jw-modal__close-button"><span aria-hidden="true" aria-label="Close" ng-click="dismiss()">&times;</span></div><h4 class="modal-title trailer-zapper__modal--amount">{{$index + 1}}/{{::entries.length - 1}}</h4><h4 class="modal-title trailer-zapper__modal--title">{{::entry.urlData.heading_1}} Trailer</h4></div></div><div class="modal-body"><div class="embed-responsive embed-responsive-16by9" style="margin: -20px;"><youtube-video class="embed-responsive-item" video-id="::entry.clips[0]" player-width="\'100%\'" player-vars="{autoplay: 1, playsinline: 1, controls: 1, showinfo: 0, modestbranding: 1, iv_load_policy: 3}"></youtube-video></div></div><div class="trailer-zapper__nav"><div class="detail-infos__watchlist-button trailer-zapper__nav__item trailer-zapper__nav__item--left" ng-class="{\'trailer-zapper__nav__item--disabled\': $index === 0}"><a href="" ng-click="slidePrev()"><span class="glyphicon glyphicon-chevron-left"></span></a></div><watchlist-button-group class="trailer-zapper__nav__item--watchlist" content-type="::entry.title.object_type" content-id="::entry.title.id" target-title="::entry.title.title"></watchlist-button-group><div class="detail-infos__watchlist-button trailer-zapper__nav__item trailer-zapper__nav__item--right" ng-class="{\'trailer-zapper__nav__item--disabled\': $index === (entries.length - 1)}"><a href="" ng-click="slideNext()"><span class="glyphicon glyphicon-chevron-right"></span></a></div></div><div class="clearfix"><detail-info class="detail-info--smartphone detail-info--trailer--mobile" info="::entry.title" mode="lite" all-genres="::genres"></detail-info></div><div class="container" style="padding-top: 0px;"><div ng-if="::entry.title.short_description"><p class="detail-infos__subheading" translate="WEBAPP_SYNOPSIS" translate-default="SYNOPSIS"></p><p>{{ entry.title.short_description }}</p></div></div></ion-slide></ion-slide-box></ion-content></ion-modal-view>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("login/modal/login-modal-mobile.tpl.html",'<ion-modal-view class="modal-settings" ng-controller="LoginModal as $ctrl"><ion-content class="gradient-bg" style="background-color: rgba(12, 21, 29, 1);"><div ng-include="\'login/modal/login-modal.tpl.html\'"></div></ion-content></ion-modal-view>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("login/modal/login-modal.tpl.html",'<div class="login__modal--close" ng-if="$ctrl.step !== $ctrl.STEPS.END_LOGGED_IN"><span ng-click="$ctrl.close()">&times;</span></div><div class="container-fluid text-center login__modal--content"><div ng-if="[$ctrl.STEPS.LOGIN, $ctrl.STEPS.END_LOGGED_IN, $ctrl.STEPS.END_LOGGED_OUT, $ctrl.STEPS.INTRODUCTION].indexOf($ctrl.step) !== -1"><div class="login__modal--flashy"><span ng-if="$ctrl.step === $ctrl.STEPS.LOGIN" class="glyphicon glyphicon-lock"></span> <span ng-if="$ctrl.step === $ctrl.STEPS.END_LOGGED_IN" class="glyphicon glyphicon-ok"></span> <span ng-if="$ctrl.step === $ctrl.STEPS.END_LOGGED_OUT" class="glyphicon glyphicon-ok"></span></div><div class="login__modal__heading"><h4 ng-if="$ctrl.step === $ctrl.STEPS.LOGIN"><span translate="WEBAPP_LOGINS_SIGNIN_PLAIN" translate-default="Sign in to sync your WatchList"></span></h4><h4 ng-if="$ctrl.step === $ctrl.STEPS.END_LOGGED_IN"><span translate="WEBAPP_LOGINS_SUCCESS_LOGIN" translate-default="Successfully logged in!"></span></h4><h4 ng-if="$ctrl.step === $ctrl.STEPS.END_LOGGED_OUT"><span translate="WEBAPP_LOGINS_SUCCESS_LOGOUT" translate-default="Successfully logged out!"></span></h4></div><div ng-if="$ctrl.step === $ctrl.STEPS.INTRODUCTION"><div class="" style="padding: 0 50px; display: inline-block; max-width: 360px;"><img class="img-responsive" src="https://static.{{::$ctrl.domain}}/static/compile_jw/assets/watchlist_sync_icon.png" alt="WatchList Sync"></div><div class="login__modal--flashy"><h3 translate="WEBAPP_LOGINS_INTRO_TITLE" translate-default="Don\'t lose your WatchList!"></h3></div><p style="margin-bottom: 50px;" translate="WEBAPP_LOGINS_INTRO_DESCRIPTION" translate-default="Sign in to store your WatchList and access it on all your devices!" translate-values="{amount: $ctrl.stats.titles}"></p></div><div ng-if="[$ctrl.STEPS.LOGIN, $ctrl.STEPS.INTRODUCTION].indexOf($ctrl.step) !== -1"><login-providers current-step="$ctrl.step" login="$ctrl.login(provider)"></login-providers></div><div class="row login__modal__error" ng-if="$ctrl.hasError"><h3 translate="WEBAPP_LOGINS_ERROR_TITLE" translate-default="Something went wrong "></h3><p><span translate="WEBAPP_LOGINS_ERROR_DESCRIPTION" translate-default="We couldn\'t log you in."></span> <span translate="WEBAPP_LOGINS_ERROR_MOBILEADD" translate-default="Check if the Login Popup has been blocked and try again!"></span></p></div></div><div ng-if="$ctrl.step === $ctrl.STEPS.MERGE"><div class="login__modal--flashy"><span class="glyphicon glyphicon-question-sign"></span></div><div class="login__modal__heading"><h4 translate="WEBAPP_LOGINS_MERGE_TITLE" translate-default="Sync existing WatchList"></h4></div><div style="margin-bottom: 50px;" translate="WEBAPP_LOGINS_MERGE_DESCRIPTION" translate-values="{amount: $ctrl.stats.titles}"></div><div><div class="col-sm-8 col-sm-offset-2 detail-infos__watchlist-button"><a href="" ng-click="$ctrl.merge()"><span translate="WEBAPP_LOGINS_MERGE_YES" translate-default="Yes"></span></a></div><div class="col-sm-8 col-sm-offset-2 detail-infos__watchlist-button"><a href="" ng-click="$ctrl.dontMerge()"><span translate="WEBAPP_LOGINS_MERGE_NO" translate-default="No"></span></a></div></div></div><div ng-if="$ctrl.step === $ctrl.STEPS.LOGGED_IN"><div class="login__modal--flashy"><span class="glyphicon glyphicon-user"></span></div><p style="margin-bottom: 30px;"><span translate="WEBAPP_LOGINS_LOGGEDIN_TITLE" translate-default="You are logged in."></span></p><login-providers current-step="$ctrl.step" login="$ctrl.login(provider)"></login-providers><div class="" style="margin-top: 50px; margin-bottom: 65px; padding: 25px;"><div class="col-sm-8 col-sm-offset-2 detail-infos__watchlist-button"><a href="" ng-click="$ctrl.logout()"><span translate="WEBAPP_LOGINS_LOGOUT" translate-default="Logout"></span></a></div></div><div class="login__modal__bottom"><a analytics-on="click" analytics-event="delete_account" analytics-category="userinteraction" href="mailto:delete-account@justwatch.com?subject=Please delete my account&body=My Login ID: {{$ctrl.userData.jwLoginId}}"><span translate="WEBAPP_LOGINS_DELETEACCOUNT" translate-default="Delete my account permanently"></span></a></div></div></div>');
}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("platform/web/mobile-banner.tpl.html",'<div class="promobanner__container"></div><div class="promobanner__close" ng-click="promoHide()"><div class="additional-filter__button promobanner__close__area"><span class="glyphicon glyphicon-remove"></span></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("search/typeahead/typeahead-popup.tpl.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-class="{\'dropdown-menu--more-entries\': matches.length >= 7}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}"><li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" ng-if="match.model.object_type != \'person\'" role="option" style="border-bottom: 1px solid rgba(160, 160, 160, 0.2);" id="{{match.id}}"><div uib-typeahead-match="" index="$index" match="match" query="query" template-url="templateUrl"></div></li><div ng-repeat="match in matches | filter:{model: {object_type: \'person\'}} | limitTo:1" style="background-color: #CCCDCE; text-align: center; padding: 4px; color: #4c5a67; font-weight: bold; text-transform: uppercase;">People</div><li ng-repeat="match in matches track by $index" ng-if="match.model.object_type == \'person\'" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" style="border-bottom: 1px solid rgba(160, 160, 160, 0.2);" role="option" id="{{match.id}}"><div uib-typeahead-match="" index="$index" match="match" query="query" template-url="templateUrl"></div></li><li ng-if="matches.length >= 7" class="dropdown-menu__more"><a ui-sref="app.search.list({locale: matches[0].model.full_path.split(\'/\')[1], q: query})" ui-sref-opts="{inherit: false}" class="dropdown-menu__more--link" translate="WEBAPP_TYPEAHEAD_MORE" translate-default="See all results for {{query}} &raquo;" translate-values="{query: query}" analytics-on="click" analytics-category="search_suggest_more" analytics-event="click" analytics-label="{{query}}"></a> {{config}}</li></ul>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("search/typeahead/typeahead.tpl.html",'<a class="search__typeahead__item" href="" snowplow-data-contextable="" contextable-type="season" contextable-data="null"><img class="search__typeahead__poster" ng-if="match.model.poster || match.model.portrait" ng-src="{{(match.model.poster || match.model.portrait) | thumborProxy:\'poster\'}}" fader-on-load=""> <img class="search__typeahead__poster search__typeahead__no-poster" ng-if="!match.model.poster && !match.model.portrait"><div class="search__typeahead__text" ng-if="[\'movie\', \'show\'].indexOf(match.model.object_type) !== -1"><div class="tv-show__badge search__typeahead__badge" ng-if="match.model.object_type == \'show\'"><span translate="WEBAPP_SHOW_BADGE" translate-default="TV">TV</span></div><strong ng-bind-html="match.label" class="search__typeahead__label"></strong><br><span class="search__typeahead__year">{{match.model.original_release_year}}</span></div><div class="search__typeahead__text" ng-if="[\'person\'].indexOf(match.model.object_type) !== -1"><div class="tv-show__badge search__typeahead__badge"><span class="glyphicon glyphicon-user"></span></div><strong class="search__typeahead__label">{{match.model.full_name}}</strong><br><span class="search__typeahead__year" ng-if="match.model.birthYear" translate="WEBAPP_PERSONS_BORN_IN" translate-values="{year: match.model.birthYear}"></span></div></a>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/list/new.tpl.html",'<div class="page__new" deferred=""><div class="top-content" ng-class="{\'top-content--fixed-new\': watchbarFixed[state.activeCollectionType] && !scrollingState.slideDownMobile, \'no-provider-filters\': state.activeCollectionType === \'offers\'}"><expandable-fade-text is-filter-content="isFilterContent()" content-data="contentData"></expandable-fade-text><div all-filter="" filters="filters" providers-key="providers" domain="new" state="state" class="" watchbar-fixed="watchbarFixed[state.activeCollectionType]" excludes="{new: [\'cinema-release\']}" slide-down-mobile="scrollingState.slideDownMobile"></div></div><div class="max-width-padding" id="content"><div class="new-titles"><div jw-infinite-scroll="addMoreItems()" jw-infinite-scroll-id="{{::state.activeCollectionType}}" jw-infinite-scroll-disabled="fetchingState.isFetching || isNewEndReached || currentDay <= limitNewByDate" jw-infinite-scroll-distance="1" jw-infinite-scroll-listen-for-event="infinite-scroll.manual"><div class="timeline"><div class="timeline__timeframe" ng-repeat="day in titles[state.activeCollectionType].items" ng-init="$last && hasRendered()"><span class="timeline__timeframe__head" ng-if="::(day.date == today)" translate="WEBAPP_TODAY" translate-default="Today"></span> <span class="timeline__timeframe__head" ng-if="::(day.date == yesterday)" translate="WEBAPP_YESTERDAY" translate-default="Yesterday"></span> <span class="timeline__timeframe__head" ng-if="::(day.date != today && day.date != yesterday)">{{::day.date | date:\'mediumDate\'}}</span><div class="timeline__provider-block" ng-if="specials[day.date].items.length > 0"><div class="timeline__provider-block__logo"><img class="price-comparison__grid__row__icon" alt="JustWatch Special" ng-src="{{::specials[day.date].icon}}"></div><div class="timeline__provider-block__head"><span class="main-content__title-divider__title"><span>{{::specials[day.date].heading}}</span></span></div><div horizontal-scrollable="" horizontal-scrollable-style=""><div class="horizontal-scrollable-container timeline__provider-block__titles"><div ng-repeat="special in specials[day.date].items" class="timeline__provider-block__specials" collection-special-tracker="" collection-special-name="{{::special.name}}" collection-special-date="{{::day.date}}"><div class="timeline__provider-block__title"><div class="timeline__provider-block__title__container"><div bind-html-compile="::special.html_content"></div></div></div></div></div></div></div><div class="timeline__provider-block timeline--{{::day.date}}--{{::provider.provider_id}}" ng-repeat="provider in ::day.providers track by (provider.provider_id + \'-\' + provider.total)" ng-if="!isHidden(provider.id) || inReview === false"><div class="timeline__provider-block__logo"><img ng-repeat="icon in ::filters.providers | filter:{id: provider.provider_id}:true" class="price-comparison__grid__row__icon" alt="{{::icon.clear_name}}" ng-src="{{::icon.icon_url|thumborProxy:\'provider_icon_small\'}}" ng-if="::(!isCloaked(provider.provider_id) || inReview === false)"><cloaked-provider class="provider-filter__icon--cloaked" ng-if="::(isCloaked(provider.provider_id) && inReview === true)" provider-id="provider.provider_id" is-small-provider="true"></cloaked-provider></div><div class="timeline__provider-block__head"><span class="main-content__title-divider__title"><span>{{::provider.total.toLocaleString(numberLocale)}}</span> <span translate="{{::(provider.total == 1 ? \'WEBAPP_TITLE\' : \'WEBAPP_TITLES\')}}" translate-default="titles"></span></span></div><div horizontal-scrollable="" horizontal-scrollable-style=""><div class="horizontal-scrollable-container timeline__provider-block__titles" ng-class="{\'horizontal-scrollable-container--has-more\': provider.items.length !== provider.total}" horizontal-infinite-scroll="addMoreItemsHorizontal(day.date, provider.provider_id)" horizontal-infinite-scroll-disabled="provider.items.length == provider.total" horizontal-infinite-scroll-distance="0.4"><div ng-repeat="title in provider.items" ng-if="::(state.activeCollectionType != \'pricedrops\' || (!!title.offers_prominent.difference && !!title.offers_prominent.percentage))" style="position: relative; display: inline-block;" ng-init="$last ? $parent.$parent.$parent.loaded() : null" snowplow-data-contextable="" contextable-type="title" contextable-data="::title"><watchlist-ribbon content-type="::title.object_type" content-id="::title.id" target-title="::title" page-type="new"></watchlist-ribbon><a class="timeline__provider-block__title" ng-class="::{\'timeline__provider-block__title--no-poster\': !title.poster}" ng-href="{{::title.full_path}}"><div class="timeline__provider-block__title__container" ng-class="::{\'tv-show\': title.object_type == \'show_season\' || title.object_type == \'show\'}"><div ng-if="::(title.object_type == \'show\' || title.object_type == \'show_season\')" class="tv-show__badge"><span translate="WEBAPP_SEASON" translate-default="season"></span> {{:: title.season_number}}</div><img class="poster" ng-src="{{::title.poster|thumborProxy:\'poster\'}}" ng-if="::title.poster" alt="{{::title.show_title}}" fader-on-load=""><div ng-if="::!title.poster" class="poster">{{::(title.show_title || title.title)}}</div><div ng-if="::title.offers_prominent" class="pricedrops"><div class="pricedrops__box clearfix"><div class="pricedrops__box__full"><div class="pricedrops__box__monetization pricedrops__box__monetization--{{::title.offers_prominent.percentage.monetization_type}}">{{:: (\'WEBAPP_\'+title.offers_prominent.percentage.monetization_type.toUpperCase()) | translate }}</div></div><div class="pricedrops__box__half"><div class="pricedrops__box__flash" ng-class="::{\'pricedrops__box__flash--low\': title.offers_prominent.percentage.last_change_percent > -20, \'pricedrops__box__flash--medium\': title.offers_prominent.percentage.last_change_percent <= -20 && title.offers_prominent.percentage.last_change_percent > -50, \'pricedrops__box__flash--high\': title.offers_prominent.percentage.last_change_percent <= -50}">{{::title.offers_prominent.percentage.last_change_percent | number:0}}%</div></div><div class="pricedrops__box__half"><div class="pricedrops__box__prices"><div class="pricedrops__box__prices--old">{{::title.offers_prominent.percentage.last_change_retail_price | isoCurrency:title.offers_prominent.percentage.currency }}</div><div class="pricedrops__box__prices--new">{{::title.offers_prominent.percentage.retail_price | isoCurrency:title.offers_prominent.percentage.currency }} <span ng-if="::title.offers_prominent.percentage.presentation_type == \'hd\'" class="price-comparison__badge price-comparison__badge--hd">HD</span></div></div></div></div></div></div></a></div></div></div></div></div></div></div><div ng-if="fetchingState.isFetching && false" class="timeline__is-fetching"><p translate="WEBAPP_SEARCHING" translate-default="searching"></p></div><div ng-if="(!titles[state.activeCollectionType].items || titles[state.activeCollectionType].items.length === 0) && !fetchingState.isFetching" class="text-center"><div ng-if="state.activeCollectionType != \'pricedrops\'"><div ng-if="isPriceFilterActive" ng-init="selectedProviders = getSelectedProviders([\'flatrate\', \'ads\'])" class="col-sm-12"><div ng-if="selectedProviders.length == amountSelectedProviders"><p translate="WEBAPP_NO_NEW_TITLES_STREAM_PRICE" translate-default="Price filter isn\'t available for your selected providers. Try selecting other providers like <strong>iTunes</strong> or <strong>Google Play</strong> or unselect the price filter."></p></div><div ng-if="selectedProviders.length != amountSelectedProviders"><p translate="WEBAPP_NO_NEW_TITLES" translate-default="Sorry. We couldn\'t find something new."></p></div></div><div ng-if="!isPriceFilterActive"><p translate="WEBAPP_NO_NEW_TITLES" translate-default="Sorry. We couldn\'t find something new."></p></div></div><div ng-if="state.activeCollectionType == \'pricedrops\'" ng-init="selectedProviders = getSelectedProviders([\'flatrate\', \'ads\'])" class="col-sm-12"><div ng-if="selectedProviders.length > 0"><span translate="WEBAPP_NO_NEW_TITLES_STREAM_PROVIDERS" translate-default=""></span></div><div ng-if="selectedProviders.length == 0"><p translate="WEBAPP_NO_NEW_TITLES" translate-default="Sorry. We couldn\'t find something new."></p><div></div></div></div><div ng-repeat="script in contentData.scripts" unsafe-html="" html="script"></div></div><style type="text/css" ng-bind-html="contentData.html_content[\'styles\']"></style></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/list/popular.tpl.html",'<div class="page__popular" deferred=""><div class="top-content" ng-class="{\'top-content--fixed\': watchbarFixed[state.activeCollectionType] && !scrollingState.slideDownMobile}"><expandable-fade-text is-filter-content="isFilterContent()" content-data="contentData"></expandable-fade-text><div all-filter="" filters="filters" providers-key="providers" domain="popular" state="state" excludes="{popular: [\'cinema-release\']}" slide-down-mobile="scrollingState.slideDownMobile"></div></div><div class="max-width-padding" id="content"><div class="main-content row"><div class="main-content__title-divider"><span class="main-content__title-divider__title">{{ totalResults.popular.toLocaleString(numberLocale) || \'\' }} <span translate="WEBAPP_TITLES" translate-default="titles"></span></span></div><div jw-infinite-scroll="addMoreItems()" jw-infinite-scroll-id="{{::state.activeCollectionType}}" jw-infinite-scroll-disabled="fetchingState.isFetching || titles.popular.items.length >= totalResults.popular || !!isPopularEndReached" jw-infinite-scroll-distance="1" jw-infinite-scroll-listen-for-event="infinite-scroll.manual"><div class="main-content__poster" ng-repeat="title in titles.popular.items track by (title.object_type + title.id + \'-\' + $index)" ng-init="$last && hasRendered()" ng-show="::title.poster" snowplow-data-contextable="" contextable-type="title" contextable-data="::title"><div class="main-content__poster__image"><title-card target-title="::title"></title-card></div></div><div ng-if="titles.popular.items.length === 0 && !fetchingState.isFetching" class="text-center"><div ng-if="isPriceFilterActive" ng-init="selectedProviders = getSelectedProviders([\'flatrate\', \'ads\'])" class="col-sm-12"><div ng-if="selectedProviders.length == amountSelectedProviders"><span style="position: relative; top: 20px;" translate="WEBAPP_NO_NEW_TITLES_STREAM_PRICE" translate-default="Price filter isn\'t available for your selected providers. Try selecting other providers like <strong>iTunes</strong> or <strong>Google Play</strong> or unselect the price filter."></span></div></div></div></div></div></div><div ng-repeat="script in contentData.scripts" unsafe-html="" html="script"></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/backdrop.tpl.html",'<div class="backdrops swipe"><div class="swipe-wrap"><div class="backdrops__backdrop" ng-if="!backdrops && backdrops !== false"><div style="position:relative; width:100%; height:0; padding-top:52%;"><div class="loading-backdrop"><span translate="WEBAPP_BACKDROPLOADER" translate-default="Patience. Bob Ross is painting the backdrop..."></span></div></div></div><div class="backdrops__backdrop" ng-repeat="backdrop_item in backdrops" ng-init="($last) ? setup() : \'\'"><div style="position:relative; width:100%; height:0; padding-top:52%;"><img ng-if="($index === 0 || loadingAllImages)" ng-src="{{:: backdrop_item.backdrop_url | thumborProxy:\'backdrop\' }}/{{:: fullPath.substr(fullPath.lastIndexOf(\'/\')+1) }}" class="img-responsive" alt="{{:: titleData.title }} backdrop {{ $index + 1 }}" fader-on-load=""><div class="loading-backdrop"><span translate="WEBAPP_BACKDROPLOADER" translate-default="Patience. Bob Ross is painting the backdrop..."></span></div></div></div></div></div><div class="backdrops__arrows"><div class="backdrops__arrows__arrow backdrops__arrows__arrow-left" ng-click="prev()"><span class="backdrops__arrows__arrow-left__icon glyphicon glyphicon-chevron-left"></span></div><div class="backdrops__arrows__arrow backdrops__arrows__arrow-right" ng-click="next()"><span class="backdrops__arrows__arrow-right__icon glyphicon glyphicon-chevron-right"></span></div></div><div class="backdrops__bullets-wrapper"><div class="backdrops__bullets"><span ng-repeat="index in range(1, getNumSlides())" ng-class="{\'backdrops__bullets__bullet--active\': getPos() == index - 1}" class="backdrops__bullets__bullet"></span></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/clip.directive.tpl.html",'<div class="detail-infos__video__row clearfix"><div ng-repeat="clip in ::clips | limitTo:maxClips" ng-class="{\'col-md-6\': clips.length > 1 && !clip.active}" class="col-xs-12 detail-infos__video__col"><div class="detail-infos__video__container__outer"><div class="detail-infos__video__container"><div class="detail-infos__video__container--play" ng-click="play(clip)"></div><img ng-src="{{::\'https://img.youtube.com/vi/\'+clip.external_id+\'/mqdefault.jpg\'}}" class="img-responsive detail-infos__video__placeholder-img"><youtube-video ng-if="clip.active" class="embed-responsive-item" video-id="clip.external_id" player-vars="playerVars"></youtube-video></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/detail-info.tpl.html",'<hr><div class="detail-infos__detail"><div class="clearfix"><label for="rating" class="detail-infos__subheading" translate="WEBAPP_RATING" translate-default="Rating"></label><div class="detail-infos__detail--values"><div class="detail-infos__detail__rating" ng-repeat="score in ::scoring" ng-click="trackRatingClick(score)"><img class="detail-infos__detail__rating--img" ng-src="{{::score.image}}" alt="{{::score.name}}" tooltip="{{::score.name}}"> <span id="{{::info.object_type}}-{{::info.id}}-{{::score.provider.replace(\':\', \'_\')}}">{{::score.score}}{{::score.append}}</span></div><div class="detail-infos__detail__rating" ng-if="scoring.length == 0">-</div></div></div><div class="clearfix"><label for="genres" class="detail-infos__subheading" translate="WEBAPP_GENRES" translate-default="Genres"></label><div class="detail-infos__detail--values"><span ng-repeat-start="genre in ::genres"></span><span content="{{::genre.translation}}">{{::genre.translation}}</span><span ng-if="!$last">,</span> <span ng-repeat-end=""></span> <span ng-if="::genres.length == 0">-</span></div></div><div class="clearfix" ng-if="::(runtime)"><label for="runtime" class="detail-infos__subheading" translate="WEBAPP_RUNTIME" translate-default="Runtime"></label><div class="detail-infos__detail--values"><span translate="WEBAPP_DURATION" translate-values="{hours: runtime.hours, minutes: runtime.minutes}"></span></div></div><div class="clearfix" ng-if="::(directors.length > 0 && mode !== \'lite\')"><label for="director" class="detail-infos__subheading" translate="WEBAPP_PERSONS_DIRECTOR" translate-default="Director"></label><div class="detail-infos__detail--values"><span ng-repeat="director in ::directors" snowplow-data-contextable="" contextable-type="person" contextable-data="::{personId: director.person_id, fullName: director.name}"><a ng-click="goToPerson(director)">{{::director.name}}</a><span ng-if="!$last">,&nbsp;</span></span></div></div></div><hr>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/movieDetail.tpl.html",'<div class="detail-infos--backdrop" ng-if="entered"><div backdrop="" backdrops="::title.backdrops" full-path="::title.full_path" title-data="::title" start-slide="0" speed="400" auto="false" continuous="true" disable-scrolling="false" stop-propagation="false" style="position:relative;" class="backdrops-directive"></div><div class="detail-infos--backdrop__title-holder row"></div><div class="detail-infos__main detail-infos__main__fadeable" ng-class="{\'detail-infos__main__fadeable--shown\': !!title, \'detail-infos__main--no-backdrop\':(title.backdrops && title.backdrops.length < 1) || !title.backdrops}"><div style="margin-left: -15px; margin-right: -15px;"><div class="col-xs-12 col-sm-push-4 col-sm-8"><div class="detail-infos--backdrop__title"><h1 class="detail-infos--backdrop__h1" ng-if="title"><span>{{::contentData.heading_1 }}</span> <span class="detail-infos--backdrop__h1__year">({{title.original_release_year}})</span></h1><h1 class="detail-infos--backdrop__h1" ng-if="!title">&nbsp;</h1><div ng-bind-html="::contentData.html_content[\'h1_text\'] || \'\'"></div><div ng-bind-html="::contentData.html_content[\'h2_text\'] || \'\'"></div></div><h3 class="detail-infos--backdrop__subtitle" ng-if="title"><span ng-if="::(title.title != title.original_title)"><span translate="WEBAPP_ORIGINAL_TITLE" translate-default="Original Title"></span>: <span>{{ title.original_title }}</span></span></h3><survey survey-type="\'campaign\'" ng-if="enabledFeatures.SURVEY_AND_PULL && title.offers && contentData" title-offers="title.offers" title-data="contentData" has-original-name="title.title != title.original_title" is-shown="ui.surveyIsShowing"></survey><release-reminder ng-if="contentData && cinemaTitle && (getActiveVariant(\'RELEASE_REMINDER_2\') === 1)" title-data="contentData" highlighted="getActiveVariant(\'RELEASE_REMINDER_2\') === 1"></release-reminder><div><div class="price-comparison" data-section="1_buybox"><watchnow-wording-test ng-if="!cinemaTitle && title.offers.length > 0" title-name="title.title"></watchnow-wording-test><p class="detail-infos__subheading" ng-if="cinemaTitle && title.offers.length > 0" style="" translate="WEBAPP_WATCHNOW_CINEMA" translate-default="Watch Now in theater"></p><p class="detail-infos__subheading" ng-if="cinemaTitle && title.offers.length === 0" translate="WEBAPP_WATCHNOW_CINEMA_SOON" translate-default="Watch in theater soon"></p><div class="price-comparison__grid" ng-if="title.offers.length > 0"><div monetizations="" ng-if="::title.offers" monetization-type="general" offers="title.offers" filters="filters" object-type="title.object_type" title-name="::title.title" title-object="::title" is-fixed="false"></div></div><p ng-if="title.offers.length == 0" translate="WEBAPP_NO_OFFERS" translate-default="We are sorry. We can\'t find any offers right now."></p><offer-reporter title-object="title"></offer-reporter></div><div ng-if="[1, 3].indexOf(getActiveVariant(\'TRAILER_BUYBOX_BACKDROP\')) !== -1"><br><div ng-if="contentData.html_content.trailers || (title.clips && title.clips.length > 0)"><p class="detail-infos__subheading" translate="WEBAPP_TRAILERS" translate-default="Videos: Trailers, Teasers, Featurettes"></p><div ng-if="contentData.html_content.trailers && contentData.html_content.trailers !== \'[]\'" clip="" clips="contentData.html_content.trailers" target-title="title"></div><div ng-if="!contentData.html_content.trailers || contentData.html_content.trailers === \'[]\'" clip="" clips="title.clips" target-title="title"></div></div></div><div class="detail-infos--backdrop__description"><mobile-banner-test variant="getActiveVariant(\'MOBILE_BANNER_SEO_2\')" ng-if="getActiveVariant(\'MOBILE_BANNER_SEO_2\') === 2"></mobile-banner-test><watchlist-button-group class="visible-xs" content-type="::title.object_type" content-id="::title.id" target-title="::title.title"></watchlist-button-group><login-button ng-if="::enabledFeatures.LOGINS" class="visible-xs"></login-button><title-recommendations ng-if="::enabledFeatures.RECOMMENDATIONS" pos="up" target-title="title"></title-recommendations><detail-info data-section="2_detail-info" class="visible-xs visible-sm detail-info--{{::viewport}}" ng-if="title" info="::title" all-genres="::filters.genres"></detail-info><div ng-if="::enabledFeatures.PERSONS" data-section="3_cast"><div ng-if="(title.credits | filter:{role:\'ACTOR\'}:true).length > 0"><p class="detail-infos__subheading" translate="WEBAPP_PERSONS_CREDITS" translate-default="Credits"></p><title-credits credits="::title.credits" roles="[\'ACTOR\']"></title-credits></div></div><p ng-if="title.short_description" class="detail-infos__subheading" translate="WEBAPP_SYNOPSIS" translate-default="SYNOPSIS"></p><p ng-if="title.short_description" data-section="4_synposis">{{ title.short_description }}</p><title-recommendations ng-if="::enabledFeatures.RECOMMENDATIONS" pos="down" target-title="title"></title-recommendations><div ng-if="hasPhysicalOffers"><p class="detail-infos__subheading" translate="WEBAPP_DVDBLURAY_BUY" translate-default="Buy DVD / Blu-Ray"></p><div monetizations="" class="monetizations--has-physical-offers" monetization-type="physical" offers="title.offers_physical" filters="filters" object-type="title.object_type" title-name="::title.title"></div><br></div><mobile-banner-test variant="getActiveVariant(\'MOBILE_BANNER_SEO_2\')" ng-if="getActiveVariant(\'MOBILE_BANNER_SEO_2\') === 3"></mobile-banner-test><div ng-if="[0, 2].indexOf(getActiveVariant(\'TRAILER_BUYBOX_BACKDROP\')) !== -1" data-section="5_trailers"><div ng-if="(contentData.html_content.trailers && contentData.html_content.trailers.length > 0) || (title.clips && title.clips.length > 0)"><p class="detail-infos__subheading" translate="WEBAPP_TRAILERS" translate-default="Videos: Trailers, Teasers, Featurettes"></p><div ng-if="contentData.html_content.trailers && contentData.html_content.trailers !== \'[]\'" clip="" clips="contentData.html_content.trailers" target-title="title"></div><div ng-if="!contentData.html_content.trailers || contentData.html_content.trailers === \'[]\'" clip="" clips="title.clips" target-title="title"></div></div></div><mobile-banner-test variant="getActiveVariant(\'MOBILE_BANNER_SEO_2\')" ng-if="getActiveVariant(\'MOBILE_BANNER_SEO_2\') === 4"></mobile-banner-test><h2 class="detail-infos__subheading" ng-if="::contentData.heading_2">{{::contentData.heading_2 }}</h2><p data-section="6_spinning">{{infoText}}</p><div ng-bind-html="::contentData.html_content.default"></div><div ng-bind-html="::contentData.html_content.default1"></div><div ng-bind-html="::contentData.html_content.default2"></div><div ng-bind-html="::contentData.html_content.default3"></div><div ng-bind-html="::contentData.html_content.default4"></div><div ng-bind-html="::contentData.html_content.default5"></div><div ng-bind-html="::contentData.html_content.default6"></div><div ng-bind-html="::contentData.html_content.default7"></div><div ng-bind-html="::contentData.html_content.default8"></div><div ng-bind-html="::contentData.html_content.default9"></div><div ng-bind-html="::contentData.html_content.default10"></div></div></div></div><div><div class="detail-infos--backdrop__poster col-xs-12 col-sm-pull-8 col-sm-4"><div class="col-xs-6 col-sm-12 col-xs-push-3 col-sm-push-0"><div ng-if="title.poster" class="detail-infos--backdrop__poster__wrap"><watchlist-ribbon content-type="::title.object_type" content-id="::title.id" target-title="::title" page-type="detail"></watchlist-ribbon><img alt="{{:: title.title }} poster" class="detail-infos--backdrop__poster__image img-responsive" ng-src="{{ title.poster|thumborProxy:\'poster_detail\' }}/{{::title.full_path.substr(title.full_path.lastIndexOf(\'/\')+1) }}" fader-on-load=""></div><div ng-if="!title.poster" class="detail-infos--backdrop__no-poster__wrap"><div class="detail-infos--backdrop__no-poster__wrap__title">{{title.title}}</div><div class="detail-infos--backdrop__no-poster__wrap__text">{{ \'WEBAPP_NO_POSTER_TEXT\' | translate }}</div></div><watchlist-button-group class="hidden-xs" content-type="::title.object_type" content-id="::title.id" target-title="::title.title"></watchlist-button-group><login-button ng-if="::enabledFeatures.LOGINS" class="hidden-xs"></login-button><detail-info class="hidden-xs hidden-sm detail-info--{{::viewport}}" ng-if="title" info="::title" all-genres="::filters.genres"></detail-info></div></div></div></div><div class="clearfix"></div></div><scrolling-tracker ng-if="title"></scrolling-tracker></div><div ng-repeat="script in ::contentData.scripts" unsafe-html="" html="script"></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/showDetail.tpl.html",'<div class="detail-infos--backdrop" ng-if="entered"><div backdrop="" backdrops="::title.backdrops" full-path="::title.full_path" title-data="::title" start-slide="0" speed="400" auto="false" continuous="true" disable-scrolling="false" stop-propagation="false" style="position:relative;" class="backdrops-directive"></div><div class="detail-infos--backdrop__title-holder row"></div><div class="detail-infos__main detail-infos__main__fadeable" ng-class="{\'detail-infos__main__fadeable--shown\': !!title, \'detail-infos__main--no-backdrop\':(title.backdrops && title.backdrops.length < 1) || !title.backdrops}"><div ui-view="season"><div class="row"><div class="col-xs-12 col-sm-push-4 col-sm-8"><div class="detail-infos--backdrop__title"><h1 class="detail-infos--backdrop__h1" ng-if="title"><span>{{:: contentData.heading_1 }}</span> <span class="detail-infos--backdrop__h1__year">({{title.original_release_year}})</span></h1><h1 class="detail-infos--backdrop__h1" ng-if="!title">&nbsp;</h1><div ng-bind-html="::contentData.html_content[\'h1_text\'] || \'\'"></div><div ng-bind-html="::contentData.html_content[\'h2_text\'] || \'\'"></div></div><h3 class="detail-infos--backdrop__subtitle" ng-if="title"><span ng-if="title && title.original_title && title.title != title.original_title"><span translate="WEBAPP_ORIGINAL_TITLE" translate-default="Original Title"></span>: <span>{{ title.original_title }}</span></span></h3><div class="price-comparison" ng-if="cinemaOffers.length == 0 && abTestGlobal.BUYBOX_ABOVE_SEASONS === 1"><p class="detail-infos__subheading" translate="WEBAPP_WATCHNOW" translate-default="Watch Now"></p><div class="price-comparison__grid" ng-if="!noOffers"><div monetizations="" monetization-type="general" offers="title.offers" filters="filters" object-type="title.object_type" title-name="::title.title"></div></div><p ng-if="noOffers" translate="WEBAPP_NO_OFFERS" translate-default="No Offers"></p><offer-reporter title-object="title"></offer-reporter><br></div><p class="detail-infos__subheading" ng-if="title.seasons.length === 1" translate="WEBAPP_X_SEASON" translate-values="{ seasons: title.seasons.length }" translate-default="Season"></p><p class="detail-infos__subheading" ng-if="title.seasons.length !== 1" translate="WEBAPP_X_SEASONS" translate-values="{ seasons: title.seasons.length }" translate-default="Seasons"></p><div horizontal-scrollable="" horizontal-scrollable-style=""><div class="detail-infos__seasons horizontal-scrollable-container"><a ng-repeat="season in title.seasons | orderBy:\'season_number\':true" class="detail-infos__seasons__season" ng-href="{{season.full_path}}" ng-class="{\'detail-infos__seasons__season--inactive\': !season.full_path}" ng-init="$last ? $parent.$parent.loaded() : false"><meta content="{{::season.original_release_year}}"><img ng-if="season.poster" ng-src="{{season.poster |thumborProxy:\'poster\'}}" alt="{{::title.title}} {{::season.title}}" class="img-responsive detail-infos__seasons__season__poster"> <img ng-if="!season.poster && title.poster" ng-src="{{title.poster |thumborProxy:\'poster\'}}" alt="{{::title.title}} {{::season.title}}" class="img-responsive detail-infos__seasons__season__poster"><div ng-if="!season.poster && !title.poster" class="detail-infos__seasons__season__no-poster">{{ \'WEBAPP_SEASON\' | translate }} {{::season.season_number}}</div><span>{{ \'WEBAPP_SEASON\' | translate}} {{::season.season_number}}</span></a></div></div><watchlist-button-group class="visible-xs" content-type="::title.object_type" content-id="::title.id" target-title="::title.title"></watchlist-button-group><login-button ng-if="::enabledFeatures.LOGINS" class="visible-xs"></login-button><p class="detail-infos__subheading"><span translate="WEBAPP_RECENT_EPISODES" translate-default="Newest Episodes"></span></p><div class="detail-infos__episodes" ng-if="::newestEpisodes"><uib-accordion><div uib-accordion-group="" ng-repeat="episode in newestEpisodes" is-open="status.open" ng-click="episode.__opened = true"><uib-accordion-heading><div class="detail-infos__episodes__heading"><span class="detail-infos__episodes__episode-number"><span translate="WEBAPP_SEASON_X_EPISODE_Y" translate-values="{ season: episode.season_number, episode: episode.episode_number }"></span></span> &dash;<span ng-if="::episode.title">&nbsp;{{episode.title}}</span><span ng-if="::!episode.title" translate="WEBAPP_SHOW_A_SEASON_B_EPISODE_C" translate-values="{ season: episode.season_number, episode: episode.episode_number, showTitle: title.title }"></span> <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-up\': status.open, \'glyphicon-chevron-down\': !status.open}"></i></div></uib-accordion-heading><div ng-if="episode.short_description"><p dd-text-collapse="" dd-text-collapse-max-length="210" dd-text-collapse-text="{{episode.short_description}}"></p></div><div ng-if="!episode.short_description"><p>{{ \'WEBAPP_NO_DESCRIPTION\' | translate }}</p></div><div class="price-comparison"><div class="price-comparison__grid" ng-if="episode.offers"><div snowplow-data-contextable="" contextable-type="episode" contextable-data="episode" ng-if="(ENV == \'web\' || (ENV == \'mobile\' && episode.__opened))"><div monetizations="" monetization-type="general" offers="episode.offers" filters="filters" object-type="\'show_episode\'" title-name="::title.title"></div></div></div><p ng-if="!episode.offers">{{ \'WEBAPP_NO_OFFERS\' | translate }}</p></div></div></uib-accordion></div><div ng-repeat="offer in cinemaOffers = (title.offers | filter:{monetization_type: \'cinema\'})"></div><div class="price-comparison" ng-if="cinemaOffers.length == 0 && [0, 1].indexOf(abTestGlobal.BUYBOX_ABOVE_SEASONS) === -1 || abTestGlobal.BUYBOX_ABOVE_SEASONS === 0"><p class="detail-infos__subheading" translate="WEBAPP_WATCHNOW" translate-default="Watch Now"></p><div class="price-comparison__grid" ng-if="!noOffers"><div monetizations="" monetization-type="general" offers="title.offers" filters="filters" object-type="title.object_type" title-name="::title.title"></div></div><p ng-if="noOffers" translate="WEBAPP_NO_OFFERS" translate-default="No Offers"></p><offer-reporter title-object="title"></offer-reporter></div><detail-info class="visible-xs visible-sm detail-info--{{::viewport}}" ng-if="title" info="::title" all-genres="::filters.genres"></detail-info><div class="detail-infos--backdrop__description"><div ng-if="::enabledFeatures.PERSONS"><div ng-if="title.credits.length > 0"><p class="detail-infos__subheading" translate="WEBAPP_PERSONS_CREDITS" translate-default="Credits"></p><title-credits credits="::title.credits" roles="[\'ACTOR\']"></title-credits></div></div><p ng-if="title.short_description" class="detail-infos__subheading">{{ \'WEBAPP_SYNOPSIS\' | translate }}</p><p ng-if="title.short_description">{{ title.short_description }}</p><div ng-if="title.clips && title.clips.length > 0"><p class="detail-infos__subheading">Videos: Trailers, Teasers, Featurettes</p><div clip="" clips="title.clips" target-title="title"></div></div><h2 class="detail-infos__subheading">{{:: contentData.heading_2 }}</h2><p>{{infoText}}</p><div ng-bind-html="::contentData.html_content.default"></div></div></div><div><div class="detail-infos--backdrop__poster col-xs-12 col-sm-pull-8 col-sm-4"><div class="col-xs-6 col-sm-12 col-xs-push-3 col-sm-push-0"><div ng-if="title.poster" class="detail-infos--backdrop__poster__wrap tv-show--large"><watchlist-ribbon content-type="::title.object_type" content-id="::title.id" target-title="::title" page-type="detail"></watchlist-ribbon><img alt="{{::title.title}} poster" class="detail-infos--backdrop__poster__image img-responsive" ng-src="{{ title.poster|thumborProxy:\'poster_detail\' }}/{{ title.full_path.substr(title.full_path.lastIndexOf(\'/\')+1) }}" fader-on-load=""></div><div ng-if="!title.poster" class="detail-infos--backdrop__no-poster__wrap"><div class="detail-infos--backdrop__no-poster__wrap__title">{{::title.title}}</div><div class="detail-infos--backdrop__no-poster__wrap__text">{{ \'WEBAPP_NO_POSTER_TEXT\' | translate }}</div></div><watchlist-button-group class="hidden-xs" content-type="::title.object_type" content-id="::title.id" target-title="::title.title"></watchlist-button-group><login-button ng-if="::enabledFeatures.LOGINS" class="hidden-xs"></login-button><detail-info class="hidden-xs hidden-sm detail-info--{{::viewport}}" ng-if="title" info="::title" all-genres="::filters.genres"></detail-info></div></div></div></div></div></div></div><div ng-repeat="script in ::contentData.scripts" unsafe-html="" html="script"></div>');
}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/showSeasonDetail.tpl.html",'<div class="row" ng-if="entered"><div class="col-xs-12 col-sm-push-4 col-sm-8"><div class="detail-infos--backdrop__title"><h1 class="detail-infos--backdrop__h1" ng-if="title"><span><a ng-href="{{title.full_path}}"><span>{{ title.title }}</span></a></span> <span>- <span><span><span translate="WEBAPP_SEASON" translate-default="Season"></span> <span>{{ show.season_number }}</span></span></span></span> <span class="detail-infos--backdrop__h1__year">({{show.original_release_year}})</span></h1><h1 class="detail-infos--backdrop__h1" ng-if="!title">&nbsp;</h1><div ng-bind-html="::contentData.html_content[\'h1_text\'] || \'\'"></div><div ng-bind-html="::contentData.html_content[\'h2_text\'] || \'\'"></div></div><h3 class="detail-infos--backdrop__subtitle" ng-if="title"><span ng-if="title && title.original_title && title.title != title.original_title"><span translate="WEBAPP_ORIGINAL_TITLE" translate-default="Original Title"></span>: <span>{{ title.original_title }}</span></span></h3><div ng-repeat="offer in cinemaOffers = (title.offers | filter:{monetization_type: \'cinema\'})"></div><div><div class="price-comparison" ng-if="show && cinemaOffers.length == 0"><p class="detail-infos__subheading" translate="WEBAPP_WATCHNOW" translate-default="Watch Now"></p><div class="price-comparison__grid" ng-if="!noOffers"><div monetizations="" monetization-type="general" offers="show.offers" filters="filters" object-type="\'show_season\'" title-name="::title.title"></div></div><p ng-if="noOffers" translate="WEBAPP_NO_OFFERS" translate-default="No Offers"></p><offer-reporter title-object="title"></offer-reporter></div><div class="price-comparison" ng-if="!show"><p class="detail-infos__subheading">{{ \'WEBAPP_WATCHNOW\' | translate }}</p></div></div><div class="mt20"><watchlist-button-group class="visible-xs" content-type="::show.object_type" content-id="::show.id" target-title="::show.title"></watchlist-button-group><login-button ng-if="::enabledFeatures.LOGINS" class="visible-xs"></login-button><detail-info class="visible-xs visible-sm detail-info--{{::viewport}}" ng-if="title" info="::title" all-genres="::filters.genres"></detail-info><div ng-if="::show.episodes"><p class="detail-infos__subheading"><span>{{::show.episodes.length}}</span> <span translate="WEBAPP_EPISODES" translate-default="Episodes"></span></p><div class="detail-infos__episodes"><uib-accordion><div uib-accordion-group="" ng-repeat="episode in show.episodes | orderBy:\'episode_number\'" is-open="status.open" ng-click="episode.__opened = true"><uib-accordion-heading><div class="detail-infos__episodes__heading"><span class="detail-infos__episodes__episode-number"><span translate="WEBAPP_SEASON_X_EPISODE_Y" translate-values="{ season: show.season_number, episode: episode.episode_number }"></span> &dash;</span> <span>{{::episode.title}}</span> <i class="pull-right glyphicon" ng-class="{\'glyphicon-chevron-up\': status.open, \'glyphicon-chevron-down\': !status.open}"></i></div></uib-accordion-heading><div ng-if="episode.short_description"><p dd-text-collapse="" dd-text-collapse-max-length="210" dd-text-collapse-text="{{::episode.short_description}}"></p></div><div ng-if="!episode.short_description"><p>{{ \'WEBAPP_NO_DESCRIPTION\' | translate }}</p></div><div class="price-comparison"><div class="price-comparison__grid" ng-if="!noOffers && (ENV == \'web\' || (ENV == \'mobile\' && episode.__opened))" snowplow-data-contextable="" contextable-type="episode" contextable-data="episode"><div monetizations="" monetization-type="general" offers="episode.offers" filters="filters" object-type="episode.object_type" title-name="::title.title"></div></div><p ng-if="noOffers">{{ \'WEBAPP_NO_OFFERS\' | translate }}</p></div></div></uib-accordion></div></div></div><div class="detail-infos--backdrop__description"><p class="detail-infos__subheading" ng-if="::show.short_description" translate="WEBAPP_SYNOPSIS" translate-default="Synopsis"></p><p>{{ show.short_description }}</p><div ng-if="::enabledFeatures.PERSONS"><div ng-if="show.credits.length > 0"><p class="detail-infos__subheading" translate="WEBAPP_PERSONS_CREDITS" translate-default="Credits"></p><title-credits credits="::show.credits" roles="[\'ACTOR\']"></title-credits></div></div><div ng-if="show.clips && show.clips.length > 0"><p class="detail-infos__subheading">Videos: Trailers, Teasers, Featurettes</p><div clip="" clips="show.clips" target-title="title"></div></div><h2 class="detail-infos__subheading">{{:: contentData.heading_2 }}</h2><p>{{ infoText }}</p><div ng-bind-html="::contentData.html_content.default"></div></div></div><div class="detail-infos--backdrop__poster col-xs-12 col-sm-pull-8 col-sm-4"><div class="col-xs-6 col-sm-12 col-xs-push-3 col-sm-push-0"><div ng-if="show.poster || title.poster" class="detail-infos--backdrop__poster__wrap tv-show--large"><watchlist-ribbon content-type="::show.object_type" content-id="::show.id" target-title="::title" page-type="detail"></watchlist-ribbon><img alt="{{:: title.title }} {{:: show.title }} poster" class="detail-infos--backdrop__poster__image img-responsive" ng-src="{{ (show.poster || title.poster) |thumborProxy:\'poster_detail\' }}/{{ title.full_path.substr(title.full_path.lastIndexOf(\'/\')+1) }}"></div><div ng-if="!title.poster && !show.poster" class="detail-infos--backdrop__no-poster__wrap"><div class="detail-infos--backdrop__no-poster__wrap__title">{{ title.title }}</div><div class="detail-infos--backdrop__no-poster__wrap__text">{{ \'WEBAPP_NO_POSTER_TEXT\' | translate }}</div></div><watchlist-button-group class="hidden-xs" content-type="::show.object_type" content-id="::show.id" target-title="::show.title"></watchlist-button-group><login-button ng-if="::enabledFeatures.LOGINS" class="hidden-xs"></login-button><detail-info class="hidden-xs hidden-sm detail-info--{{::viewport}}" ng-if="title" info="::title" all-genres="::filters.genres"></detail-info></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/title-card/title-card.tpl.html",'<div snowplow-data-contextable="" contextable-type="title" contextable-data="::targetTitle" class="pos-relative"><watchlist-ribbon content-type="::targetTitle.object_type" content-id="::targetTitle.id" target-title="::targetTitle"></watchlist-ribbon></div><a ng-href="{{::targetTitle.full_path}}"><div class="main-content__poster__image__container" ng-class="::{\'tv-show\': targetTitle.object_type == \'show\'}"><div ng-if="::(targetTitle.object_type == \'show\')" class="tv-show__badge"><span translate="WEBAPP_SHOW_BADGE" translate-default="TV"></span></div><div class="main-content__poster__trailer-button" ng-if="targetTitle && getActiveVariant(\'POSTER_TRAILER_BUTTON\') === 1" ng-click="playTrailer($event)" isolate-click=""><img class="main-content__poster__trailer-button__icon" src="assets/jw-icon.png" alt="Play trailer."></div><img class="img-responsive poster" style="width: 100%; height: auto;" alt="{{::targetTitle.title}}" ng-if="::targetTitle.poster" ng-src="{{::targetTitle.poster|thumborProxy:\'poster\'}}/{{::targetTitle.full_path.substr(targetTitle.full_path.lastIndexOf(\'/\')+1) }}" fader-on-load=""></div></a>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/content-type/contentTypeFilter.tpl.html",'<div ng-if="::types.length > 1" ng-repeat="type in ::types" style="display: inline-block;"><div class="additional-filter__dropdown-filter additional-filter__checkbox" ng-if="type.collectionTypeShown.indexOf(collectionType) !== -1"><a class="additional-filter__button" ng-class="{\'additional-filter__button--active\': isContentTypeActive(type) || !isFilterActive()}" ng-href="{{:: getStateUrl(type.id) }}" ng-click="setContentTypeFilter(type, $event)" analytics-on="click" analytics-event="toggle_content_type_filter" analytics-category="userinteraction" analytics-properties="{ label: type.id }"><span class="glyphicon" ng-class="{ \'glyphicon-ok\': isContentTypeActive(type) || !isFilterActive(), \'glyphicon-plus\': !isContentTypeActive(type) && isFilterActive() }"></span> <span translate="{{:: type.label }}" translate-default="{{:: type.id }}"></span></a></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/cinema-release/cinema-release.tpl.html",'<div class="cinema-release"><div class=""><div class="btn-group" style="width: 100%;"><a type="button" ng-repeat="type in cinemaTypes" ng-href="{{::getStateUrl(type)}}" ng-click="setCinemaRelease(type, $event)" ng-class="{\'additional-filter__button--active\': isTypeActive(type)}" class="additional-filter__button btn btn-default">{{translations[type.label]}}</a></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/genre/genreFilter.tpl.html",'<filter-popover-head type="select" unselect-all="unselectAll()" select-all="selectAll()"><span translate="WEBAPP_GENRES" translate-default="Genres"></span></filter-popover-head><div class="additional-filter__popover__body"><ul class="additional-filter__popover__list"><li ng-repeat="genre in ::genres track by genre.id"><a href="" ng-click="toggleGenre(genre, $event)" class="additional-filter__button" ng-class="{\'additional-filter__button--active\': (isGenreFilterActive(genre) || !isFilterActive()) && !noneSelected}"><span class="glyphicon" ng-class="{ \'glyphicon-ok\': (isGenreFilterActive(genre) || !isFilterActive()) && !noneSelected, \'glyphicon-plus\': !(isGenreFilterActive(genre) || !isFilterActive()) || noneSelected }"></span> {{:: genre.translation }}</a></li></ul></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/presentation-type/presentationTypeFilter.tpl.html",'<filter-popover-head type="reset" filter-name="quality"><span translate="WEBAPP_PRESENTATIONTYPE" translate-default="Quality"></span></filter-popover-head><div class="additional-filter__popover__body"><div ng-repeat="presentationType in ::presentationTypes" style="display: inline-block;"><div class="additional-filter__dropdown-filter additional-filter__checkbox"><a class="additional-filter__button" ng-class="{\'additional-filter__button--active\': isPresentationTypeActive(presentationType)}" href="" ng-click="setPresentationType(presentationType, $event)"><span translate="{{::presentationType.label}}" translate-default="{{::presentationType.labelDefault}}"></span></a></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/price/monetization-filter.tpl.html",'<filter-popover-head type="reset" filter-name="monetization_types"><span translate="WEBAPP_MONETIZATIONTYPES" translate-default="Types"></span></filter-popover-head><div class="additional-filter__popover__body" style="margin-top: 20px;"><ul class="additional-filter__popover__list"><li ng-repeat="monetizationType in monetizationTypes | orderBy:\'order\'"><a class="additional-filter__button" ng-class="{\'additional-filter__button--active\': (isMonetizationFilterActive(monetizationType) || (!isFilterActive() && !isNonDefault(monetizationType)))}" href="" ng-click="toggleMonetizationType(monetizationType, $event)"><span class="glyphicon" ng-class="{\'glyphicon-ok\': (isMonetizationFilterActive(monetizationType) || (!isFilterActive() && !isNonDefault(monetizationType))), \'glyphicon-plus\': !(isMonetizationFilterActive(monetizationType) || (!isFilterActive() && !isNonDefault(monetizationType)))}"></span> <span translate="{{:: \'WEBAPP_\' + monetizationType.label.toUpperCase() }}" translate-default="{{::monetizationType.label.toUpperCase()}}"></span></a></li></ul></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/price/price-filter.tpl.html",'<filter-popover-head type="reset" filter-name="price"><span translate="WEBAPP_PRICE" translate-default="Price"></span></filter-popover-head><div class="additional-filter__popover__body"><div class="range-filter"><slider floor="{{::prices.min}}" ceiling="{{::prices.max}}" ng-model-low="states.min_price" ng-model-high="states.max_price" prepend="currency" append=""></slider><div class="range-filter__buttons"><a ng-repeat="preset in presetPrices.buttons" class="additional-filter__button range-filter__buttons__button" ng-click="setPriceFilter(preset.min_price, preset.max_price)" ng-class="{\'additional-filter__button--active\': isPriceActive(preset.min_price, preset.max_price)}"><span translate="{{::preset.label}}" translate-values="{x: (currency + preset.value)}" translate-default="{{::currency + preset.value}}"></span></a></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/rating/rating-filter.tpl.html",'<filter-popover-head type="reset" filter-name="rating"><span translate="WEBAPP_RATING" translate-default="Rating"></span></filter-popover-head><div class="additional-filter__popover__body"><div class="range-filter"><div ng-repeat="rating in ratings"><img style="width: 24px; position: absolute;" ng-src="{{:: rating.image}}" alt="{{:: rating.name}}" tooltip="{{:: rating.name}}"><slider style="width: {{:: styles.width }}%; margin-left: {{:: styles[\'margin-left\'] }}%;" floor="{{:: rating.min }}" ceiling="{{:: rating.max }}" append="{{:: rating.append }}" step="{{:: rating.step }}" precision="{{:: (rating.decimals + 1) }}" highlight="right" ng-model="local[rating.provider]"></slider></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/provider/providerFilter.tpl.html",'<div horizontal-scrollable="" horizontal-scroll-style="basic-gradient"><div class="provider-filter"><div class="provider-filter__outer"><div class="provider-filter__wrap horizontal-scrollable-container"><a ng-repeat="provider in providers | orderBy:\'display_priority\' track by provider.id" ng-class="{\'provider-filter__provider--active\': isProviderActive(provider)}" ng-href="{{:: getProviderLink(provider) }}" class="provider-filter__provider" ng-click="toggleProvider(provider, $event)" analytics-on="click" analytics-event="toggle_provider_filter" analytics-category="userinteraction" analytics-properties="{ label: provider.technical_name }" ng-init="$last ? $parent.$parent.loaded() : false" ng-if="!isHidden(provider.id) || inReview === false"><img class="provider-filter__icon" ng-src="{{:: provider.icon_url|thumborProxy:\'provider_icon\' }}/{{:: provider.slug }}" alt="{{::provider.clear_name}}" title="{{::provider.clear_name}}" ng-if="::(!isCloaked(provider.id) || inReview === false)" fader-on-load=""><cloaked-provider ng-if="::(isCloaked(provider.id) && inReview === true)" provider-id="provider.id"></cloaked-provider></a></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/filter/release/releaseFilter.tpl.html",'<filter-popover-head type="reset" filter-name="releaseYear"><span translate="WEBAPP_RELEASEYEAR" translate-default="Release Year"></span></filter-popover-head><div class="additional-filter__popover__body"><div class="range-filter"><slider floor="{{ defaultYear.minRelease }}" ceiling="{{ defaultYear.maxRelease }}" ng-model-low="local.minRelease" ng-model-high="local.maxRelease"></slider><div class="range-filter__buttons"><a ng-repeat="preset in presetYears.buttons" class="additional-filter__button range-filter__buttons__button" ng-click="setReleaseYearFilter(preset.year_from, preset.year_until)" ng-class="{\'additional-filter__button--active\': isYearActive(preset.year_from, preset.year_until)}"><span translate="{{::preset.label}}" translate-default="{{::preset.labelDefault}}"></span></a><select class="form-control range-filter__select" ng-class="{\'range-filter__select--active\': selectedDecadeIndex !== null && isYearActive(presetYears.decades[selectedDecadeIndex].year_from, presetYears.decades[selectedDecadeIndex].year_until)}" ng-model="selectedDecadeIndex" ng-change="updateDecade()"><option value="" translate="WEBAPP_CHOOSE_DECADE" translate-default="Choose decade"></option><option value="{{$index}}" ng-repeat="decade in presetYears.decades" translate="{{::decade.label}}" translate-default="{{::decade.labelDefault}}"></option></select></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/survey/rating-survey/rating-survey-modal.tpl.html",'<ion-modal-view class="modal-settings" ng-controller="ratingSurveyModalCtrl as $ctrl"><ion-content class="gradient-bg" style="background-color: rgba(12, 21, 29, 1);"><div class="jw-modal"><div class="modal-header"><div class="jw-modal__close-button"><span aria-hidden="true" aria-label="Close" ng-click="dismiss()">&times;</span></div><h4 class="modal-title"><span ng-if="ui.page === \'start\'" translate="WEBAPP_HYBRIDAPP_APPRATE_HEADLINE_START" translate-default="Hey there! How happy are you with JustWatch?"></span> <span ng-if="ui.page === \'rate_us\'" translate="WEBAPP_HYBRIDAPP_APPRATE_HEADLINE_RATEUS" translate-default="Would you like to help us out?"></span> <span ng-if="ui.page === \'feedback\'" translate="WEBAPP_HYBRIDAPP_APPRATE_HEADLINE_FEEDBACK" translate-default="What could we do better?"></span></h4></div><div class="modal-body"><div ng-if="ui.page === \'start\'"><div ng-repeat="rating in ::ratings" ng-click="submitRating(rating)" class="rating-survey-modal__rating rating-survey-modal__rating-{{::rating.class}}"><div class="row"><div class="col-xs-3"><img ng-src="{{::rating.icon}}" class="rating-survey-modal__rating__icon"></div><div class="col-xs-9"><h4 class="rating-survey-modal__rating__title" translate="{{::rating.translate}}" translate-default="{{::rating.translateDefault}}"></h4></div></div></div></div><div ng-if="ui.page === \'rate_us\'"><p translate="WEBAPP_HYBRIDAPP_APPRATE_MESSAGE" translate-default="If you enjoy JustWatch, please rate our app." class="rating-survey-modal__rate-us-text"></p><button type="button" class="jw-modal__button" aria-label="Rate Us" ng-click="rateUs()"><span translate="WEBAPP_HYBRIDAPP_APPRATE_RATEUS" translate-default="Rate us in the" translate-values="{{ui.translateValues}}"></span> {{::ui.translateValues.storeName}}</button></div><div ng-if="ui.page === \'feedback\'"><textarea rows="5" name="freetext" class="form-control" ng-model="ui.feedbackText">\n                </textarea></div></div><div class="modal-footer" ng-if="ui.page === \'feedback\'"><button type="submit" class="jw-modal__button" aria-label="Submit" ng-click="sendFeedback()" ng-disabled="!ui.feedbackText" translate="WEBAPP_HYBRIDAPP_APPRATE_SENDFEEDBACK" translate-default="Send Feedback"></button></div></div></ion-content></ion-modal-view>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/survey/templates/campaign-survey.tpl.html",'<div class="campaign-survey" ng-class="{ \'campaign-survey--hidden\': !$ctrl.isShown, \'campaign-survey--with-original-title\': $ctrl.hasOriginalName }" ng-if="$ctrl.hasSurvey"><div class="campaign-survey__box" ng-class="{\'campaign-survey__box--shown\': $ctrl.isShown}"><a href="" ng-if="($ctrl.currentQuestion.element_subtype === \'survey_end\') || $ctrl.hasEnded || $ctrl.survey.is_closable" ng-click="$ctrl.close()" class="campaign-survey__box__close-button">&times;</a><div class="campaign-survey__box__head" bind-html-compile="$ctrl.currentQuestion.activeVariation.translation || \'\'"></div><textarea ng-repeat="option in $ctrl.currentAnswers" ng-model="option.__textualAnswer" ng-if="option.element_subtype === \'free_text\'" class="campaign-survey__box__textarea" name="{{::option.activeVariation.translation}}" rows="5" cols="40">\n\t\t</textarea><div class="campaign-survey__box__options" ng-if="$ctrl.currentQuestion.element_subtype !== \'survey_end\'"><span ng-if="$ctrl.currentQuestion.element_subtype === \'simple\'" class="campaign-survey__box__options--button" ng-repeat="option in $ctrl.currentAnswers" ng-click="$ctrl.answer(option)">{{::option.activeVariation.translation}}</span><div ng-if="$ctrl.currentQuestion.element_subtype === \'multiple_choice\'" class="text-right"><span class="campaign-survey__box__options--button campaign-survey__box__options--button--checkbox" ng-class="{\'campaign-survey__box__options--button--selected\': option.__active}" ng-repeat="option in $ctrl.currentAnswers"><label for="survey-answer-{{::option.id}}"><input type="checkbox" id="survey-answer-{{::option.id}}" name="survey-answer-{{::option.id}}" ng-model="option.__active"> {{::option.activeVariation.translation}}</label></span></div></div><div class="clearfix"></div><div class="campaign-survey__box__control" ng-if="$ctrl.currentQuestion.element_subtype === \'multiple_choice\'"><button type="button" class="campaign-survey__box__options--button campaign-survey__box__options--button--next" ng-disabled="$ctrl.getSelectedAnswers().length === 0" ng-click="$ctrl.answerMultiple()" translate="WEBAPP_NEXT" translate-default="Next"></button><div class="clearfix"></div></div><div class="clearfix"></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/survey/templates/title-survey.tpl.html",'<div class="title-survey"><h3>{{$ctrl.currentQuestion.activeVariation.translation}}</h3><br><div ng-if="$ctrl.hasEnded"><p><span translate="WEBAPP_PICK_THANKYOU" translate-default="Thanks for participating!"></span></p><br><br><div ng-if="$ctrl.afterText && $ctrl.afterLink" class="col-sm-6 col-sm-offset-3"><div class="detail-infos__watchlist-button"><a href="{{::$ctrl.afterLink}}" target="_self">{{::$ctrl.afterText}}</a></div></div></div><div class="title-survey__titles" ng-if="!$ctrl.hasEnded"><div class="col-xs-12"><div class="col-sm-3 col-xs-6" ng-repeat="title in ::$ctrl.titles"><div class="title-survey__titles__card" ng-class="{\'title-survey__titles__card--selected\': title.__selected}"><div style="position: relative;"><div class="title-survey__poster-title">{{title.title}}</div><img class="img-responsive poster" style="width: 100%; height: auto;" alt="{{::title.title}}" ng-if="::title.poster" ng-src="{{::title.poster|thumborProxy:\'poster\'}}/{{::title.full_path.substr(title.full_path.lastIndexOf(\'/\')+1) }}" fader-on-load="" ng-click="$ctrl.selectTitle(title)"></div><div class="detail-infos__watchlist-button" style="padding: 0"><a href="" ng-click="$ctrl.selectTitle(title)"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> <span translate="WEBAPP_PICK_SELECT" translate-default="Select" ng-if="!title.__selected"></span> <span translate="WEBAPP_PICK_SELECTED" translate-default="Selected" ng-if="title.__selected"></span></a></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("common/timeline/section/timeline-section.tpl.html",'<div class="new-titles"><div jw-infinite-scroll="$ctrl.addMoreItems()" jw-infinite-scroll-id="{{$ctrl.activeCollectionType}}" jw-infinite-scroll-disabled="$ctrl.fetchingState.isFetching || $ctrl.isNewEndReached || $ctrl.currentDay < $ctrl.limitNewByDate" jw-infinite-scroll-distance="1" jw-infinite-scroll-listen-for-event="infinite-scroll.manual"><div class="timeline"><div class="timeline__timeframe" ng-repeat="day in $ctrl.sections" ng-init="$last && $ctrl.hasRendered()"><div ng-if="day.titlelist_name"><span class="timeline__timeframe__head" translate="{{day.titlelist_name}}" translate-values="{{day.titlelist_values}}"></span></div><div ng-if="!day.titlelist_name"><span class="timeline__timeframe__head" ng-if="::(day.date == today)" translate="WEBAPP_TODAY" translate-default="Today"></span> <span class="timeline__timeframe__head" ng-if="::(day.date == yesterday)" translate="WEBAPP_YESTERDAY" translate-default="Yesterday"></span> <span class="timeline__timeframe__head" ng-if="::(day.date != today && day.date != yesterday)">{{::day.date | date:\'mediumDate\'}}</span></div><div class="timeline__provider-block" ng-repeat="provider in ::day.providers" ng-if="!isHidden(provider.provider_id) || inReview === false"><trailer-zapper ng-if="$ctrl.getActiveVariant(\'TRAILER_ZAPPER\') === 1" titles="::provider.items" bucket="::day.date"></trailer-zapper><div class="timeline__provider-block__logo"><img ng-if="::(provider.provider_id && (!isCloaked(provider.provider_id) || inReview === false))" ng-repeat="icon in ::filters.providers | filter:{id: provider.provider_id}:true" class="price-comparison__grid__row__icon" alt="{{::icon.clear_name}}" ng-src="{{::icon.icon_url|thumborProxy:\'provider_icon_small\'}}"> <img ng-if="::(!provider.provider_id && (!isCloaked(provider.provider_id) || inReview === false))" ng-src="{{::provider.provider_icon}}" class="price-comparison__grid__row__icon"><cloaked-provider class="provider-filter__icon--cloaked" ng-if="::(isCloaked(provider.provider_id) && inReview === true)" provider-id="provider.provider_id" is-small-provider="true"></cloaked-provider></div><div class="timeline__provider-block__head"><span class="main-content__title-divider__title"><span>{{::provider.total.toLocaleString(numberLocale)}}</span> <span translate="WEBAPP_TITLES" translate-default="titles"></span></span></div><div horizontal-scrollable="" horizontal-scrollable-style=""><div class="horizontal-scrollable-container timeline__provider-block__titles" ng-class="{\'horizontal-scrollable-container--has-more\': provider.items.length !== provider.total}" horizontal-infinite-scroll="$ctrl.addMoreItemsHorizontal(day.date, provider.provider_id)" horizontal-infinite-scroll-disabled="provider.items.length == provider.total" horizontal-infinite-scroll-distance="0.4"><div ng-repeat="title in provider.items" ng-if="::($ctrl.activeCollectionType != \'pricedrops\' || (!!title.offers_prominent.difference && !!title.offers_prominent.percentage))" style="position: relative; display: inline-block;" ng-init="$last ? $parent.$parent.$parent.loaded() : null" snowplow-data-contextable="" contextable-type="title" contextable-data="::title"><watchlist-ribbon content-type="::title.object_type" content-id="::title.id" target-title="::title" page-type="new"></watchlist-ribbon><a class="timeline__provider-block__title" ng-class="::{\'timeline__provider-block__title--no-poster\': !title.poster}" ng-href="{{::title.full_path}}"><div class="timeline__provider-block__title__container" ng-class="::{\'tv-show\': title.object_type == \'show_season\' || title.object_type == \'show\'}"><div ng-if="::(title.object_type == \'show\' || title.object_type == \'show_season\')" class="tv-show__badge"><span translate="WEBAPP_SEASON" translate-default="season"></span> {{:: title.season_number}}</div><img class="poster" ng-src="{{::title.poster|thumborProxy:\'poster\'}}" ng-if="::title.poster" alt="{{::title.title}}" fader-on-load=""><div ng-if="::!title.poster" class="poster">{{::(title.show_title || title.title)}}</div><div ng-if="::title.offers_prominent" class="pricedrops"><div class="pricedrops__box clearfix"><div class="pricedrops__box__full"><div class="pricedrops__box__monetization pricedrops__box__monetization--{{::title.offers_prominent.percentage.monetization_type}}">{{:: (\'WEBAPP_\'+title.offers_prominent.percentage.monetization_type.toUpperCase()) | translate }}</div></div><div class="pricedrops__box__half"><div class="pricedrops__box__flash" ng-class="::{\'pricedrops__box__flash--low\': title.offers_prominent.percentage.last_change_percent > -20, \'pricedrops__box__flash--medium\': title.offers_prominent.percentage.last_change_percent <= -20 && title.offers_prominent.percentage.last_change_percent > -50, \'pricedrops__box__flash--high\': title.offers_prominent.percentage.last_change_percent <= -50}">{{::title.offers_prominent.percentage.last_change_percent | number:0}}%</div></div><div class="pricedrops__box__half"><div class="pricedrops__box__prices"><div class="pricedrops__box__prices--old">{{::title.offers_prominent.percentage.last_change_retail_price | isoCurrency:title.offers_prominent.percentage.currency }}</div><div class="pricedrops__box__prices--new">{{::title.offers_prominent.percentage.retail_price | isoCurrency:title.offers_prominent.percentage.currency }} <span ng-if="::title.offers_prominent.percentage.presentation_type == \'hd\'" class="price-comparison__badge price-comparison__badge--hd">HD</span></div></div></div></div></div></div></a></div></div></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("login/modal/error/error-modal-mobile.tpl.html",'<ion-modal-view class="modal-settings" ng-controller="LoginModal as $ctrl"><ion-content class="gradient-bg" style="background-color: rgba(12, 21, 29, 1);"><div ng-include="\'login/modal/error/error-modal.tpl.html\'"></div></ion-content></ion-modal-view>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("login/modal/error/error-modal.tpl.html",'<div class="login__modal--close"><span ng-click="$ctrl.close()">&times;</span></div><div class="container-fluid text-center login__modal--content"><div class="login__modal--flashy"><span class="glyphicon glyphicon-exclamation-sign"></span></div><p style="margin-bottom: 30px;">Session expired.<br>Please log in again.</p></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/backdrop-trailer/backdrop-trailer.tpl.html",'<ion-modal-view class="modal-settings"><ion-content class="gradient-bg" style="background-color: rgba(12, 21, 29, 1);"><div class="jw-modal"><div class="modal-header"><div class="jw-modal__close-button"><span aria-hidden="true" aria-label="Close" ng-click="dismiss()">&times;</span></div><h4 class="modal-title">{{::title.title}} Trailer</h4></div></div><div class="modal-body"><div class="embed-responsive embed-responsive-16by9" style="margin: -20px;"><youtube-video ng-if="delayedShows[$index]" class="embed-responsive-item" video-id="clip.external_id" player-width="\'100%\'" player-vars="{autoplay: 1, playsinline: 1, controls: 1, showinfo: 0, modestbranding: 1, iv_load_policy: 3}"></youtube-video></div></div><div class="container" style="padding-bottom: 0px;"><watchlist-button-group content-type="::title.object_type" content-id="::title.id" target-title="::title.title"></watchlist-button-group></div><div class="clearfix"><detail-info class="detail-info--smartphone detail-info--trailer--mobile" info="::title" mode="lite" all-genres="::genres"></detail-info></div><div class="container" style="padding-top: 0px;"><div ng-if="::title.short_description"><p class="detail-infos__subheading" translate="WEBAPP_SYNOPSIS" translate-default="SYNOPSIS"></p><p>{{ title.short_description }}</p></div></div></ion-content></ion-modal-view>');
}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/first-choice/first-choice-survey.tpl.html",'<div class="first-choice-survey"><h3>{{$ctrl.currentQuestion.activeVariation.translation}}</h3><br><div ng-if="$ctrl.displayThankYou"><p><span translate="WEBAPP_PICK_THANKYOU" translate-default="Thanks for participating!"></span></p><br><br><div ng-if="$ctrl.afterText && $ctrl.afterLink" class="col-sm-6 col-sm-offset-3"><div class="detail-infos__watchlist-button"><a href="{{::$ctrl.afterLink}}" target="_self">{{::$ctrl.afterText}}</a></div></div></div><div class="first-choice-survey__titles" ng-if="!$ctrl.displayThankYou"><div class="col-xs-12"><div class="col-sm-3 col-xs-6" ng-repeat="title in ::$ctrl.titles"><div class="first-choice-survey__titles__card" ng-class="{\'first-choice-survey__titles__card--selected\': title.__selected}"><div style="position: relative;"><div class="first-choice-survey__poster-title">{{title.title}}</div><img class="img-responsive poster" style="width: 100%; height: auto;" alt="{{::title.title}}" ng-if="::title.poster" ng-src="{{::title.poster|thumborProxy:\'poster\'}}/{{::title.full_path.substr(title.full_path.lastIndexOf(\'/\')+1) }}" fader-on-load="" ng-click="$ctrl.selectTitle(title)"></div><div class="detail-infos__watchlist-button" style="padding: 0"><a href="" ng-click="$ctrl.selectTitle(title)"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> <span translate="WEBAPP_PICK_SELECT" translate-default="Select" ng-if="!title.__selected"></span> <span translate="WEBAPP_PICK_SELECTED" translate-default="Selected" ng-if="title.__selected"></span></a></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/monetizations/monetizations.tpl.html",'<div class="monetizations" ng-class="{ \'monetizations--fixed\': isFixed }"><div class="monetizations__additional-filter-wrapper"><div class="price-comparison__additional-filter" ng-if="::(!search && offers && monetizationType == \'general\')"><span class="price-comparison__additional-filter__heading-watch-now" ng-if="isFixed && !onlyCinemaOffers" translate="WEBAPP_WATCHNOW" translate-default="Watch Now"></span> <span class="price-comparison__additional-filter__heading-watch-now" ng-if="isFixed && onlyCinemaOffers" translate="WEBAPP_WATCHNOW_CINEMA" translate-default="Watch Now in theater"></span> <span class="price-comparison__additional-filter__heading" ng-if="!isFixed && !onlyCinemaOffers"><span class="glyphicon glyphicon-filter"></span> {{ \'WEBAPP_FILTERS\' | translate }}</span><div ng-repeat="presentationType in ::presentationTypes" ng-if="!isFixed && !onlyCinemaOffers" class="additional-filter__dropdown-filter additional-filter__checkbox"><a class="additional-filter__button" ng-class="{\'additional-filter__button--active\': isPresentationTypeActive(presentationType)}" href="" ng-click="setPresentationType(presentationType, $event)"><span translate="{{::presentationType.label}}" translate-default="{{::presentationType.translationDefault}}"></span></a></div></div></div><div class="monetizations__shadow" ng-if="isFixed"></div><div class="monetizations__monetization-wrapper"><div ng-repeat="monetization in ::monetizations[monetizationType]" class="price-comparison__grid__row price-comparison__grid__row--{{::monetization.key}}" ng-if="((offers | has:\'monetization_type\':monetization.shows).length > 0) || (monetizationType !== \'general\' && (offers | has:\'presentation_type\':monetization.shows).length > 0)"><div class="price-comparison__grid__row__title" translate="{{::monetization.name}}" translate-default="{{::monetization.translationDefault}}"></div><div class="price-comparison__grid__row__holder"><div ng-repeat-start="offer in filteredOffers = getFilteredOffers(offers, monetization, monetizationType)" class="price-comparison__grid__row__element"><div class="presentation-type price-comparison__grid__row__element__icon"><a ng-href="{{::offer.urls.standard_web}}" ng-click="clickOuting(offer, (showPriceDrops && offer.last_change_retail_price))" target="_blank"><span class="price-comparison__grid__row__offer-badge" ng-if="::(showPriceDrops && offer.last_change_retail_price)" ng-class="::{\'price-comparison__grid__row__price--new--low\': offer.last_change_percent > -20, \'price-comparison__grid__row__price--new--medium\': offer.last_change_percent <= -20 && offer.last_change_percent > -50, \'price-comparison__grid__row__price--new--high\': offer.last_change_percent <= -50}">%</span><div ng-repeat="provider in ::filters.providers_all | filter:{id: offer.provider_id}:true" ng-if="!isHidden(provider.id) || inReview === false"><img class="price-comparison__grid__row__icon" ng-class="{\'price-comparison__grid__row__icon--inactive\': (!isMobile || (isMobile && filterActiveState.active === false)) && ( (search && activeProviders.indexOf(provider.short_name) === -1) || (ignoredProviders && ignoredProviders.indexOf(provider.id) !== -1 && provider.monetization_types.indexOf(\'cinema\') === -1) ) }" alt="{{:: provider.clear_name }}" title="{{:: provider.clear_name }}" ng-src="{{:: provider.icon_url | thumborProxy:\'provider_icon\'}}/{{:: provider.slug }}" ng-if="::(!isCloaked(offer.provider_id) || inReview === false)"><cloaked-provider class="provider-filter__icon--cloaked" ng-if="::(isCloaked(provider.id) && inReview === true)" provider-id="offer.provider_id"></cloaked-provider></div><p class="price-comparison__grid__row__price"><span ng-if="::(offer.type != \'aggregated\')"><span ng-if="::offer.retail_price"><span ng-if="::(offer.last_change_retail_price)"><span class="price-comparison__grid__row__price--new"><span ng-if=":: offer.original_currency">{{:: offer.original_retail_price | isoCurrency:offer.original_currency }}</span> <span ng-if=":: !offer.original_currency">{{:: offer.retail_price | isoCurrency:offer.currency }}</span></span></span> <span ng-if="::(!offer.last_change_retail_price)"><span ng-if=":: offer.original_currency">{{:: offer.original_retail_price | isoCurrency:offer.original_currency }}</span> <span ng-if=":: !offer.original_currency">{{:: offer.retail_price | isoCurrency:offer.currency }}</span></span> <span ng-if="::offer.presentation_type == \'hd\'" class="price-comparison__badge price-comparison__badge--hd">HD</span> <span ng-if="::offer.presentation_type == \'bluray\'" class="price-comparison__badge price-comparison__badge--bluray" title="Blu-Ray">Blu-Ray</span> <span ng-if="::offer.presentation_type == \'dvd\'" class="price-comparison__badge price-comparison__badge--dvd">DVD</span></span> <span ng-if="::!offer.retail_price && !offer.element_count" translate="{{::monetization.priceLabel[offer.monetization_type] }}" translate-default="{{::offer.monetization_type}}"></span></span><span ng-if="::(offer.type == \'aggregated\' || (offer.type != \'aggregated\' && !offer.retail_price && offer.element_count))"><span ng-if="::offer.element_count" class="price-comparison__grid__row__price--aggregated"><span ng-if="::offer.element_count != 1"><span ng-if="::objectType == \'show\'" translate="WEBAPP_X_SEASONS" translate-values="::{ seasons: offer.element_count }" translate-default="{{::offer.element_count}} Seasons"></span> <span ng-if="::objectType == \'show_season\'" translate="WEBAPP_X_EPISODES" translate-values="::{ episodes: offer.element_count }" translate-default="{{::offer.element_count}} Episodes"></span></span> <span ng-if="::offer.element_count == 1"><span ng-if="::objectType == \'show\'" translate="WEBAPP_ONE_SEASON" translate-default="1 Season"></span> <span ng-if="::objectType == \'show_season\'" translate="WEBAPP_ONE_EPISODE" translate-default="1 Episode"></span></span></span></span></p></a></div></div><div class="price-comparison__grid__row__additional-info" ng-repeat-end="" ng-if="isNetflixTrialInfoShown(offer)" ng-class="{ \'hiding\': offer.__hideAdditionalInfo, }" ng-click="hideNetflixTrialInfo(offer)"><span class="price-comparison__grid__row__additional-info__close-button">&times;</span> <span class="price-comparison__grid__row__additional-info__text" translate="WEBAPP_ABTEST_NETFLIXTRIALMONTH" translate-default="Get one month of Netflix for free and watch this title!"></span></div><div ng-show="::(filteredOffers.length == 0)" class="price-comparison__grid__row__element"></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/release-reminder/release-reminder.tpl.html",'<div ng-if="$ctrl.releaseDate" class="release-reminder" ng-class="{\'release-reminder--highlighted\': $ctrl.highlighted}"><div class="release-reminder__infos"><hr style="position: relative; top: 42px;"><p class="detail-infos__subheading" style="color: white; display: inline-block; position: relative; left: 50%; transform: translateX(-50%); background-color: #0c151d; padding: 10px;"><strong translate="WEBAPP_RELEASE_REMINDER_CINEMARELEASE" translate-default="Cinema Release"></strong>: <span style="color: white;">{{$ctrl.releaseDate | date:\'dd.MM.yyyy\'}}</span></p></div><button type="button" class="release-reminder__button btn-block" ng-class="{\'active\': $ctrl.remindMeOpened}" ng-click="$ctrl.expand()" style="background-color: #fbc500; color: #111; font-size: 16px; padding: 10px;"><span class="glyphicon" ng-class="{ \'glyphicon-calendar\': !$ctrl.remindMeOpened, \'glyphicon-remove\': $ctrl.remindMeOpened, }"></span> <span translate="WEBAPP_RELEASE_REMINDER_REMINDME" translate-default="Remind me when it\'s released"></span></button><div uib-collapse="!$ctrl.remindMeOpened" class="release-reminder__details"><a href="" ng-click="$ctrl.remindVia(\'google-calendar\')" class="release-reminder__details__button"><span class="glyphicon glyphicon-calendar"></span> <span translate="WEBAPP_RELEASE_REMINDER_GOOGLECALENDAR" translate-default="Add to Google Calendar"></span></a> <a href="" ng-click="$ctrl.remindVia(\'ical\')" class="release-reminder__details__button" ng-if="$ctrl.deviceType !== \'android\'"><span class="glyphicon glyphicon-calendar"></span> <span translate="WEBAPP_RELEASE_REMINDER_ICAL" translate-default="Add to iCal"></span></a> <a href="" ng-click="$ctrl.remindVia(\'push\')" class="release-reminder__details__button" ng-class="{\'release-reminder__details__button--sorry\': $ctrl.sorry}"><span class="glyphicon glyphicon-bell"></span> <span translate="WEBAPP_RELEASE_REMINDER_PUSHNOTIFICATION" translate-default="Send a Push Notification"></span></a><p class="release-reminder__details__sorry" ng-if="$ctrl.sorry" translate="WEBAPP_RELEASE_REMINDER_PUSHNOTIFICATION_SORRY" translate-default="Thank you for your interest but this feature is not ready yet."></p></div></div><br>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/title-credits/title-credits.tpl.html",'<div class="title-credits" horizontal-scrollable="" horizontal-scroll-style="basic"><div class="title-credits--wrapper horizontal-scrollable-container" style=""><div class="title-credits__actor" ng-repeat="credit in ::$ctrl.credits | limitTo:12" ng-if="$ctrl.roles.indexOf(credit.role) !== -1"><div snowplow-data-contextable="" contextable-type="person" contextable-data="::{personId: credit.person_id, fullName: credit.name}"><a ng-click="$ctrl.goToPerson(credit)"><img class="title-credits__actor--portrait" ng-src="{{::$ctrl.getPortraitUrl(credit)}}" alt="{{::credit.name}}" fader-on-load=""> <span class="title-credits__actor--name" title="{{::credit.name}}">{{::credit.name}}</span></a></div><div class="title-credits__actor--role"><div class="title-credits__actor--role--name" ng-if="::credit.character_name"><span translate="WEBAPP_PERSONS_AS" translate-default="as"></span> <strong>{{::credit.character_name}}</strong></div><div ng-if="::!credit.character_name">&nbsp;</div></div></div></div></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/title-card/trailer-modal/trailer-modal.tpl.html",'<div class="modal-header"><div class="jw-modal__close-button"><span aria-hidden="true" aria-label="Close" ng-click="dismiss()">&times;</span></div><h4 class="modal-title">{{::title.title}}</h4></div><div class="modal-body"><div ng-if="clip" clip="" clips="::[clip]" target-title="::title"></div><p ng-if="!clip"></p></div>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/offer-reporter/offer-reporter-modal/offer-reporter-modal-mobile.tpl.html",'<ion-modal-view class="modal-settings" ng-controller="offerReporterModalCtrl as $ctrl"><ion-content class="gradient-bg" style="background-color: rgba(12, 21, 29, 1);"><div class="jw-modal offer-reporter__modal" ng-include="\'title/detail/offer-reporter/offer-reporter-modal/offer-reporter-modal.tpl.html\'"></div></ion-content></ion-modal-view>')}])}(),function(e){try{e=angular.module("templates-app")}catch(t){e=angular.module("templates-app",[])}e.run(["$templateCache",function(e){e.put("title/detail/offer-reporter/offer-reporter-modal/offer-reporter-modal.tpl.html",'<div class="modal-header"><div class="jw-modal__close-button"><span aria-hidden="true" aria-label="Close" ng-click="dismiss()">&times;</span></div><h4 class="modal-title" ng-if="ui.page === 1" translate="WEBAPP_REPORT_HEADLINE_SORRY" translate-default="Sorry we\'re wrong this time. "></h4><h4 class="modal-title" ng-if="ui.page === 2" translate="WEBAPP_REPORT_HEADLINE_THANKYOU" translate-default="Thank you for your help."></h4></div><div class="modal-body"><form name="ui.form" ng-if="ui.page === 1" ng-submit="report()"><div class="form-group"><label for="task_type" translate="WEBAPP_REPORT_ISSUE" translate-default="Issue"></label><select id="task_type" name="task_type" class="form-control offer-reporter__modal--select" ng-model="feedback.task_type" ng-options="taskType as taskType.name for taskType in ::(taskTypes | orderBy:\'order\')" required=""></select></div><div class="form-group" ng-if="feedback.task_type.__subSelection"><label translate="WEBAPP_REPORT_ISSUE_{{feedback.task_type.__subSelection.question.technical_name | uppercase}}" translate-default="{{feedback.task_type.__subSelection.question.name}}" style="margin-bottom: 0;"></label><div class="radio" ng-repeat="answer in feedback.task_type.__subSelection.answers"><label ng-style="{\'font-weight\': (feedback.task_type.__subSelection.selectedAnswer === answer.technical_name) ? 700 : 400}"><input type="radio" ng-model="feedback.task_type.__subSelection.selectedAnswer" value="{{::answer.technical_name}}" name="subSelection-{{$index}}" required=""> <span translate="WEBAPP_REPORT_ISSUE_{{::answer.technical_name | uppercase}}" translate-default="{{::answer.name}}" translate-values="translateValues"></span></label></div></div><div class="form-group"><label for="provider" translate="WEBAPP_REPORT_AFFECTEDPROVIDER" translate-default="Affected Provider"></label><select id="provider" name="provider" class="form-control offer-reporter__modal--select" ng-model="feedback.payload.provider" ng-options="provider.technical_name as provider.clear_name for provider in (feedback.task_type.technical_name === \'missing_offer\' ? allProviders : titleProviders) | orderBy:\'clear_name\'" required=""></select></div><div class="form-group"><label for="freetext" translate="WEBAPP_REPORT_COMMENT" translate-default="Comment"></label> <span class="text-muted" translate="WEBAPP_REPORT_COMMENT_OPTIONAL" translate-default="(optional)"></span> <textarea rows="2" id="freetext" name="freetext" class="form-control" ng-model="feedback.payload.freetext" translate="" translate-attr-placeholder="WEBAPP_REPORT_FREETEXTPLACEHOLDER" placeholder="Is there anything else you would like us to know?">\n        </textarea></div><div class="checkbox"><label><input type="checkbox" ng-model="ui.stayUpdated" ng-change="changedStayUpdated(ui.stayUpdated)"> <span translate="WEBAPP_REPORT_EMAILQUESTION" translate-default="Would you like to stay updated on this issue?"></span></label></div><div class="form-group" style="margin-bottom: 0;" uib-collapse="!ui.stayUpdated"><input type="email" id="email" name="email" class="form-control" ng-model="feedback.reporter_info.email" translate="" translate-attr-placeholder="WEBAPP_REPORT_EMAILPLACEHOLDER" placeholder="yourname@yourdomain.com" ng-required="ui.stayUpdated"> <span class="text-danger" ng-if="ui.form.email.$touched && ui.form.email.$invalid" translate="WEBAPP_REPORT_EMAILINVALID" translate-default="Please enter a valid mail address."></span></div><button type="submit" class="hidden"></button></form><div ng-if="ui.page === 2"><span translate="WEBAPP_REPORT_THANKYOU_TEXT" translate-default="Your feedback was sent. We will take care of it as good as we can.<br>Thanks for contributing to JustWatch! "></span><br><span translate="WEBAPP_REPORT_THANKYOU_TEXT_MAIL" translate-default="We will keep you updated via <strong>{{email}}</strong>!" translate-values="{{feedback.reporter_info}}" ng-if="ui.stayUpdated"></span></div></div><div class="modal-footer"><button type="submit" class="jw-modal__button" aria-label="Report" ng-if="ui.page === 1" ng-click="report()" ng-disabled="!isSubmissionAllowed()" translate="WEBAPP_REPORT_REPORT" translate-default="Report"></button> <button type="button" class="jw-modal__button" aria-label="Close" ng-if="ui.page === 2" ng-click="dismiss()" translate="WEBAPP_CLOSE" translate-default="Close"></button><div class="offer-reporter__modal__error" uib-collapse="ui.page !== 1 || !ui.error"><span translate="WEBAPP_REPORT_ERROR" translate-default="Unfortunately your feedback could not be sent. Please try again later."></span></div></div>')}])}(),angular.module("jw-webapp").controller("appCtrl",["$scope","$rootScope","$state","$q","filterRepository","filterStateService","urlDataRepository","metaService","configRepository","viewport","$timeout","$document","localeManager","$location","featureFlagProvider","CONFIG","ratingRepository","snowplowContext","mobileBannerService",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m,g,h,v,y){function b(e){return t.abTestGlobal&&void 0!==t.abTestGlobal[e]?t.abTestGlobal[e]:0}function w(e,n,r){angular.forEach(e,function(e){i.resetAllFilterStates(e)}),t.$broadcast("filter.reset"),a.updateState(n)}var $=["app.titles.pricedrops","app.onboarding"];e.$state=n,e.config=l.config,e.filterActiveState=i.filterActiveState,e.viewport=c(),e.enabledFeatures=m.enabledFeatures,e.classifiedAppVersion="version__"+g.VERSION.replace(/\./g,"-"),e.getActiveVariant=b,e.onboardingComplete=void 0,e.resetFilters=w;var x=!1;s.setExternalPromise("footer",r.defer()),e.bannerState=y.getState(),e.isPromotionActive=y.getState(),u(function(){angular.element(document.querySelector(".jw__spinner")).remove()},1500);var S=function(e){e&&"collectionType"in e&&i.setCollectionType(e.collectionType)};t.getActiveVariant=b,e.isStateActive=function(e){return n.includes(e)},S(n.current.data);var E=t.$on("$stateChangeStart",function(r,s,l,c,p){if(e.stateParams=l,["global","app.onboarding"].indexOf(s.name)===-1){["app.titlelist.list","app.offers.list"].indexOf(s.name)!==-1&&(x=!0),!(s.data&&c.data&&s.data.collectionType&&c.data.collectionType&&s.data.collectionType!==c.data.collectionType)&&"data"in s&&"collectionType"in s.data||(e.contentData={}),S(s.data);var m=[];angular.forEach(i.getFilterStateNames(),function(e){e in l&&l[e]&&m.push({key:e,value:l[e]})});var g=null;x&&!d.state.forwardingTarget||(angular.forEach([{contentType:"movie",routes:["app.titles.popular.movie","app.titles.new.movie"]},{contentType:"show",routes:["app.titles.popular.show","app.titles.new.show"]}],function(e){e.routes.indexOf(s.name)!==-1&&(m.push({key:"content_types",value:e.contentType}),g=s.name)}),i.fetchFilters(["providers","genres"]).then(function(e){angular.forEach(a.getSingularExceptions(),function(e){e.single in l&&angular.forEach(i.getFilter(e.target),function(t){t.slug==l[e.single]&&m.push({key:e.target,value:t.short_name})})}),"content_type"in l&&l.content_type&&m.push({key:"content_types",value:l.content_type});var t=h.ratings.filter(function(e){return e.filterName in l&&l[e.filterName]}).reduce(function(e,t){var n=Number(l[t.filterName]);return e[t.provider]=h.createEntry(n,0),e},{});Object.keys(t).length>0&&m.push({key:h.filterName,value:t}),m.length>0&&i.resetAllFilterStates(),angular.forEach(m,function(e){"providers"===e.key&&!function(){var t=e.value.split(",");e.value=_.map(i.getFilters().providers_all).filter(function(e){return e}).filter(function(e){return t.indexOf(e.short_name)!==-1}).map(function(e){return e.short_name}).join(",")}(),i.setFilterState(e.key,e.value)}),x||(x=!0,s.data&&s.data.collectionType&&a.updateState(g,s.data.collectionType))})),o.setCurrentUrl(n.href(s.name,l));var v=!1;angular.forEach($,function(e){s.name.indexOf(e)!==-1&&(v=!0)}),v?o.resetActiveUrlData():o.fetchUrlData(),f.$$url===d.state.forwardingTarget&&(d.state.forwardingTarget="",u(function(){t.$broadcast("filter.update"),t.$broadcast("filter.forceFetch")},0))}});e.contentData=null,e.$watchCollection(o.getActiveUrlData,function(t,n){null!==t&&(s.setHeaders(t),e.contentData=t)}),e.$on("$destroy",function(){E()})}]),angular.module("jw-webapp").factory("bigBrotherManager",["$q","translationFinished",function(e,t){function n(){return i?r.promise:e.when(!1)}var r=e.defer(),i=void 0;return i=!1,{isBeingLookedAt:n}}]),angular.module("jw-webapp").factory("configRepository",function(){var e={};return e.webLocale=window.location.pathname.split("/")[1],{config:e}}),angular.module("jw-webapp").factory("dateHelper",function(){function e(e){var t=new Date(e.valueOf()),n=(e.getDay()+6)%7;t.setDate(t.getDate()-n+3);var r=t.valueOf();return t.setMonth(0,1),4!==t.getDay()&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((r-t)/6048e5)}return{getWeekNumber:e}}),angular.module("jw-webapp").directive("ddTextCollapse",["$compile",function(e){return{restrict:"A",scope:!0,link:function(t,n,r){t.collapsed=!1,t.toggle=function(){t.collapsed=!t.collapsed},r.$observe("ddTextCollapseText",function(i){var a=t.$eval(r.ddTextCollapseMaxLength);if(i.length>a){var o=String(i).substring(0,a),s=String(i).substring(a,i.length),l=e("<span>"+o+"</span>")(t),c=e('<span ng-if="collapsed">'+s+"</span>")(t),u=e('<span ng-if="!collapsed">... </span>')(t),p=e('<br ng-if="collapsed">')(t),d=e('<a class="collapse-text-toggle" ng-click="toggle()"><span ng-if="collapsed">{{\'WEBAPP_SHOW_LESS_TEXT\' | translate}}</span><span ng-if="!collapsed">{{\'WEBAPP_SHOW_MORE_TEXT\' | translate}}</span></a>')(t);n.empty(),n.append(l),n.append(c),n.append(u),n.append(p),n.append(d)}else n.empty(),n.append(i)})}}}]),angular.module("jw-webapp").factory("deviceInfo",["$window",function(e){function t(){var t=e.navigator.userAgent,n={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i};return r(t,n)}function n(t){var n=e.navigator.userAgent,i={iPhone:/iPhone/,iPad:/iPad/,android:/Android/};return r(n,i)}function r(e,t){for(var n in t)if(t[n].test(e))return n;return"unknown"}return{getDeviceType:n,getBrowser:t}}]),angular.module("jw-webapp").directive("faderOnLoad",["userAgentService",function(e){return{restrict:"A",scope:!0,link:function(t,n,r){function i(){angular.element(n).css("opacity","1")}e.isSeo4Ajax()&&i(),setTimeout(function(){n[0].complete&&angular.element(n).addClass("notransition")},0),n.on("load",function(){i()})}}}]),angular.module("jw-webapp").directive("horizontalInfiniteScroll",function(){return{restrict:"A",scope:{horizontalInfiniteScroll:"&",horizontalInfiniteScrollDisabled:"=",horizontalInfiniteScrollDistance:"="},link:function(e,t,n){var r=!1,i=angular.isNumber(e.horizontalInfiniteScrollDistance)?t[0].clientWidth*e.horizontalInfiniteScrollDistance:0;t[0].addEventListener("scroll",function(t){t.target.offsetWidth+t.target.scrollLeft>t.target.scrollWidth-i&&(r||e.horizontalInfiniteScrollDisabled||(r=!0,e.horizontalInfiniteScroll().then(function(){r=!1})))},{passive:!0})}}}),angular.module("jw-webapp").factory("idfaManager",["$q",function(e){function t(){var t=e.defer();return t.resolve(n),t.promise}var n={idfa:null,idfv:null,doNotTrack:null};return{getIdfaInfo:t}}]),angular.module("jw-webapp").directive("isolateClick",function(){return{link:function(e,t){t.on("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("jw-webapp").factory("jwUtilities",function(){function e(e){if(!_.isArray(e))return[];for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[n],e[n]=t;return e}return{shuffle:e}}),angular.module("jw-webapp").factory("languageUrlLoader",["$q","$http","CONFIG",function(e,t,n){return function(r){var i=e.defer();return t({url:n.API+"/translations/"+r.key,method:"GET",params:{prefix:"WEBAPP_",translatable_type:"ui_string"}}).success(function(e){var t={};angular.forEach(e.items,function(e){t[e.technical_name]=e.translation}),i.resolve(t)}).error(function(e){i.reject(r.key)}),i.promise}}]),angular.module("jw-webapp").factory("launchFinished",["$q","$log","$timeout",function(e,t,n){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8e3;s=e.defer(),l=n(o,t)}function i(){return s.promise}function a(){s.resolve(),n.cancel(l)}function o(){a(),t.error("[launchFinished] timeout reached")}var s=null,l=null;return{init:r,listen:i,finish:a}}]),angular.module("jw-webapp").factory("localeManager",["$q","$state","$translate","$rootScope","CONFIG","filterRepository","configRepository","pageRepository","translationFinished","storageMigrator","storagePreferences","$timeout","mobileBannerService",function(e,t,n,r,i,a,o,s,l,c,u,p,d){function f(f){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",v=f!==o.config.webLocale;if(f in i.WEBLOCALES)return v&&(o.config.webLocale=f,a.resetAllFilters(),s.reset(),l.init(),c.execute(),u.loadPreferences()),n.use(i.WEBLOCALES[f]).then(function(e){n(["WEBAPP_PROMOTIONBANNER"]).then(function(e){d.setActive(null!==e.WEBAPP_PROMOTIONBANNER&&""!==e.WEBAPP_PROMOTIONBANNER)})}),e.all([s.fetch(i.WEBLOCALES[o.config.webLocale]),a.fetchFilters(["providers","genres"],v)]).then(function(){a.initialize(),m(),(h||v)&&(h?p(function(){g.forwardingTarget=h,m(),window.location.hash="#"+h}):v&&(t.go("app.titles.popular.list",angular.extend({locale:f},a.getAllFilterStates("popular"))),r.$broadcast("filter.update"),r.$broadcast("filter.forceFetch")))})}function m(){}var g={forwardingTarget:""};return{setWebLocale:f,state:g}}]),angular.module("jw-webapp").service("paramSanitizer",["filterRepository",function(e){function t(t){var r=t.providers,i=[];"undefined"!=typeof r&&null!==r&&(i=r.split(","),t.providers=i);var a=t.genres,o=[];"undefined"!=typeof a&&null!==a&&(o=a.split(","),t.genres=o),t.monetization_types?t.monetization_types=t.monetization_types.split(","):(t.monetization_types=angular.copy(e.getAvailableMonetizationTypes()),t.monetization_types.indexOf("cinema")!==-1&&t.monetization_types.splice(t.monetization_types.indexOf("cinema"),1)),angular.forEach(["release_year_from","release_year_until"],function(e){n(t,e,"integer")}),angular.forEach(["min_price","max_price"],function(e){n(t,e,"float")}),"content_types"in t&&t.content_types&&(t.content_types=t.content_types.split(",")),"presentation_types"in t&&t.presentation_types&&(t.presentation_types=t.presentation_types.split(","))}function n(e,t,n){switch(n){case"integer":e[t]=parseInt(e[t],10);break;case"float":e[t]=parseFloat(e[t])}isNaN(e[t])&&(e[t]=null)}this.sanitizeParams=t}]),angular.module("jw-webapp").factory("platformTracker",["$window",function(e){function t(){i={},angular.forEach([{name:"iPhone",matcher:"iPhone|iPhone"},{name:"iPad",matcher:"iPad"},{name:"android",matcher:"android"},{name:"mobile",matcher:"mobile"}],function(t){var n=new RegExp(t.matcher,"i");i[t.name]=null!==e.navigator.userAgent.match(n)})}function n(){return i===!1&&t(),i}var r=this,i=!1;return r.getValues=n,r}]),angular.module("jw-webapp").directive("resizer",["$window",function(e){return{restrict:"A",link:function(t,n,r){var i=function(){t.isScreenXS=e.innerWidth<=480};i(),angular.element(e).on("resize",function(){t.$apply(function(){i()})})}}}]),angular.module("jw-webapp").factory("retinaDetector",["$window",function(e){function t(){return null===r&&n(),r}function n(){var t="only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)";r=e.matchMedia&&e.matchMedia(t).matches||e.devicePixelRatio&&e.devicePixelRatio>=2}var r=null;return{hasRetinaSupport:t}}]),angular.module("jw-webapp").factory("scoring",["CONFIG",function(e){function t(e){var t=0,r=0,i=0;return _.forEach(e,function(e){_.forEach(o,function(n){n.provider===e.provider_type&&(r+=n.weight,t+=e.value/n.max*n.weight)}),"tmdb:popularity"===e.provider_type&&(i=e.value)}),n(parseInt(t/r*100+(Math.log(250*i+1)-1),10),1,100)}function n(e,t,n){return isFinite(e)?Math.min(Math.max(e,t),n):null}function r(e){var n=[];if(_.forEach(e,function(e){_.forEach(a,function(t){if(e.provider_type===t.provider){var r=angular.copy(t);r.score=e.value.toFixed(t.decimals),n.push(r)}})}),e.length>1){var r=angular.copy(a[0]);r.score=t(e),n.unshift(r)}return n}var i="https://static."+e.DOMAIN+"/static/compile_jw/assets/",a=[{name:"JustWatch Rating",provider:"justwatch:rating",append:"%",image:i+"jw-icon.png",decimals:0},{name:"IMDB",provider:"imdb:score",append:"",decimals:1,image:i+"imdb-logo.png"},{name:"Rotten Tomatoes",provider:"tomato:meter",append:"%",decimals:0,image:i+"rotten-tomatoes-logo.png"}],o=[{provider:"imdb:score",max:10,weight:1},{provider:"tmdb:score",max:10,weight:1},{provider:"tomato:meter",max:100,weight:1},{provider:"tomato:score",max:10,weight:1},{provider:"tomato_userrating:score",max:5,weight:1},{provider:"tomato_userrating:meter",max:100,weight:1}];return{getScorings:r,calculateJustwatchRating:t}}]),angular.module("jw-webapp").filter("systemBrowser",["$sce","$sanitize",function(e,t){return function(n){var r=/href=/gi,i=t(n).replace(r,"onclick=\"window.open(this.href, '_system'); return false;\" href=");return e.trustAsHtml(i)}}]),angular.module("jw-webapp").filter("thumborProxy",["CONFIG","viewport","retinaDetector",function(e,t,n){var r={backdrop:{smartphone:"640x333",tablet:"1440x750",desktop:"1920x1000"},poster:{smartphone:"332x472",tablet:"332x472",desktop:"332x472"},poster_detail:{smartphone:"276x392",tablet:"592x841",desktop:"718x1078"},provider_icon:{smartphone:"100x100",tablet:"100x100",desktop:"100x100"},provider_icon_small:{smartphone:"50x50",tablet:"50x50",desktop:"50x50"},portrait:{smartphone:"300x300",tablet:"300x300",desktop:"300x300"}},i={backdrop:{smartphone_low:"s480",smartphone:"s640",tablet_low:"s640",tablet:"s1440",desktop_low:"s1440",desktop:"s1920"},poster:{smartphone_low:"s166",smartphone:"s332",tablet_low:"s166",tablet:"s332",desktop_low:"s166",desktop:"s332"},poster_detail:{smartphone_low:"s166",smartphone:"s276",tablet_low:"s276",tablet:"s592",desktop_low:"s592",desktop:"s718"},provider_icon:{smartphone_low:"s100",smartphone:"s100",tablet_low:"s100",tablet:"s100",desktop_low:"s100",desktop:"s100"},provider_icon_small:{smartphone_low:"s25",smartphone:"s50",tablet_low:"s25",tablet:"s50",desktop_low:"s25",desktop:"s50"},portrait:{smartphone_low:"s150",smartphone:"s300",tablet_low:"s150",tablet:"s300",desktop_low:"s150",desktop:"s300"}},a=t();return"phablet"===a&&(a="tablet"),function(t,o){if(t=t||"",t.indexOf("{profile}")!==-1){var s=a;return n.hasRetinaSupport()||(s=a+"_low"),["https://static.",e.DOMAIN,t.replace("{profile}",i[o][s])].join("")}return["https://static.",e.DOMAIN,"/unsafe/",r[o][a],"/smart/",t].join("");
}}]),angular.module("jw-webapp").factory("universalSpinner",function(){function e(){}function t(){}return{show:e,hide:t}}),angular.module("jw-webapp").directive("unsafeHtml",["$interval",function($interval){return{restrict:"A",scope:{html:"="},link:function link($scope,$elem,$attrs){$scope.$watch("html",function(newValue){newValue&&eval(newValue)})}}}]),angular.module("jw-webapp").factory("urlDataRepository",["$http","$q","CONFIG","snowplowContext",function(e,t,n,r){function i(e){return e in h&&h[e]}function a(e){f=e&&e.indexOf("?")!==-1?e.substring(0,e.indexOf("?")):e}function o(){return f}function s(e,t,n){h[e]={contentType:t,contentId:n}}function l(){return m}function c(){m=null}function u(){return o()in g?g[o()]:t.reject(o()+" is not available in the active urls.")}function p(i,a){if(i=i?i:o(),null===i)return t.when("");if(i=i&&i.indexOf("?")!==-1?i.substring(0,i.indexOf("?")):i,d&&i in g)return g[i].then(function(e){a||(m=e),r.setContext("page",e)}),g[i];var s=t.defer();return e({url:n.API+"/urls",method:"GET",params:{path:i}}).then(function(e){a||(m=e.data),s.resolve(e.data),r.setContext("page",e.data)}),d&&(g[i]=s.promise),s.promise}var d=!0,f=null,m=null,g={},h={};return{getTitleData:i,setCurrentUrl:a,getCurrentUrl:o,setTitleData:s,fetchUrlData:p,getActiveUrlData:l,getActiveUrlPromise:u,resetActiveUrlData:c}}]),angular.module("jw-webapp").factory("userAgentService",["$window",function(e){function t(){return e.navigator.userAgent.indexOf(n)!==-1}var n="seo4ajax";return{isSeo4Ajax:t}}]),angular.module("jw-webapp").service("loginProviders",function(){function e(){return t}var t=[{name:"Facebook",type:"facebook"},{name:"Google",type:"google"}];this.getProviders=e}),angular.module("jw-webapp").service("mobileAuth",["$q","$http","CONFIG","uuidService",function(e,t,n,r){function i(t){var n={},r=null;switch(t){case"facebook":r=e(function(e,t){return window.facebookConnectPlugin.login(["public_profile"],e,t)}).then(function(e){return n.access_token=e.authResponse.accessToken,n.external_user_id=e.authResponse.userID,a(t,n)});break;case"twitter":r=e(function(e,t){return window.TwitterConnect.login(e,t)}).then(function(e){return n.access_token=e.token,n.external_user_id=e.userId+"",a(t,n)});break;case"google":r=e(function(e,t){window.plugins.googleplus.login({webClientId:"532718895899-fhbuhnd9nsrae0ivadejq35vsr2sgr0l.apps.googleusercontent.com",offline:!0},e,t)}).then(function(e){return n.access_token=e.idToken,n.external_user_id=e.email,n.code=e.serverAuthCode,a(t,n)});break;default:r=e.reject("no valid provider selected")}return r}function a(e,i){return i.login_provider=e,i.justwatch_id=r.getUuidFromCache(),t({method:"POST",url:n.USER_API+"/login",data:i}).then(function(e){return e.data})}this.authenticate=i}]),angular.module("jw-webapp").service("userLoginManager",["$q","$auth","mobileAuth","userRepository","watchListRepository","jwTrackingManager","uuidService","universalSpinner",function(e,t,n,r,i,a,o,s){function l(e){return t.authenticate(e,{justwatch_id:o.getUuidFromCache()}).then(function(e){return e.data})["finally"](function(){return s.hide()})}function c(e,t,n){return r.login(e,t,n).then(function(){return u(r.userData.store[r.STORE_WATCHLIST_KEY],JSON.parse(localStorage.jw_watchlist))})}function u(e,t){function n(e){return _(e).values().flatten().value().map(function(e){return e.type+"-"+e.id})}var r={local:n(JSON.parse(localStorage.jw_watchlist)),cloud:n(e)},i=m.SYNC_RESPONSES.NONE;if(0===r.cloud.length&&r.local.length>0)i=m.SYNC_RESPONSES.LOCAL;else if(r.cloud.length>0&&0===r.local.length)i=m.SYNC_RESPONSES.CLOUD;else if(r.cloud.length>0&&r.local.length>0){var a=r.local.filter(function(e){return r.cloud.indexOf(e)===-1});i=a.length>0?m.SYNC_RESPONSES.MERGE:m.SYNC_RESPONSES.CLOUD}return i}function p(t){var n=e.defer(),i=[{usedIn:[m.SYNC_RESPONSES.MERGE,m.SYNC_RESPONSES.LOCAL],store:JSON.parse(localStorage.jw_watchlist)},{usedIn:[m.SYNC_RESPONSES.MERGE,m.SYNC_RESPONSES.CLOUD],store:r.userData.store[r.STORE_WATCHLIST_KEY]}].map(function(e){return e.usedIn.indexOf(t)!==-1?e.store:null}).filter(function(e){return e});return d(i).then(n.resolve),a.eventTrack(t,{category:"login_sync"}),n.promise.then(f)}function d(){for(var t=e.defer(),n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];if(0===i.length)return t.resolve();var o={};return _(i).forEach(function(e,t){_(e).forEach(function(e,t){_(e).forEach(function(e,t){_(e).forEach(function(e){t in o||(o[t]=[]);var n=o[t].filter(function(t){return t.type===e.type&&t.id===e.id}).length>0;n||o[t].push(e)})})})}),r.setStore(r.STORE_WATCHLIST_KEY,o).then(function(){return t.resolve(o)}),t.promise}function f(e){Object.keys(e).length>0&&i.initialize(e)}var m=this;m.SYNC_RESPONSES={CLOUD:"CLOUD",LOCAL:"LOCAL",MERGE:"MERGE",NONE:"NONE"},m.authenticate=l,m.loginWithSync=c,m.syncWatchlist=p}]),angular.module("jw-webapp").service("userRepository",["$http","$q","CONFIG","storageManager",function(e,t,n,r){function i(e,n,i){if(!n||"undefined"===n)return console.log("SHITTY  TOKEN"),t.reject("[ERROR]  token");var a={added:Date.now()};return"providers"in h&&null!==_.first(h.providers)||(h.providers={}),h.providers[e]=a,h[m]=e,h.token=n,h.jwLoginId=i,v.loggedIn=!0,v.providers=angular.copy(h.providers),v.jwLoginId=i,r.hasLocalStorage()&&(r.setItem(p,n),r.setItem(d,angular.toJson(h))),s()}function a(e){delete h.providers[e],delete v.providers[e],0===Object.keys(h.providers).length&&(v.loggedIn=!1,r.hasLocalStorage()&&(r.removeItem(p),r.setItem(d,angular.toJson(h))))}function o(){Object.keys(h.providers).forEach(a)}function s(){return c()?e({url:n.USER_API+"/store",method:"GET",cache:!1}).then(function(e){return v.store=e.data}):t.reject()}function l(t,r){return c()?(v.store[t]=r,e({url:n.USER_API+"/store",method:"POST",data:v.store,headers:{Authorization:h.token}})):(console.error("[SET] User not logged in."),null)}function c(){return Object.keys(h.providers).length>0&&v.loggedIn}function u(){var e=null;if(r.hasLocalStorage()){var t=r.getItem(d);e=m in t?t[m]:null}return e}var p="satellizer_token",d="jw_auth",f="watchlist",m="lastLoggedInProvider",g={providers:{},lastLoggedInProvider:null,token:"",jwLoginId:null},h=r.hasLocalStorage()?angular.fromJson(r.getItem(d)||angular.toJson(g)):g,v={loggedIn:!!r.hasLocalStorage()&&!!r.getItem(p),store:{},providers:angular.copy(h.providers),jwLoginId:angular.copy(h.jwLoginId)};this.userData=v,this.STORE_WATCHLIST_KEY=f,this.login=i,this.logout=a,this.logoutAll=o,this.getStore=s,this.setStore=l,this.getLastLoggedInProvider=u}]),angular.module("jw-webapp").service("userTokenInterceptor",["$q","CONFIG","$rootScope",function(e,t,n){function r(r){return 403===r.status&&r.config.url.indexOf(t.USER_API)!==-1&&n.$broadcast("login.error",{status:r.status}),409==r.status&&n.$broadcast("login.error",{status:r.status}),e.reject(r)}this.responseError=r}]),angular.module("jw-webapp").controller("headCtrl",["$http","$scope","$rootScope","$state","$location","$timeout","$analytics","CONFIG","configRepository","titleRepository","filterStateService","filterRepository","pageRepository","$sanitize","snowplowContext","localeManager","jwTrackingManager","translationFinished","availableMonetizationTypes",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m,g,h,v,y){function b(){e({url:s.API+"/locales/state",method:"GET"}).then(function(e){t.countries=e.data}),v.whenAvailable().then(function(){t.finishTranslated=!0});var i=n.$on("$stateChangeStart",function(e,t,n,r,i){T["new"]=null,T.popular=null});t.$watch(c.getSearchTerm,function(e,n){e!=n&&(t.headsearch=e)}),t.$on("$stateChangeSuccess",function(e,n,i){t.headsearch=r.params.q?r.params.q:""}),t.$on("$destroy",function(){i()})}function w(e){g.setWebLocale(e)}function $(e,t,n){if(m.setContext("title",t),e.full_path)i.url(e.full_path),h.eventTrack(e.object_type,{category:"search_suggest_click",label:e.title});else if("person"==e.object_type){m.setContext("person",{personId:e.id,fullName:e.full_name}),h.eventTrack(e.full_name,{category:"persons_suggest_click",label:e.id});var a=p.getAllFilterStates("search"),o=_.assignIn({},a,{locale:r.params.locale,q:e.full_name,person_id:e.id});r.go("app.search.list",o,{inherit:!1})}}function x(){a(function(){t.searchMenu.expanded=!1},100)}function S(e){if(e===!1||13===e.which){if(t.headsearch&&t.headsearch.length>0){h.eventTrack("search_on_enter",{category:"userinteraction"});var n=angular.copy(p.getAllFilterStates("search"),{});n.locale=l.config.webLocale,n.q=t.headsearch,r.go("app.search.list",n,{inherit:!1})}e&&e.target.blur()}}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&e in T&&T[e])return T[e];var n=p.getAllFilterStates(e);return T[e]=u.getStateUrl(e,n),T[e]}t.headsearch="",t.intercepts=[],t.pageStore=d,t.$state=r,t.config=l.config,t.domain=s.DOMAIN,t.countries=void 0,t.changeLocale=w,t.typeaheadSearch=$,t.typeaheadBlur=x,t.search=S,t.getSuggestions=c.searchSuggestion,t.getStateUrl=E,t.searchMenu={expanded:!1};var T={"new":null,popular:null};b()}]),angular.module("jw-webapp").service("pageRepository",["$http","$q","$rootScope","CONFIG",function(e,t,n,r){function i(i){return null===l&&(l=t.defer(),e.get(r.API+"/pages/locale/"+i).then(function(e){c.pages=[],c.views=[],angular.forEach(e.data.items,function(e){"menu"in e.attributes&&1==parseInt(e.attributes.menu,10)&&s(e.attributes,"platform",r.ENV)&&c.pages.push(e),c.views.push(e)}),l.resolve(),n.readyInit.push("page")})),l.promise}function a(e){return _(c.views).filter(function(t){return t.id==e}).first()}function o(){l=null}function s(e,t,n){return!(t in e)||t in e&&e.platform.split(",").indexOf(n)!==-1}var l=null,c={pages:[],views:[],fetch:i,getPage:a,reset:o};return c}]),angular.module("jw-webapp").directive("searchResultEntry",["$filter","$stateParams",function(e,t){return{restrict:"E",scope:{title:"=targetTitle",filters:"=",viewport:"=",currentIndex:"=",person:"=",isGridView:"=",completeListOnMobile:"="},templateUrl:"search/searchResultEntry.tpl.html",link:function(e){function n(){var t=0;e.title.offers=e.title.offers?e.title.offers:[];var n=e.title.offers.filter(function(e){return["sd"].indexOf(e.presentation_type)!==-1}).length,r=e.title.offers.filter(function(e){return["hd"].indexOf(e.presentation_type)!==-1}).length,i=e.title.offers.filter(function(e){return["cinema"].indexOf(e.monetization_type)!==-1}).length;return t=n+i,r>n&&(t+=r-n),t}e.offerCount=0,e.stateParams=t,"smartphone"===e.viewport&&(e.offerCount=n()),e.desktopView=["desktop","phablet"].indexOf(e.viewport)!==-1||e.currentIndex<10||e.completeListOnMobile}}}]),angular.module("jw-webapp").controller("footerCtrl",["$scope","$q","CONFIG","configRepository","titleRepository","metaService","filters",function(e,t,n,r,i,a,o){e.topTitles={movies:void 0,shows:void 0,cinema:void 0},e.topAmount=5,e.config=r.config,e.filters=o,e.currentYear=(new Date).getFullYear();var s=[];s.push(i.getTopTitles("movie",e.topAmount)),s.push(i.getTopTitles("show",e.topAmount)),s.push(i.getTopTitles("cinema",e.topAmount,{content_types:"movie",monetization_types:"cinema"})),t.all(s).then(function(t){e.topTitles.movies=t[0],e.topTitles.shows=t[1],e.topTitles.cinema=t[2],a.getExternalPromiseByName("footer").resolve()})}]),angular.module("jw-webapp").controller("staticCtrl",["$scope","$rootScope","$timeout","$log","pageRepository","urlDataRepository","metaService","jwTrackingManager",function(e,t,n,r,i,a,o,s){var l;e.html={},s.trackPageView(e),e.$watchCollection(a.getActiveUrlData,function(e,t){e!=t&&(l=i.getPage(e.object_id),l&&"attributes"in l&&"no_footer"in l.attributes&&1==parseInt(l.attributes.no_footer,10)&&angular.element(document.body).addClass("no-footer"),l&&"attributes"in l&&"no_header"in l.attributes&&1==parseInt(l.attributes.no_header,10)&&angular.element(document.body).addClass("no-header"),o.setPrerenderReady())}),e.$on("$stateChangeSuccess",function(e,t,r,i,a){n(function(){angular.element(document).scrollTop(0)},0)})}]),angular.module("jw-webapp").controller("titleCtrl",["filterManager","$scope","$rootScope","CONFIG","configRepository","$state","$log","$filter","$window","$q","$location","$sanitize","$document","$timeout","titleRepository","searchRepository","filterRepository","filters","viewport","scrollPositionRepository","watchbarFixedTracker","metaService","pageViewTracker","userAgentService","collectionSpecialRepository","infiniteScrollTracker","jwTrackingManager","urlDataRepository","bigBrotherManager","personFilterRepository","featureFlagProvider","snowplowContext","upScroller","watchListRepository","filterStateService",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m,g,h,v,y,b,w,$,x,S,E,T,k,C,A,P,O,j,I,N,D){function R(e){return e.replace(/[<>"']/g,function(e){return ue[e]})}function L(e,n,r,i){t.state.activeCollectionType=e,t.scrollingState.page=t.titles[e]&&Object.keys(t.titles[e]).length>0?t.titles[e].page+t.titles[e].skip_count:1,t.scrollingState.canLoadMore=!0,t.searchterm=R(p(n.q||t.searchQuery)),["new","pricedrops","offers"].indexOf(e)!==-1?t.scrollingState.pageSize=S.isSeo4Ajax()?10:1:t.scrollingState.pageSize=t.displayHeight>600||S.isSeo4Ajax()?30:10,t.isNewEndReached=!1,t.isDisabledOnMobile=!1,t.rendered.done=!1,ae=0;var a=h.getAllFilterStates();t.isFiltered=_.values(a).filter(function(e){return e}).length>0,V(n),["offers"].indexOf(e)!==-1?(t.$watchCollection(function(){return h.getAllFilterStates()},function(t,n){ce.filters=angular.extend({},t,ce.init),U(e)}),C.fetchUrlData().then(function(n){ce.init=angular.fromJson(n.html_content.offers_filters),ce.filters=angular.copy(ce.init),t.hasHeroImage=!!n.html_content.hero_image,U(e)})):U(e)}function M(e){return e&&"data"in e&&"collectionType"in e.data}function F(e,n,r,i,o){M(n)&&(!M(i)||M(i)&&i.data.collectionType!==n.data.collectionType?te(t.state.activeCollectionType):"search"==t.state.activeCollectionType&&t.person&&t.person.id!=a.params.person_id&&I.scrollUp(0),t.isGridView=!(["new"].indexOf(n.data.collectionType)!==-1||["cinema"].indexOf(n.data.collectionType)!==-1&&re().cinema_release))}function z(e,n,r,i,a){M(i)&&b.setScrollPosition(i.data.collectionType,angular.element(document).scrollTop()),M(n)&&M(i)&&n.data.collectionType===i.data.collectionType&&n.data.collectionType===t.state.activeCollectionType&&B(n.data.collectionType)&&(["smartphone","phablet"].indexOf(t.viewport)!==-1||le.opened||I.scrollUp(!1),"cinema"===n.data.collectionType&&m.resetTitles(n.data.collectionType),L("data"in n&&"collectionType"in n.data?n.data.collectionType:null,r,i,a))}function U(e,n){"search"!=e&&(!t.titles[e]||B(t.state.activeCollectionType)||n)&&(t.scrollingState.page=0,T.reset(e),W())}function B(e){return null!==h.getLastParams(e)&&!angular.equals(h.getLastParams(e),re())}function W(e){if(e!==!1&&t.state&&"activeCollectionType"in t.state&&t.state.activeCollectionType)return se=c.defer(),t.scrollingState.page++,t.rendered.done=!1,t.rendered.lastAmount=t.titles[t.state.activeCollectionType]?t.titles[t.state.activeCollectionType].length:0,m.fetch(t.state.activeCollectionType,re(),{page:t.scrollingState.page,page_size:t.scrollingState.pageSize},t.scrollingState.page>1,{useSharedFilters:h.useSharedFilters(),collectionType:t.state.activeCollectionType}).then(function(e){return null===e?(t.isNewEndReached=!0,c.reject("no titles have been found.")):e}).then(J).then(function(e){return f(function(){n.$broadcast("infinite-scroll.manual")},30),e}).then(function(e){return"days"in e.data&&e.data.days.length>0&&(t.currentDay=new Date(e.data.days[0].date).getTime()),e}).then(X).then(function(e){return h.saveLastParams(t.state.activeCollectionType),e}).then(Q).then(ne),o.debug("fetching","page:",t.scrollingState.page),se.promise}function V(e){var n=[],r=e.q||t.searchQuery;return e.person_id?(t.person=void 0,g.searchPerson(e.person_id,!1,h.filterActiveState.active).then(function(e){var n=e.backdrop&&e.backdrop.backdrop_url?{backdropStyle:{"background-image":"url("+s("thumborProxy")(e.backdrop.backdrop_url,"backdrop")+")"}}:{};t.person=angular.extend({},e.person,n)}),g.searchTitleByPerson(e.person_id,!1,h.filterActiveState.active),g.searchPersonGroups(e.person_id).then(function(e){return t.credits=e}),j.setContext("person",{personId:e.person_id,fullName:e.q})):r&&(t.person=void 0,t.credits=void 0,g.searchTitle(r,!1,h.filterActiveState.active),angular.element(document).scrollTop()),c.all(n)}function q(){t.rendered.done=!0,se&&(se.resolve(),t.$broadcast("scroll.infiniteScrollComplete"))}function G(e){var n=[];return null===h.getFilterState("providers")?n:(angular.forEach(t.filters.providers,function(t){angular.forEach(h.getFilterState("providers").split(","),function(r){t.short_name==r&&angular.forEach(e,function(e){t.monetization_types.indexOf(e)!==-1&&n.push(t)})})}),n)}function H(e,n){var r=c.defer(),i=ee(n);return e in oe||(oe[e]={}),i.short_name in oe[e]||(oe[e][i.short_name]=1),oe[e][i.short_name]++,m.fetchNewProvider(t.state.activeCollectionType,re(),e,i,oe[e][i.short_name]).then(function(e){r.resolve(e)}),r.promise}function Y(){g.searchMore(),o.debug("searching","page:",t.scrollingState.page)}function K(){return window.location.search&&!u.search().content_type}function J(e){return"skip_count"in e.data&&e.data.skip_count>0&&(t.scrollingState.page+=e.data.skip_count),"days"in e.data&&0===e.data.days.length&&(t.isNewEndReached=!0),e}function X(e){var t=null;return e.data.days&&e.data.days.length>0&&angular.forEach(e.data.days,function(e){angular.forEach(e.providers,function(n){t=ee(n.provider_id),t&&(Z(e.date,t.short_name),oe[e.date][t.short_name]=1)})}),e}function Z(e,t){e in oe||(oe[e]={}),t in oe[e]||(oe[e][t]=1)}function Q(e){var n=re()||{};return t.isPriceFilterActive=n.min_price||n.max_price,t.amountSelectedProviders=n.providers?n.providers.split(",").length:v.providers_all.length,e}function ee(e){var n=null;return angular.forEach(t.filters.providers_all,function(t){t.id===e&&(n=t)}),n}function te(e){var n=b.getScrollPosition(e);f(function(){angular.element(document).scrollTop(n),t.isVisible=!0},0)}function ne(){(t.rendered.done&&!t.fetchingState.isFetching||"items"in t.titles[t.state.activeCollectionType]&&0===t.titles[t.state.activeCollectionType].items.length)&&$.setPrerenderReady()}function re(){return"offers"===t.state.activeCollectionType?ce.filters:h.getAllFilterStates()}function ie(){h.resetAllFilterStates(),n.$broadcast("filter.reset")}t.numberLocale=r.WEBLOCALES[i.config.webLocale].replace("_","-"),t.state={},t.displayHeight=l.innerHeight,t.today=s("date")(new Date,"yyyy-MM-dd"),t.yesterday=s("date")((new Date).setDate((new Date).getDate()-1),"yyyy-MM-dd"),t.currentDay=(new Date).getTime(),t.limitNewByDate=new Date("2015-03-31").getTime(),t.filters=h.getFilters(),t.titles=m.getTitles(),t.totalResults=m.getTotalResults(),t.filterActiveState=h.filterActiveState,t.fetchingState=m.getState(),t.watchbarFixed=w,t.scrollingState={},t.rendered={done:!1,lastAmount:0},t.isVisible=!0,t.hasHeroImage=!1,t.viewport=y(),t.isPriceFilterActive=!1,t.amountSelectedProviders=0;var ae=0,oe={},se=null,le={opened:!1},ce={init:{},filters:{}};t.isGridView=void 0,t.localPerson=P.data,t.hasRendered=q,t.getSelectedProviders=G,t.addMoreItems=W,t.addMoreItemsHorizontal=H,t.addMoreSearchItems=Y,t.isFilterContent=K,t.filterPersonRole=P.filterRole,t.resetFilters=ie,A.isBeingLookedAt().then(function(e){return t.inReview=e}),["new"].indexOf(a.current.data.collectionType)!==-1&&E.getSpecials(r.ENV).then(function(e){t.specials=e});var ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};t.$watch("rendered.done",function(e,t){e===!0&&ne()}),t.$on("filter.mobileDialog",function(e,t){le.opened=t.open});var pe=a.current.data.collectionType;t.$on("$stateChangeSuccess",function(e,t,n,r,i){"data"in t&&"collectionType"in t.data&&t.data.collectionType===pe&&k.trackPageView()}),L(a.current.data.collectionType,a.params),t.$on("$stateChangeSuccess",F),t.$on("$stateChangeStart",z),t.$watch("filterActiveState.active",function(e,t){e!==t&&V(a.params)}),t.$on("filter.forceFetch",function(){return U(t.state.activeCollectionType,!0)})}]),angular.module("jw-webapp").factory("titleRepository",["$http","$q","$filter","CONFIG","configRepository","filterRepository","snowplowContext","viewport","$translate","dateHelper","paramSanitizer","featureFlagProvider",function(e,t,n,r,i,a,o,s,l,c,u,p){function d(e,t){if(t&&t.useSharedFilters)switch(t.collectionType){case"pricedrops":case"new":case"cinema":angular.forEach(e.content_types,function(t,n){"show"===t&&(e.content_types[n]="show_season")});break;case"popular":case"watchlist":case"search":angular.forEach(e.content_types,function(t,n){"show_season"===t&&(e.content_types[n]="show")})}return e}function f(e,t){if(t&&e&&!("error"in e))switch(t.collectionType){case"pricedrops":case"offers":angular.forEach(e.days,function(e){angular.forEach(e.providers,function(e){m(e.items)})});break;case"cinema":if(["cinema"].indexOf(t.collectionType)!==-1&&t.datas.cinema_release){var n=new Date(t.cinema.year,0,1);n.setDate(7*t.cinema.week);var r=c.getWeekNumber(new Date),i="",a=null;if(r===t.cinema.week)i="WEBAPP_CINEMA_WEEK_CURRENT";else if(r-1===t.cinema.week)i="WEBAPP_CINEMA_WEEK_LAST";else if(r+1===t.cinema.week)i="WEBAPP_CINEMA_WEEK_NEXT";else{i="WEBAPP_CINEMA_WEEK_DATE",a={};var o=new Date(t.cinema.year,0,1);o.setDate(7*t.cinema.week),o.setDate(7*t.cinema.week-o.getDay()+1);var s={year:o.getFullYear(),month:("00"+o.getMonth()).slice(-2),day:("00"+o.getDate()).slice(-2)};o.setDate(o.getDate()+6);var l={year:o.getFullYear(),month:("00"+o.getMonth()).slice(-2),day:("00"+o.getDate()).slice(-2)},u=s.year+"-"+s.month+"-"+s.day,p=l.year+"-"+l.month+"-"+l.day;a.week=t.cinema.week>r?t.cinema.week-r:52-r+t.cinema.year,a.date=u+"  "+p}e={days:[{date:n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),titlelist_name:i,titlelist_values:a,providers:[{provider_id:!1,provider_icon:"https://static.justwatch.com/static/compile_jw/assets/jw-icon-badge.png",items:e.items,total:e.items.length}]}]}}}return e}function m(e){var t={difference:null,percentage:null},n={difference:0,percentage:0};angular.forEach(e,function(e){t.difference=null,t.percentage=null,n.difference=0,n.percentage=0,angular.forEach(e.offers,function(r){angular.forEach([{type:"percentage",key:"last_change_percent"},{type:"difference",key:"last_change_difference"}],function(e){r[e.key]<n[e.type]&&(t[e.type]=r)}),e.offers_prominent=angular.copy(t)})})}function g(e){angular.forEach(e,function(e){e.__id=e.object_type+e.id})}var h={"new":{},pricedrops:{},popular:{},search:{},offers:{},cinema:{},watchlist:{}},v={movie:"",show:""},y={"new":0,pricedrops:0,popular:0,search:0,offers:0,cinema:0,watchlist:0},b={topTitles:{}},w={isFetching:!1},$=["movie","show","show_season"],x=["smarthphone","phablet"].indexOf(s)!==-1?3:6;return{fetch:function(n,a,o,s,l){if(n in h){w.isFetching=!0;var p=angular.extend({},a,o);u.sanitizeParams(p);var m=n,v={},_={};if(["pricedrops","offers"].indexOf(n)!==-1&&(v.filter_price_changes=!0,m="new",p.min_last_change_percent=-100,p.max_last_change_percent=-1),["pricedrops","new","offers"].indexOf(n)!==-1&&(p.titles_per_provider=x),["cinema"].indexOf(n)!==-1)if(a.cinema_release){var b=new Date,$=c.getWeekNumber(b)+o.page-1,S={step:"CW",year:1===$?b.getFullYear()-1:b.getFullYear(),week:1===$?52:$-1};l=angular.extend(l,{cinema:S}),_.url=r.API+"/title_list/"+S.year+"-"+S.step+"-"+S.week+"-"+i.config.webLocale.toUpperCase()+"-CINEMA/locale/"+r.WEBLOCALES[i.config.webLocale],v.page=1,v.page_size=50,angular.forEach(p,function(e,t){return p[t]=null}),p.page=o.page,p.page_size=o.page_size,p.cinema_release=!0,_.method="GET"}else m="popular",angular.forEach(p,function(e,t){return p[t]=null}),p.page=o.page,p.page_size=o.page_size,p.monetization_types=["cinema"];return _.url||_.method||(_.url=r.API+"/titles/"+r.WEBLOCALES[i.config.webLocale]+"/"+m,_.method="POST"),l=angular.extend(l,{datas:p}),e({url:_.url,method:_.method,data:p,params:v,transformRequest:function(e){return e=d(e,l),JSON.stringify(e)},transformResponse:function(e){return e?f(angular.fromJson(e),l):e}}).then(function(e){return 204===e.status?t.reject("nothing to see here."):(["pricedrops","new","offers"].indexOf(n)!==-1&&angular.forEach(e.data.days,function(t,n){e.data.days[n].__provider_ids=t.date+t.providers.map(function(e){return e.provider_id+"-"+e.total}).join(""),angular.forEach(t.providers,function(e){g(e.items)})}),e)}).then(function(e){var t=!0,r=["popular"].indexOf(n)===-1&&(["cinema"].indexOf(n)===-1||a.cinema_release)||["new"].indexOf(n)!==-1?e.data.days:e.data.items;if(s){if(["new","pricedrops","offers"].indexOf(n)!==-1&&angular.forEach(r,function(e){angular.forEach(h[n].items,function(n){n.__provider_ids==e.__provider_ids&&(t=!1)})}),!t)throw"[skip request] race condition detected. don't worry, all is fine.";h[n].items=h[n].items?h[n].items.concat(r):r}else h[n].items=r;return h[n].page=o.page?o.page:1,h[n].skip_count="skip_count"in e.data?e.data.skip_count:0,w.isFetching=!1,y[n]=e.data.total_results,e})["catch"](function(e){return null})}},fetchNewProvider:function(t,n,a,o,s){var l={},c=angular.extend({},n,{provider:o.short_name,date:a,page:s,page_size:x});return u.sanitizeParams(c),["pricedrops","offers"].indexOf(t)!==-1&&(l.filter_price_changes=!0,c.min_last_change_percent=-100,c.max_last_change_percent=-1),e({url:r.API+"/titles/"+r.WEBLOCALES[i.config.webLocale]+"/new/single_provider",method:"POST",data:c,params:l,transformRequest:function(e){return e=d(e,{useSharedFilters:!0,collectionType:t}),JSON.stringify(e)}}).then(function(e){return g(e.data.items),["pricedrops","offers"].indexOf(t)!==-1&&m(e.data.items),angular.forEach(h[t].items,function(t,n){t.date===a&&angular.forEach(t.providers,function(t){t.provider_id===o.id&&(t.items=t.items.concat(e.data.items))})}),h[t].items})},fetchByIds:function(t){return e({url:r.API+"/titles/"+r.WEBLOCALES[i.config.webLocale]+"/list",method:"POST",data:t})},getTitles:function(){return h},search:function(t,n,s,l,c){h.search.items=l?h.search.items:null,w.isFetching=!0;var p={};angular.extend(p,s),p.monetization_types||(p.monetization_types=a.getAvailableMonetizationTypes().join(",")),u.sanitizeParams(p),null!==t?p.query=t.toLowerCase():null!==n&&(p.person_id=parseInt(n)),o.setContext("search",t),e({url:r.API+"/titles/"+r.WEBLOCALES[i.config.webLocale]+"/popular",method:"POST",data:p,transformRequest:function(e){return e=d(e,c),JSON.stringify(e)}}).then(function(e){l?(h.search.items=null===h.search.items?[]:h.search.items,h.search.items=h.search.items.concat(e.data.items)):h.search.items=e.data.items,y.search=e.data.total_results,h.search.term=t,h.search.personId=n,w.isFetching=!1})},searchSuggestion:function(n){var a=p.enabledFeatures.PERSONS?5:7,o=p.enabledFeatures.PERSONS?2:0,s=_.map([{name:"titles",contentTypes:["show","movie"]},{name:"person",contentTypes:["person"]}],function(t){return e({url:r.API+"/titles/"+r.WEBLOCALES[i.config.webLocale]+"/popular",method:"POST",data:{query:n,content_types:t.contentTypes,page:1,page_size:7}})});return t.all(s).then(function(e){var t=e[0].data.items,n=e[1].data.items.map(function(e){var t=new Date(e.date_of_birth);return e.birthYear=e.date_of_birth?t.getFullYear():null,e});return t.slice(0,a).concat(n.slice(0,o)).slice(0,a+o)})},getTotalResults:function(){return y},getState:function(){return w},getTitle:function(n,a){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($.indexOf(n)===-1)return null;var l=t.defer();return e.get(r.API+"/titles/"+n+"/"+a+"/locale/"+r.WEBLOCALES[i.config.webLocale]).then(function(e){l.resolve(e.data),s||(["movie","show"].indexOf(e.data.object_type)!==-1?o.setContext("title",e.data):["show_season"].indexOf(e.data.object_type)!==-1&&o.setContext("season",e.data))}),l.promise},getNewestEpisodes:function(n,a){var o=t.defer(),s={method:"GET",url:r.API+"/titles/show/"+n+"/locale/"+r.WEBLOCALES[i.config.webLocale]+"/newest_episodes",params:{page_size:a}};return e(s).then(function(e){o.resolve(e.data)}),o.promise},getTopTitles:function(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(b.topTitles[n])return b.topTitles[n].promise;b.topTitles[n]=t.defer();var s=_.extend({content_types:n,page_size:a,page:1},o);return u.sanitizeParams(s),e({url:r.API+"/titles/"+r.WEBLOCALES[i.config.webLocale]+"/popular",method:"POST",data:s}).then(function(e){v[n]=e.data.items.slice(0,a),b.topTitles[n].resolve(v[n])}),b.topTitles[n].promise},mapContentType:function(e){var t={movies:"movie",movie:"movie",shows:"show",show:"show",show_season:"show_season"};return t[e]},findCachedTitleByFullPath:function(e){var t=null,r=null;return"popular"in h&&h.popular&&h.popular.items&&(r=n("filter")(h.popular.items,{full_path:e},!0)),!t&&"new"in h&&h["new"]&&h["new"].items&&angular.forEach(h["new"].items,function(t){angular.forEach(t.providers,function(t){r=n("filter")(t.items,{full_path:e},!0)})}),!t&&"pricedrops"in h&&h.pricedrops&&h.pricedrops.items&&angular.forEach(h.pricedrops.items,function(t){angular.forEach(t.providers,function(t){r=n("filter")(t.items,{full_path:e},!0)})}),t},resetTitles:function(e){h[e]={},y[e]=0}}}]),angular.module("jw-webapp").factory("titleListResetter",function(){var e=!1;return{reset:e}}),angular.module("jw-webapp").controller("TitleListCtrl",["$scope","$timeout","$http","$filter","CONFIG","filters","configRepository","filterRepository","urlDataRepository","watchbarFixedTracker","metaService","jwTrackingManager","viewport","titleListResetter",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f){function m(){t(function(){u.setPrerenderReady()},0)}function g(t){n.get(i.API+"/title_list/"+t+"/full/locale/"+i.WEBLOCALES[o.config.webLocale]).then(function(e){return e.data.titles_full.items.map(function(e){e.watchlistProviders=[],angular.forEach(e.offers,function(t){var n=r("filter")(a.providers,{id:t.provider_id},!0);1==n.length&&e.watchlistProviders.indexOf(n[0].short_name)===-1&&e.watchlistProviders.push(n[0].short_name)})}),e}).then(function(t){e.titlelist.titles=t.data.titles_full.items})}function h(t){return function(n){var r=null===e.titlelist.watchlistFilters.providers;if(e.filterActiveState.active)return!0;switch(t){case"providers":angular.forEach(n.watchlistProviders,function(t){angular.forEach(e.titlelist.watchlistFilters.providers,function(e){t.indexOf(e)!==-1&&(r=!0)})})}return r}}e.titlelist={},e.titlelist.filters=a,e.titlelist.titles=void 0,e.titlelist.state={activeCollectionType:"titlelist"},e.titlelist.watchlistFilters={},e.titlelist.numberLocale=i.WEBLOCALES[o.config.webLocale].replace("_","-"),e.titlelist.watchbarFixed=c,e.viewport=d(),e.atLeastOne=h,e.rendered=m,e.hasHeroImage=!1,l.getActiveUrlPromise().then(function(t){t&&(g(t.html_content.title_list_id),t.html_content.hero_image&&(e.hasHeroImage=!0))}),p.trackPageView(),f.reset||(s.resetAllFilterStates(),f.reset=!0),angular.forEach(s.getFilterStateNames(),function(t){e.titlelist.watchlistFilters[t]=null}),e.$watchCollection(function(){return s.getAllFilterStates()},function(n,r){n&&t(function(){angular.copy(n,e.titlelist.watchlistFilters),e.titlelist.watchlistFilters.providers&&(e.titlelist.watchlistFilters.providers=e.titlelist.watchlistFilters.providers.split(",")),e.titlelist.watchlistFilters.content_types&&(e.titlelist.watchlistFilters.content_types=e.titlelist.watchlistFilters.content_types.split(","),e.titlelist.watchlistFilters.content_types.indexOf("show")!==-1&&e.titlelist.watchlistFilters.content_types.push("show_season"))},0)})}]),angular.module("jw-webapp").factory("persistenceRedirector",["$rootScope","$location","$window","uuidService","storageManager",function(e,t,n,r,i){function a(e){u=e}function o(e){p=e}function s(){return p}function l(){return f}function c(e,n,r){"ft"in t.search()&&(d[f]=!0,i.setItem("jw_web",JSON.stringify(d))),p&&i.hasLocalStorage()&&!d[f]&&(e.preventDefault(),window.location=u+"/r?a=3&r="+n+"&i="+r)}var u="",p=!1,d={},f="hasCookieParked";return i.hasLocalStorage()&&(d=i.getItem("jw_web")?JSON.parse(i.getItem("jw_web")):{}),e.$on("$locationChangeStart",function(e,t){r.getUuid().then(function(n){return c(e,t,n)})}),{setApi:a,setRedirect:o,
getRedirect:s,getCookieParkedName:l}}]),angular.module("jw-webapp").provider("jwTrackingManager",function(){function e(e,o,s,l,c,u,p,d,f,m,g,h,v,y,b){function w(e){a.push(e)}function $(e,n,a){t="web"===e?"web":"mobile",r=n,i=a,C()}function x(e,t){"nonInteraction"in t&&(t.noninteraction=t.nonInteraction,delete t.nonInteraction);var n=m.getAvailableContext(t.category);d.getUuid().then(function(r){c.eventTrack(e,t,r,n)})}function S(){d.whenIdAvailable().then(function(){y.getActiveUrlPromise().then(function(e){g.trackPageView(),a.forEach(function(e){var t=P(e);y.getActiveUrlPromise();y.getActiveUrlPromise()?y.getActiveUrlPromise().then(function(e){window.ga(t+"set",{page:l.$$url,title:e.meta_title}),window.ga(t+"send","pageview",l.$$url)}):window.ga(t+"send","pageview",l.$$url)})})})}function E(e){d.getUuid().then(function(i){var a={geoip_country:"XX",app_country:v.config.webLocale.toUpperCase(),device_language:navigator.language,utc_offset_minutes:(new Date).getTimezoneOffset(),push_token:e&&e.registrationId?e.registrationId:"",push_allowed:e?!!e.registrationId&&!!e.registrationId:null,token_platform:e?window.ionic.Platform.isIOS()?"ios":"android":null};return angular.forEach(a,function(e,t){""!==e&&null!==e||delete a[t]}),o({method:"POST",url:r+"/s",params:{a:n[t]},data:{id:i,profile:a}})})}function T(e,t){d.whenIdAvailable().then(function(){return o({method:"POST",url:i+"/dispatch/status",data:{dispatch_id:e,state:t}})})}function k(){return d.getUuid().then(function(e){var t=i+"/dispatch/"+e+"/unread";return o({method:"GET",url:t})}).then(function(e){return e.data})["catch"](function(e){return!1})}function C(){return b.getIdfaInfo().then(function(e){return o({method:"GET",url:r+"/c",params:{a:n[t],i:[e.idfa,d.getUuidFromCache()].filter(function(e){return e}).join(","),dnt:e.doNotTrack}})}).then(A).then(function(e){if(!(e&&e.data&&e.data.f))throw c.eventTrack("lookup",{category:"idservice",label:"failed",nonInteraction:!0}),"no valid ID received";return d.setUuid(d.getUuidName(),e.data.f,d.getCookieExpiration()),e}).then(function(e){return e&&e.data&&e.data.sy&&_.forEach(e.data.sy,function(e){(new Image).src=e}),e})["catch"](function(e){return console.error(e)})}function A(e){var n=e.data.f;if("web"===t){var r="";angular.forEach(a,function(e){angular.isObject(e.fieldsObject)&&(e.fieldsObject.clientId=e.fieldsObject.clientId.replace("{{UUID}}",n)),r=P(e),window.ga("create",e.trackingId,e.fieldsObject)}),window.ga("set","&uid",n),window.ga("set","dimension1",n),window.ga(function(e){window.ga("set","dimension3",e.get("clientId"))})}return e}function P(e){return angular.isObject(e.fieldsObject)&&"name"in e.fieldsObject?e.fieldsObject.name+".":""}return{init:$,addTracker:w,eventTrack:x,trackPageView:S,registerDelayedPageView:g.registerDelayedPageView,updatePushProfile:E,setNotificationStatus:T,getLastPushnotification:k}}e.$inject=["$q","$http","$document","$location","$analytics","$timeout","$window","uuidService","storageManager","snowplowContext","pageViewTracker","persistenceRedirector","configRepository","urlDataRepository","idfaManager"];var t="web",n={web:3,mobile:4},r="",i="",a=[];this.$get=e}),angular.module("jw-webapp").service("watchListSnapshot",function(){this.snapshot=null});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("jw-webapp").controller("watchListCtrl",["$scope","$q","$filter","$document","watchListRepository","titleRepository","filterRepository","CONFIG","configRepository","viewport","filters","watchbarFixedTracker","jwTrackingManager","$timeout","metaService","upScroller","scrollPositionRepository","watchListSnapshot",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m,g,h,v){function y(){i.refreshWatchlist(v.snapshot).then(L).then(function(){b(),F.resolve()});var e=h.getScrollPosition("watchlist");f(function(){return angular.element(document).scrollTop(e)},0)}function b(){var t=w(o.getAllFilterStates()),n=!_.isEqual(t,e.watchlistFilters);_.forEach(o.getFilterStateNames(),function(t){e.watchlistFilters[t]=null}),$(o.getAllFilterStates(),n),x()}function w(e){var t=angular.copy(e);return t.providers&&(t.providers=t.providers.split(",")),t.content_types&&(t.content_types=t.content_types.split(","),t.content_types.indexOf("show")!==-1&&t.content_types.push("show_season")),t}function $(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.watchlistFilters=w(t),e.titles.watchlist.limit=6,e.$broadcast("watchlist.infinite-scroll.reset"),n&&g.scrollUp(!1)}function x(){e.filteredTitles=_(e.titles.watchlist.items).filter(C("providers")).filter(A()).filter(P()).filter(j()).sortBy(function(e){return-e.watchlistAdded}).value()}function S(){e.watchlistMeme=!e.watchlistMeme}function E(){"items"in e.titles.watchlist&&e.titles.watchlist.items.length>0&&(e.recommendedTitles=[])}function T(){var e=angular.element(document.getElementById("watchbar"));r.scrollToElement(e,145,500)}function k(){return e.titles.watchlist.limit+=6,e.$apply(),t.when()}function C(t){return function(n){var r=null===e.watchlistFilters.providers;if(e.filterActiveState.active)return!0;switch(t){case"providers":angular.forEach(n.watchlistProviders,function(t){angular.forEach(e.watchlistFilters.providers,function(e){t.indexOf(e)!==-1&&(r=!0)})})}return r}}function A(){return function(t){var n=!0;return!!e.filterActiveState.active||(e.watchlistFilters.release_year_from&&t.original_release_year<e.watchlistFilters.release_year_from&&(n=!1),e.watchlistFilters.release_year_until&&t.original_release_year>e.watchlistFilters.release_year_until&&(n=!1),n)}}function P(){return function(t){return!!e.filterActiveState.active||(null==e.watchlistFilters.content_types||e.watchlistFilters.content_types.indexOf(t.object_type)!==-1)}}function O(e,t){var n=_.filter(e,function(e){return t&&t.indexOf(e)>-1});return n.length>0}function j(){return function(t){if(e.filterActiveState.active)return!0;if(e.watchlistFilters.genres){var n=function(){var n=[];return _.forEach(e.watchlistFilters.genres.split(","),function(t){_.forEach(e.filters.genres,function(e){t===e.short_name&&n.push(e.id)})}),{v:O(n,t.genre_ids)}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}return!0}}function I(){e.titles.watchlist.items=[],x(),e.recommendedTitles&&0!==e.recommendedTitles.length||M()}function N(){var t=[];angular.forEach(e.titles.watchlist.items,function(e,n){var r=!1;angular.forEach(i.getList(),function(t){t.type==e.object_type&&t.id==e.id&&(r=!0)}),r||t.push(n)}),angular.forEach(t,function(t){e.titles.watchlist.items.splice(t,1)}),t.length>0&&f(function(){x(),e.$apply()},0);var n=!1;_.forEach(i.getList(),function(t,r){var i=!1;_.forEach(e.titles.watchlist.items,function(e){t.type==e.object_type&&t.id==e.id&&(i=!0)}),i||(n=!0)}),n&&L().then(function(){return x()}),!D()||e.recommendedTitles&&0!==e.recommendedTitles.length||M(),n&&e.titles&&0===e.titles.length&&e.recommendedTitles.length>0&&T()}function D(){return!("items"in e.titles.watchlist&&e.titles.watchlist.items&&0===e.titles.watchlist.items.length)}function R(e){return e.object_type+"-"+e.id}function L(){var r=t.defer();return i.whenAvailable().then(function(){var o=angular.copy(i.getList()),s=o.length;if(s>0){for(var l=[],c=function(e){var t=o.splice(0,200),n={};angular.forEach(t,function(e){n[e.type]||(n[e.type]=[]),n[e.type].push(e.id)}),l.push(a.fetchByIds({titles:n}))},p=0;p<s;p+=200)c(p);return t.all(l).then(function(t){var r=_(t).map(function(e){return e.data.titles}).map(function(e){return _(e).values().value()}).flatten().flatten().forEach(function(e){var t=i.get(e.object_type,e.id);e.watchlistAdded=t.added,e.watchlistStatus=t.status,e.watchlistProviders=[],_.forEach(e.offers,function(t){var r=n("filter")(u.providers,{id:t.provider_id},!0);1==r.length&&e.watchlistProviders.indexOf(r[0].short_name)===-1&&e.watchlistProviders.push(r[0].short_name)})});e.scrollingState.isFetching=!1,e.titles.watchlist.items=r}).then(function(){return r.resolve()})}return M().then(function(){return r.resolve()})}),r.promise}function M(){var n=[],r=5;return n.push(a.getTopTitles("movie",r)),n.push(a.getTopTitles("show",r)),t.all(n).then(function(t){e.recommendedTitles=[],angular.forEach(t,function(t){angular.forEach(t,function(t){e.recommendedTitles.push(t)})})})}e.viewport=c(),e.filters=o.getFilters(),e.titles=a.getTitles(),e.titles.watchlist.limit=6,e.recommendedTitles=null,e.stats=i.getListStats(),e.state={activeCollectionType:"watchlist"},e.scrollingState={isFetching:!0,watchbarFixed:p,slideDownMobile:!1},e.watchbarFixed=p,e.watchlistFilters=w(o.getAllFilterStates()),e.filterActiveState=o.filterActiveState,e.numberLocale=s.WEBLOCALES[l.config.webLocale].replace("_","-"),e.watchlistMeme=!1,e.scrollToWatchbar=T,e.increaseInfiniteScroll=k,e.atLeastOne=C,e.inYearRange=A,e.inContentTypes=P,e.inGenres=j,e.getUniqueID=R,e.toggleMeme=S;var F=d.registerDelayedPageView();d.trackPageView(),m.setPrerenderReady();var z=e.$watchCollection(function(){return o.getAllFilterStates()},function(e,t){f(function(){_.isEqual(e,t)||($(e,!0),x())},0)});e.$on("$destroy",z),y(),e.$on("$stateChangeStart",function(e,t,n,r,a){h.setScrollPosition(r.data.collectionType,angular.element(document).scrollTop()),v.snapshot=angular.copy(i.getList())}),e.$on("$destroy",E),e.$on("watchlist.added",N),e.$on("watchlist.removed",N),e.$on("watchlist.watched",N),e.$on("watchlist.cleared",I),e.$on("watchlist.refreshed",function(){I(),N()})}]),angular.module("jw-webapp").component("allFilterToggle",{template:'\n        <button\n            type="button"\n            ng-click="$ctrl.toggle($event)"\n            ng-disabled="$ctrl.fetchingState.isFetching"\n            class="head__secondary__right additional-filter__button"\n            ng-class="{\'additional-filter__button--active\': !$ctrl.filterActiveState.active}"\n\t\t\tanalytics-on="click"\n\t\t\tanalytics-event="search_toggle_allfilter"\n\t\t\tanalytics-category="userinteraction">\n\n            <span translate="WEBAPP_TOGGLE_FILTER" translate-default="Toggle Filter"></span>\n        </button>\n    ',controller:["filterRepository","titleRepository","jwTrackingManager",function(e,t,n){function r(e){e.stopPropagation(),this.filterActiveState.active=!this.filterActiveState.active}this.filterActiveState=e.filterActiveState,this.fetchingState=t.getState(),this.toggle=r}]}),angular.module("jw-webapp").directive("img",["imageErrorGatherer","jwTrackingManager",function(e,t){return{restrict:"E",link:function(n,r,i){var a=0;r.on("error",function(n){e.addError(i.src),a++;var o=angular.element(r)[0];o.src.indexOf("?")===-1&&(o.src+="?1337"),o.src.indexOf("?")!==-1&&1===a&&t.eventTrack("param_fix",{category:"errorimage",nonInteraction:!0}),o.src.indexOf("?")!==-1&&2===a&&t.eventTrack("non_webp",{category:"errorimage",nonInteraction:!0})})}}}]),angular.module("jw-webapp").factory("imageErrorGatherer",["$timeout","jwTrackingManager",function(e,t){function n(t){i.push(t),a||(a=e(r,o))}function r(){t.eventTrack(i.length,{category:"errorimage",label:i.join(",").slice(0,255),nonInteraction:!0}),i=[],a=null}var i=[],a=null,o=1200;return{addError:n}}]),angular.module("jw-webapp").run(["launchFinished","jwTrackingManager","$http",function(e,t,n){e.listen().then(function(){var e="undefined"!=typeof window.orientation,t="web",r=new Date-window.jwStartupTimeChecker.startTime;n({url:"https://events."+window.JW_CONFIG.DOMAIN+"/event/pageload/"+r,method:"POST",data:{mobile:e,platform:t}})})}]),angular.module("jw-webapp").run(["metaService","$rootScope",function(e,t){var n=t.$on("$stateChangeSuccess",function(){n(),e.listenPrerenderReady().then(function(){return window.jwTimeoutErrorChecker.stop()})})}]),angular.module("jw-webapp").component("expandableFadeText",{bindings:{isFilterContent:"=",contentData:"<"},templateUrl:"common/expandable-fade-text/expandable-fade-text.tpl.html",controller:["$attrs",function(e){function t(){this.isCollapsed=!this.isCollapsed}this.isCollapsed=!e.isOpen||"true"!=e.isOpen,this.toggle=t}]}),angular.module("jw-webapp").provider("featureFlagProvider",function(){function e(){Object.keys(l).forEach(function(e){c[e]=void 0});var e=a();if(s in e){var t=parseInt(e[s],10)||0;o(t),u=!0}}function t(e){return p=e.defer(),{addFlag:i,addFlagsFromBitmask:o,enabledFeatures:c,setReady:n,whenAvailable:r,FEATURE_FLAGS:l,FEATURE_FLAG_PARAM:s}}function n(){_.forEach(c,function(e,t){void 0===e&&(c[t]=!1)}),p.resolve(c)}function r(){return p.promise}function i(e){e in c&&(c[e]=!0)}function a(){var e=window.location.search.substr(1).split("&");return e.reduce(function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||""),e},{})}function o(e){u||_.forEach(l,function(t,n){(e&t)===t&&i(n)})}t.$inject=["$q"];var s="feature_flag",l={LOGINS:1,RECOMMENDATIONS:2,PERSONS:4,ADJUST_CLONE:8,SURVEY_AND_PULL:16},c={},u=!1,p=void 0;this.$get=t,e()}),angular.module("jw-webapp").run(["featureFlagProvider","translationFinished","$translate","$location","CONFIG",function(e,t,n,r,i){t.whenAvailable().then(function(){var t=n.instant("WEBAPP_FEATURE_FLAGS");if(t){var r=JSON.parse(t),i=0;i=r.web,e.addFlagsFromBitmask(i)}e.setReady()})}]),angular.module("jw-webapp").directive("allFilter",["$rootScope","$window","$state","$timeout","$translate","CONFIG","filterRepository","filterStateService","titleRepository","platformTracker","viewport","$document","watchbarFixedTracker","snowplowContext","userAgentService",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m){return{restrict:"A",scope:{filters:"=",providersKey:"@",domain:"@",slideDownMobile:"=",excludes:"=",ignoredProviders:"=",providerModalHandler:"&"},templateUrl:"common/filter/allFilter.tpl.html",link:function(i,s,l){function c(){p.scrollTo(0,147,400)}function f(t){t.popover=!t.popover,angular.element(document.body).toggleClass("overlay-visible"),e.$broadcast("filter.angular-slider.updateDOM")}function g(){i.releaseYearPopover=!i.releaseYearPopover,angular.element(document.body).toggleClass("overlay-visible"),e.$broadcast("filter.angular-slider.updateDOM")}function h(){i.genrePopover=!i.genrePopover,angular.element(document.body).toggleClass("overlay-visible")}function v(){i.presentationTypePopover=!i.presentationTypePopover,angular.element(document.body).toggleClass("overlay-visible")}function _(){i.pricePopover=!i.pricePopover,angular.element(document.body).toggleClass("overlay-visible")}function y(){i.ratingPopover=!i.ratingPopover,angular.element(document.body).toggleClass("overlay-visible")}function b(){angular.element(document.body).removeClass("overlay-visible"),angular.forEach(i.groupedFilters,function(e){e.popover=!1})}function w(){"mobile"===a.ENV?N():(i.slideDownMobile=!i.slideDownMobile,i.slideDownMobile&&c()),e.$broadcast("filter.angular-slider.updateDOM")}function $(){o.resetAllFilterStates(),e.$broadcast("filter.reset")}function x(){e.$broadcast("filter.reset.releaseYear")}function S(){e.$broadcast("filter.reset.quality")}function E(){e.$broadcast("filter.reset.price")}function T(){e.$broadcast("filter.reset.rating")}function k(e){return o.isFilterActive(e,i.filters.providers_all)}function C(e){var n=i.watchbarFixed,r=A();i.watchbarFixed=t.pageYOffset>s[0].offsetTop+2-z-r,d[i.activeCollectionType]=i.watchbarFixed,e&&i.watchbarFixed!=n&&i.$applyAsync()}function A(){return null===L&&(L=document.querySelector("body.promotion")?80:0),L}function P(e){return!!(i.excludes&&i.activeCollectionType in i.excludes)&&(i.excludes&&!!i.excludes[i.activeCollectionType]&&i.excludes[i.activeCollectionType].indexOf(e)!==-1)}function O(){return!i.excludes||!i.excludes[i.activeCollectionType]||F.length>i.excludes[i.activeCollectionType].length}function j(){r(function(){L=null,A()})}function I(t,n,r,a,o){(n.data&&n.data.collectionType&&a.data&&a.data.collectionType&&n.data.collectionType!=a.data.collectionType||!a)&&(i.activeCollectionType=n.data.collectionType,i.slideDownMobile=!1,e.$broadcast("filter.update",{collectionType:i.activeCollectionType})),n.data&&n.data.collectionType&&(i.domain=n.data.collectionType,i.activeCollectionType=n.data.collectionType)}function N(){M&&M.isShown()?e.$broadcast("filter.mobileDialog",{open:!1}):(e.$broadcast("filter.mobileDialog",{open:!0}),U=o.getLastParams())}function D(e){C(!0)}var R=u(),L=null,M=void 0,F=["presentation_types","price","releaseYear","genre","scoring_filter_types"];i.abTestGlobal=e.abTestGlobal,i.mobileViewport="smartphone"==R||"phablet"==R,i.slideDownMobile=!1,i.releaseYearPopover=!1,i.genrePopover=!1,i.presentationTypePopover=!1,i.pricePopover=!1,i.ratingPopover=!1,i.groupedFilters={releaseYear:{name:"releaseYear",popover:!1,ordering:1,translation:"WEBAPP_RELEASEYEAR",translationDefault:"Release Year",actives:["release_year_from","release_year_until"]},genre:{name:"genre",popover:!1,ordering:2,translation:"WEBAPP_GENRES",translationDefault:"Genres",actives:["genres"]},price:{name:"price",popover:!1,ordering:4,translation:"WEBAPP_PRICE",translationDefault:"Price",actives:["min_price","max_price","monetization_types","presentation_types"]},rating:{name:"scoring_filter_types",popover:!1,ordering:5,translation:"WEBAPP_RATING",translationDefault:"Rating",actives:["scoring_filter_types"]}},i.activeCollectionType=n.current.data?n.current.data.collectionType:"";var z=(s.children()[1],0);i.filterActiveState=o.filterActiveState,z=document.querySelector('[ui-view="head"]').offsetHeight,C(),i.toggleReleaseYear=g,i.toggleGenre=h,i.togglePresentationType=v,i.togglePrice=_,i.toggleRating=y,i.togglePopover=f,i.closeOverlay=b,i.toggleSlide=w,i.reset=$,i.resetYear=x,i.resetQuality=S,i.resetPrice=E,i.resetRating=T,i.isFilterActive=k,i.isExcluded=P,i.hasAdditionalFilters=O,i.toggleFilterModal=N,i.$on("$stateChangeStart",I),i.$on("promotionbanner.hidden",j);var U=void 0;m.isSeo4Ajax()||(angular.element(t).bind("scroll touchmove",D),i.$on("$destroy",function(){angular.element(t).unbind("scroll touchmove",D)}))}}}]),angular.module("jw-webapp").directive("filterContainer",["$rootScope",function(e){return{restrict:"E",scope:{filterData:"=",collectionType:"=",excludes:"="},transclude:!0,templateUrl:"common/filter/filter-container.tpl.html",link:function(t,n,r){function i(){t.filterData.popover=!1,angular.element(document.body).removeClass("overlay-visible")}function a(){e.$broadcast("filter.reset."+t.filterData.name)}t.closePopover=i,t.reset=a}}}]),angular.module("jw-webapp").directive("filterPopoverHead",["$rootScope",function(e){return{restrict:"E",scope:{type:"@",filterName:"@",selectAll:"&?",unselectAll:"&?"},transclude:!0,templateUrl:"common/filter/filter-popover-head.tpl.html",link:function(t,n,r){function i(){e.$broadcast("filter.reset."+t.filterName)}t.reset=i}}}]),angular.module("jw-webapp").factory("filterManager",["filterRepository","filterStateService","$log","$rootScope",function(e,t,n,r){function i(e,t){b[e]=t}function a(t,n){var r=angular.copy(e.getFilterState(t));return y[t]=r?n?r.split(","):r:g(t),y}function o(e){return angular.isArray(y[e])?y[e].length>0:!!y[e]}function s(e,t){return angular.isArray(y[e])?y[e].indexOf(t)!==-1:null!==t?y[e]==t:!y[e]&&null===t}function l(e,t,n){y[e]!=t&&(y[e]=t,f(e,n))}function c(e){return e in y?y[e]:null}function u(e,t){angular.isArray(y[e])&&(y[e].indexOf(t)!==-1?y[e].splice(y[e].indexOf(t),1):y[e].push(t),f(e))}function p(e,t){r.$on(t,function(){h(e),f(e)})}function d(e){h(e),f(e)}function f(t,r){if(!(t in y))return void n.error("[filterManager] filter not found:",t);var i=y[t]&&angular.isArray(y[t])?y[t].join(","):y[t];e.setFilterState(t,i?i:null),r||m()}function m(){t.updateState()}function g(e){var t=null;return e in b&&(t=angular.copy(b[e])),t}function h(e){y[e]=g(e)}function v(){angular.forEach(y,function(e,t){h(t),f(t,!0)}),m()}function _(){angular.forEach(y,function(e,t){a(t,angular.isArray(e))})}var y={},b={};return r.$on("filter.reset",v),r.$on("filter.update",_),{setDefaultState:i,initState:a,setFilterProperties:l,getFilterProperties:c,toggleFilterProperty:u,isFilterActive:o,isFilterPropertyActive:s,registerEventReset:p,resetFilter:d}}]),angular.module("jw-webapp").factory("filterRepository",["$http","$q","$filter","$window","$rootScope","$state","$location","CONFIG","configRepository","ratingRepository","storageManager","snowplowContext",function(e,t,n,r,i,a,o,s,l,c,u,p){function d(e){R?(L.shared=angular.copy(F),e&&"shared"in e&&angular.extend(L.shared,e.shared)):angular.forEach(s.COLLECTIONTYPES,function(t){L[t]=angular.copy(F),e&&t in e&&angular.extend(L[t],e[t])}),p.setContext("filters",L)}function f(){return M?Object.keys(F):[]}function m(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.defer(),o=[];return angular.forEach(n,function(n){n in z&&!r||(z[n]=t.defer(),e.get(s.API+"/"+n+"/locale/"+s.WEBLOCALES[l.config.webLocale]).then(function(e){var t={};if(t[n]=e.data,"providers"==n){t.providers_all=[],angular.forEach(e.data,function(e){t.providers_all[e.id]=e}),t.providers=[];var r=[];angular.forEach(e.data,function(e){e.monetization_types.indexOf("cinema")===-1&&t.providers.push(e),angular.forEach(e.monetization_types,function(e){r.indexOf(e)===-1&&r.push(e)})}),H.resolve(r),Y=r;var a=e.data;D.providers=e.data,D.providers_all=e.data,p.setContext("providers_all",a.map(function(e){return e.short_name}).join(",")),i.readyInit.push("providers")}"genres"==n&&(p.setContext("genres_all",e.data.map(function(e){return e.short_name}).join(",")),D.genres=e.data,i.readyInit.push("genres")),z[n].resolve(t)})),o.push(z[n].promise)}),t.all(o).then(function(e){var t={};angular.forEach(e,function(e){t=angular.extend(t,e)}),D=angular.extend(D,t),a.resolve(D)}),a.promise}function g(e,t,n){if(e in x())if(R)L.shared[e]=t;else{var r=n?n:M;L[r][e]=t}U||u.setItem(l.config.webLocale,angular.toJson(L))}function h(e,t){var n={},r=N.getFilterState(e)?N.getFilterState(e).split(","):[];return angular.forEach(D[e],function(e){n[e.short_name]={active:r.length>0?r.indexOf(e.short_name)!==-1:t}}),n}function v(e){return x()&&e in x()?x(e):null}function _(e){return x(null,e)}function y(e){R?(d(),angular.forEach(N.getFilterStateNames(),function(t){N.setFilterState(t,L.shared[t],e)})):(L[e?e:M]=angular.copy(F),angular.forEach(N.getFilterStateNames(),function(t){N.setFilterState(t,F[t],e)}))}function b(e){return D[e]}function w(){return D}function $(e){M=e}function x(e,t){return R?e?L.shared[e]:L.shared:t?e?L[t][e]:L[t]:e?L[M][e]:L[M]}function S(){z={},angular.forEach(D,function(e,t){D[t]=[]})}function E(e,t){var n=!1,r=_();return angular.forEach(e,function(e){r&&e in r&&null!==r[e]&&(n=!0)}),n}function T(){return[{value:["sd"],label:"WEBAPP_QUALITY_SD",translationDefault:"SD"},{value:["hd"],label:"WEBAPP_QUALITY_HD",translationDefault:"HD"}]}function k(e){V[e]=angular.copy(x(null,e))}function C(e){return e&&e in V?V[e]:V[M]}function A(){return G}function P(){return H.promise}function O(){return Y}function j(e){var t=angular.fromJson(e);return angular.forEach(s.COLLECTIONTYPES,function(e){angular.forEach(q,function(n){t[e]&&n in t[e]&&(t[e][n]=angular.fromJson(t[e][n]))})}),t}function I(){U||(B=u.getItem(l.config.webLocale)?j(u.getItem(l.config.webLocale)):{}),d(B);var e=[];angular.forEach(G.general,function(t){angular.forEach(t.shows,function(t){e.push(t)})}),p.setContext("monetization_types",e.join(","));var t={};angular.forEach(c.ratings,function(e){t[e.provider]={min_scoring_value:e.min,max_scoring_value:e.max}}),p.setContext("scoring_filter_types",t)}var N={},D={providers:[],providers_all:[],providers_head:[],genres:[]},R=!1,L={},M=null,F={content_types:null,presentation_types:null,providers:null,genres:null,languages:null,release_year_from:null,release_year_until:null,monetization_types:null,min_price:null,max_price:null,scoring_filter_types:null,cinema_release:["us","de","ca","kr"].indexOf(l.config.webLocale)!==-1&&a.href("app.titles.cinema.list",{locale:l.config.webLocale})!==r.location.pathname&&a.href("app.titles.cinema.upcoming",{locale:l.config.webLocale})===r.location.pathname||null},z={},U=!u.hasLocalStorage(),B={},W={active:!1},V={},q=["scoring_filter_types"],G={general:[{key:"stream",name:"WEBAPP_STREAM",shows:["free","ads","flatrate"],priceLabel:{free:"WEBAPP_FREE",flatrate:"WEBAPP_FLAT",ads:"WEBAPP_ADS"},translationDefault:"STREAM"},{key:"rent",name:"WEBAPP_RENT",shows:["rent"],priceLabel:{rent:"WEBAPP_FREE"},translationDefault:"RENT"},{key:"buy",name:"WEBAPP_BUY",shows:["buy"],priceLabel:{buy:"WEBAPP_FREE"},translationDefault:"FREE"},{key:"cinema",name:"WEBAPP_CINEMA",shows:["cinema"],priceLabel:{cinema:"WEBAPP_TICKET"},translationDefault:"CINEMA"}],physical:[{key:"buy",name:"WEBAPP_BUY",shows:["bluray","dvd"],priceLabel:{bluray:"WEBAPP_FREE"},translationDefault:"BUY"}]},H=t.defer(),Y=[];return N.fetchFilters=m,N.getFilterStateNames=f,N.setFilterState=g,N.getInitialFilterState=h,N.getFilterState=v,N.getAllFilterStates=_,N.resetAllFilterStates=y,N.getFilter=b,N.getFilters=w,N.setCollectionType=$,N.resetAllFilters=S,N.filterActiveState=W,N.isFilterActive=E,N.getPresentationTypes=T,N.saveLastParams=k,N.getLastParams=C,N.getMonetizations=A,N.getAvailableMonetizationTypes=O,N.getAvailableMonetizationTypesPromise=P,N.initialize=I,N.useSharedFilters=function(){return R},I(),N.initFilterStates=d,N}]),angular.module("jw-webapp").factory("filterStateService",["$state","$filter","$log","filterRepository","CONFIG","configRepository","userAgentService","$location",function(e,t,n,r,i,a,o,s){function l(e,t){var r="";return n.debug("[calculating route]"),"search"===e?(n.debug("has search"),r="app.search.list"):"offers"===e?(n.debug("has offers"),r="app.offers.list"):"watchlist"===e?r="app.watchlist.list":"titlelist"===e?r="app.titlelist.list":"cinema"===e?r=t.cinema_release&&!o.isSeo4Ajax()?"app.titles.cinema.upcoming":"app.titles.cinema.list":t.providers&&1==t.providers.split(",").length?(n.debug("has 1 provider"),t.content_types&&1==t.content_types.split(",").length?(n.debug("-- has 1 contentType"),r="app.titles."+e+".provider"):(n.debug("-- has ALL content_types"),r="app.titles."+e+".provider")):(n.debug("has 1+ provider"),t.content_types&&1==t.content_types.split(",").length?(n.debug("-- has 1 contentType"),r=["new","pricedrops"].indexOf(e)!==-1?"app.titles."+e+"."+("show"==t.content_types?"show_season":t.content_types):"app.titles."+e+"."+("show_season"==t.content_types?"show":t.content_types)):(n.debug("-- has ALL content_types"),t.genres?1==t.genres.split(",").length?(n.debug("---- has 1 genre"),r="app.titles."+e+".list"):(n.debug("---- has 1+ genres"),r="app.titles."+e+".list"):(n.debug("---- has 0 genres"),r="app.titles."+e+".list"))),r}var c={},u={content_types:"content_type"},p={"imdb:score":"rating_imdb",justwatch:"rating_justwatch","tomato:meter":"rating_tomato"},d=[{target:"providers",slug:"slug",shortName:"short_name",single:"provider"},{target:"genres",slug:"technical_name",shortName:"short_name",single:"genre"}];return c.getRouteName=l,c.updateState=function(i,o){var c=r.getAllFilterStates(o),d=i;if(d||(d="data"in e.current&&"collectionType"in e.current.data?l(e.current.data.collectionType,c):l(o,c)),d){var f={};if(angular.forEach(["q","person_id"],function(e){s.search()[e]&&(f[e]=s.search()[e])}),c&&c.providers&&1==c.providers.split(",").length){var m=t("filter")(r.getFilter("providers"),{short_name:c.providers});1==m.length?f.provider=m[0].slug:n.warn("[DEBUG] single provider not found: "+c.providers)}"data"in e.current&&"collectionType"in e.current.data&&"offers"===e.current.data.collectionType&&angular.extend(f,s.search()),angular.forEach(c,function(e,n){if(n in u)f[u[n]]=e;else switch(n){case"genres":var i=t("filter")(r.getFilter("genres"),{short_name:c.genres});i&&1==i.length&&(f.genre=i[0].slug),f[n]=e;break;case"scoring_filter_types":angular.forEach(e,function(e,t){f[p[t]]=e.min_scoring_value});break;default:f[n]=e}}),n.debug("$state.go",d,f),f.locale=a.config.webLocale,angular.forEach(["q","titlelistName"],function(t){t in e.params&&e.params[t]&&(f[t]=e.params[t])}),e.go(d,f,{inherit:!1})}else n.warn('[DEBUG] no state found for "'+d+'"')},c.getStateUrl=function(t,n){var i=n?angular.copy(n):angular.copy(r.getAllFilterStates());i.locale=a.config.webLocale;var o=l(t,i);return c.updateSingularFilters(i),"content_types"in i&&i.content_types&&i.content_types.length>0&&(i.contentType=i.content_types),e.href(o,i)},c.updateSingularFilters=function(e){angular.forEach(d,function(t){t.target in e&&e[t.target]&&1==e[t.target].split(",").length&&angular.forEach(r.getFilter(t.target),function(n){n[t.shortName]==e[t.target]&&(e[t.single]=n[t.slug])})})},c.getSingularExceptions=function(){return d},c}]);var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();angular.module("jw-webapp").factory("inAppMessageManager",["$rootScope","$http","$state","$q","CONFIG","uuidService","urlDataRepository","metaService","titleRepository","featureFlagProvider","$location",function(e,t,n,r,i,a,o,s,l,c,u){function p(){a.getUuid().then(function(n){t.get(i.PULL_API+"/fetch/"+n+"/unread").then(function(e){_.forEach(e.data,function(e){var t=e.event.type;Object.keys(v).indexOf(t)!==-1&&v[t].push(e)}),g()}),d(n),e.$on("$stateChangeStart",function(e,t,r){d(n)}),e.$on("$stateChangeSuccess",g)})}function d(e){return w=0===w.promise.$$state.status?w:r.defer(),o.getActiveUrlPromise().then(function(n){var r="undefined"!=typeof window.orientation,a="web";t({url:i.PULL_API+"/pull/"+e+"/available",method:"POST",data:angular.extend({},u.search(),{full_path:n.full_path+window.location.search,locale:n.locale,object_type:n.object_type,object_id:n.object_id,app_version:i.VERSION,mobile:r,platform:a})}).then(function(e){var t=[];_.forEach(e.data,function(e){var n=e.event.type;"test"!==n&&"survey"!==n||(e.event.type="survey",e.template=JSON.parse(e.template),e.template.tagId=e.tag_id),t.push(e.template)}),w.resolve(t)})})}function f(){return w.promise}function m(){b=!0,v.startup.forEach(function(e){return h(e.template)})}function g(){s.listenPrerenderReady().then(function(){y||(y=!0,v.startup.forEach(function(e){if(b)h(e.template);else{var t=e.selector?e.selector:"body",n=document.createElement("div");n.innerHTML=e.template,document.querySelector(t).appendChild(n)}}))})}function h(e){var t=[e.match(/message-id="(.*)"/),e.match(/message-survey-url="(.*)"/),e.match(/message-survey-title="(.*)"/)].map(function(e){return e&&e.length>1?e[1]:""}),n=_slicedToArray(t,3),r=n[0],i=n[1],a=n[2];r&&i&&a&&(window.jwInAppMessage.read(r),window.jwInAppMessage.close("#survey-"+r,750),window.jwInAppMessage.openSurvey(a,i,r))}var v={"state.start":[],"state.success":[],"state.loaded":[],startup:[],survey:[]},y=!1,b=!1,w=r.defer();return{init:p,prioritizeFirstSurvey:m,whenSurveysAvailable:f}}]),window.jwInAppMessage={read:function(e){var t=window.angular.element(document.querySelector("html")).injector(),n=t.get("CONFIG").PULL_API;t.get("uuidService").getUuid().then(function(r){t.get("$http").post(n+"/fetch/"+r+"/read/"+e,{})})},track:function(e,t,n){var r=window.angular.element(document.querySelector("html")).injector();r.get("jwTrackingManager").eventTrack(e,{category:"inappmessage",label:t,nonInteraction:!!n})},openSurvey:function(e,t,n){var r='<iframe src="'+t+'" width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>';window.jwInAppMessage.openDialog(e,r,n)},openDialog:function(e,t,n){var r=window.angular.element(document.querySelector("html")).injector(),i='\n                <ion-modal-view>\n                    <ion-header-bar>\n                        <div class="buttons" ng-if="platform==\'android\'">\n                            <button class="button button-clear button-icon icon ion-android-arrow-back" ng-click="close()"></button>\n                        </div>\n                        <h1 class="title">'+e+'</h1>\n                        <div class="buttons" ng-if="platform==\'ios\'">\n                            <button class="button button-clear" ng-click="close()"><span translate="WEBAPP_DONE" translate-default="Done"></span></button>\n                        </div>\n                    </ion-header-bar>\n                    <ion-content class="gradient-bg">\n                        '+t+"\n                    </ion-content>\n                </ion-modal-view>\n            ",a=r.get("$rootScope").$new(),o=r.get("$ionicModal").fromTemplate(i,{
scope:a});a.platform=window.ionic.Platform.isIOS()?"ios":"android",a.close=function(){o.hide(),n&&window.jwInAppMessage.track(n,"closed")},o.show(),window.jwInAppMessage.track(n,"opened")},close:function(e,t){var n=document.querySelector(e);n&&(n.style.opacity=0,window.setTimeout(function(){n.parentNode.innerHTML=""},t))}},angular.module("jw-webapp").run(["inAppMessageManager",function(e){e.init()}]),angular.module("jw-webapp").factory("infiniteScrollTracker",function(){function e(e){return e in n||(n[e]=[]),n[e]}function t(t){t in n||e(t),n[t].length=0}var n={};return{init:e,reset:t}}),angular.module("jw-webapp").directive("jwInfiniteScroll",["$window","$timeout","$rootScope","infiniteScrollTracker",function(e,t,n,r){return{restrict:"A",scope:{jwInfiniteScroll:"&",jwInfiniteScrollId:"@",jwInfiniteScrollListenForEvent:"@",jwInfiniteScrollResetEvent:"@",jwInfiniteScrollDisabled:"=",jwInfiniteScrollDistance:"="},link:function(t,n,i){function a(){c=s(n[0].clientWidth),u=s(e.innerHeight),r.reset(t.jwInfiniteScrollId)}function o(){e.scrollY+e.innerHeight>n[0].offsetTop+n[0].offsetHeight-u&&(t.jwInfiniteScrollDisabled||l.indexOf(n[0].offsetHeight)!==-1||0===n[0].offsetHeight||(l.push(n[0].offsetHeight),t.jwInfiniteScroll().then(o)))}function s(e){return angular.isNumber(t.jwInfiniteScrollDistance)?e*t.jwInfiniteScrollDistance:0}var l=r.init(t.jwInfiniteScrollId),c=s(n[0].clientWidth),u=s(e.innerHeight);angular.element(e).bind("scroll",o),angular.element(e).bind("resize",a),t.jwInfiniteScrollResetEvent&&t.$on(t.jwInfiniteScrollResetEvent,a),t.jwInfiniteScrollListenForEvent&&t.$on(t.jwInfiniteScrollListenForEvent,o),r.reset(t.jwInfiniteScrollId),a()}}}]),angular.module("jw-webapp").factory("searchRepository",["titleRepository","filterRepository","CONFIG","configRepository","scrollPositionRepository","$http","$q","personFilterRepository","paramSanitizer",function(e,t,n,r,i,a,o,s,l){function c(e,t,n){m(null,e,t,n)}function u(e,t,n){m(e,null,t,n)}function p(e){var i={person_id:parseInt(e),page_size:200},o=t.filterActiveState.active?{}:t.getAllFilterStates(),c=angular.extend({},angular.copy(o),i);return l.sanitizeParams(c),c.monetization_types.push("cinema"),a({url:n.API+"/titles/"+n.WEBLOCALES[r.config.webLocale]+"/popular",method:"POST",data:c}).then(function(e){var t=Object.keys(s.GROUPS).reduce(function(t,n){return t[n]=e.data.items.filter(function(e){return e.credits.map(function(e){return e.role}).filter(function(e){return s.GROUPS[n].indexOf(e)!==-1}).length>0}).map(function(e){return e.object_type+"_"+e.id}).reduce(function(e,t){return e.indexOf(t)===-1&&e.push(t),e},[]),t},{});return t})}function d(e){return e in v||!function(){v[e]=o.defer();var t={};a({url:n.API+"/titles/person/"+e+"/locale/"+n.WEBLOCALES[r.config.webLocale],method:"GET"}).then(function(e){if(!e.data)return o.reject("no person found");if(e.data.date_of_birth){var i=new Date(e.data.date_of_birth);e.data.age=f(i),e.data.birthYear=i.getFullYear()}e.data.short_description_paragraphes=e.data.short_description?e.data.short_description.split(/\n\n/g):null,t.person=e.data;var s=_.first(e.data.credits);return s?a({url:n.API+"/titles/"+s.object_type+"/"+s.object_id+"/locale/"+n.WEBLOCALES[r.config.webLocale],method:"GET"}):o.when(null)}).then(function(n){t.backdrop=n?_.first(n.data.backdrops):null,v[e].resolve(t)})}(),v[e].promise}function f(e){var t=Date.now()-e.getTime(),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)}function m(n,r,a,o,s){if(y=null,b=null,n||r){a||(h.page=1,i.setScrollPosition("search",0));var l=o?{}:angular.copy(t.getAllFilterStates()),c={useSharedFilters:t.useSharedFilters(),collectionType:"search"};a&&(angular.extend(l,{page_size:h.pageSize}),angular.extend(l,{page:h.page})),s&&angular.extend(l,{page_size:s}),null!==n?(e.search(n,null,l,a,c),y=n):null!==r&&(e.search(n,r,l,a,c),b=r),h.page++}}function g(){y?u(y,!0,t.filterActiveState.active):b&&c(b,!0,t.filterActiveState.active)}var h={page:1,pageSize:30},v={},y=null,b=null;return{searchTitle:u,searchTitleByPerson:c,searchMore:g,searchPerson:d,searchPersonGroups:p}}]),angular.module("jw-webapp").component("totalResults",{bindings:{fetchingState:"=",totalResults:"=",resultTarget:"@",customAmount:"=",filterState:"="},template:'\n        <div class="main-content__title-divider" ng-if="!($ctrl.hasFiltered && $ctrl.customAmount)">\n            <span class="main-content__title-divider__title" ng-if="!$ctrl.fetchingState.isFetching">\n                {{ ($ctrl.customAmount ?\n                        $ctrl.customAmount :\n                        ($ctrl.totalResults[$ctrl.resultTarget])\n                    ).toLocaleString($ctrl.numberLocale) || \'0\'\n                }} <span translate="WEBAPP_RESULTS" translate-default="results"></span>\n            </span>\n            <span class="main-content__title-divider__title" ng-if="fetchingState.isFetching" translate="WEBAPP_SEARCHING" translate-default="searching"></span>\n        </div>\n    ',controller:["CONFIG","configRepository","filterRepository","$state","$rootScope",function(e,t,n,r,i){var a=this;this.numberLocale=e.WEBLOCALES[t.config.webLocale].replace("_","-"),i.$on("$stateChangeSuccess",function(){a.hasFiltered=_.values(n.getAllFilterStates()).filter(function(e){return e}).length>0})}]}),angular.module("jw-webapp").factory("watchListRepository",["$window","$rootScope","$q","configRepository","storageManager","translationFinished","userRepository","$translate","jwTrackingManager","toastManager",function(e,t,n,r,i,a,o,s,l,c){function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S().then(y).then(function(){angular.equals(e,h())||t.$broadcast("watchlist.refreshed",{watchlist:$()})})}function p(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ribbon";f(e,n)||(P[r.config.webLocale].push({type:e,id:n,added:Math.floor(Date.now())}),x("WEBAPP_WATCHLIST_TOAST_ADDED",i),l.eventTrack(a,{category:"watchlist_add"})),g(),C&&t.$broadcast("watchlist.added",{contentType:e,contentId:n,watchlist:$()})}function d(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ribbon",o=f(e,n);if(o){var s=P[r.config.webLocale].indexOf(o);P[r.config.webLocale].splice(s,1),x("WEBAPP_WATCHLIST_TOAST_REMOVED",i),l.eventTrack(a,{category:"watchlist_remove"})}g(),C&&t.$broadcast("watchlist.removed",{contentType:e,contentId:n,watchlist:$()})}function f(e,t){return _.find(P[r.config.webLocale],function(n){return n.type===e&&n.id===t})}function m(){P[r.config.webLocale]=[],g(),C&&t.$broadcast("watchlist.cleared")}function g(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!e&&o.userData.loggedIn?o.setStore(o.STORE_WATCHLIST_KEY,angular.fromJson(P)):o.userData.loggedIn||O||i.getItem(k)!=angular.toJson(P)&&i.setItem(k,angular.toJson(P))}function h(){return P[r.config.webLocale]}function v(){return T}function y(){T.countries=Object.keys(P).length,T.titles=Object.keys(P).reduce(function(e,t){return e+P[t].length},0),T.titlesCurrentLocale=r.config.webLocale in P?P[r.config.webLocale].length:0}function b(e){P=e}function w(){return A.promise}function $(){return r.config.webLocale in P?P[r.config.webLocale].map(function(e){return e.type+"-"+e.id}):[]}function x(e,t){c.show({mobile:t+" "+s.instant(e),web:'<span class="glyphicon glyphicon-ok"></span>&nbsp;'+t+" <strong>"+s.instant(e)+"</strong>",duration:2e3})}function S(){return A=n.defer(),o.getStore().then(function(){P=o.STORE_WATCHLIST_KEY in o.userData.store?o.userData.store[o.STORE_WATCHLIST_KEY]:P})["catch"](function(){P=angular.fromJson(i.getItem(k))||{}})["finally"](function(){E(),A.resolve()}),A.promise}function E(){r.config.webLocale in P||(P[r.config.webLocale]=[])}var T={titles:0,titlesCurrentLocale:0,countries:0},k="jw_watchlist",C=!0,A=null,P={},O=!i.hasLocalStorage();return S().then(y),a.whenLanguageChanges(function(){E(),g(!0)}),t.$on("watchlist.reload",u),document.addEventListener("resume",u),["watchlist.added","watchlist.removed","watchlist.cleared","watchlist.refreshed"].forEach(function(e){t.$on(e,y)}),{name:k,add:p,remove:d,clear:m,initialize:b,get:f,getList:h,getListStats:v,getConcatenatedWatchlist:$,whenAvailable:w,refreshWatchlist:u}}]),angular.module("jw-webapp").factory("linkedDataUtils",["$filter","$translate","$state","CONFIG","configRepository","scoring",function(e,t,n,r,i,a){function o(e,t){return _(e).filter(function(e){return e.translation&&t.genre_ids&&t.genre_ids.indexOf(e.id)!==-1}).map(function(e){return e.translation})}function s(e,t){return _(e).filter(function(e){return e.role===t}).map(function(e){return{"@type":"Person",name:e.name}})}function l(e){if(e){var t=parseInt(e/60,10),n=e-60*t,r=0;return"T"+t+"H"+n+"M"+r+"S"}return null}function c(e){var t="movie"===e?"movie":"show",r=n.href("app.titles.popular."+t,{locale:i.config.webLocale});return"https://www.justwatch.com"+r}function u(e){switch(e){case"movie":return"movie";case"show":return"TVSeries";case"show_season":return"TVSeason";default:return null}}function p(e,t){var n=_(e).filter(function(e){return e.id===t}).value();return n&&n[0]?n[0]:null}function d(e){return _(e.seasons).map(function(e){return{"@type":"TVSeason",datePublished:e.original_release_year?String(e.original_release_year):null,name:f(e),url:"https://www.justwatch.com"+e.full_path}}).value()}function f(e){return t.instant("WEBAPP_SEASON")+" "+e.season_number||(e.title?e.title:null)}function m(n,r,i){var m="movie"===n.object_type?"MOVIES":"TVSHOWS",g={"@graph":[{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":c(n.object_type),name:t.instant("WEBAPP_"+m)||"Movies"}},{"@type":"ListItem",position:2,item:{"@id":"https://www.justwatch.com"+r.full_path,name:n.heading_1}}]},{"@context":"http://schema.org","@type":u(n.object_type),actor:s(r.credits,"ACTOR"),author:s(r.credits,"WRITER"),containsSeason:"show"===n.object_type?d(r):null,dateCreated:String(r.original_release_year),description:r.short_description,director:s(r.credits,"DIRECTOR"),duration:l(r.runtime),genre:o(i.genres,r),image:r.poster?e("thumborProxy")(r.poster,"poster"):null,name:n.heading_1}]};if("show_season"===n.object_type){var h=p(r.seasons,n.object_id);g["@graph"][0].itemListElement.push({"@type":"ListItem",position:3,item:{"@id":"https://www.justwatch.com"+n.full_path,name:f(h)}}),_.assignIn(g["@graph"][1],{partOfSeries:{"@type":"TVSeries",name:r.title,url:"https://www.justwatch.com"+r.full_path},seasonNumber:h.season_number?String(h.season_number):null})}var v=a.calculateJustwatchRating(r.scoring);return v&&(g["@graph"][1].aggregateRating={"@type":"AggregateRating",bestRating:"100",ratingCount:String(r.scoring.length),ratingValue:String(v)}),g}return{getLinkedDataContent:m}}]),angular.module("jw-webapp").factory("metaService",["$location","$log","$timeout","$window","$rootScope","$q","$filter","CONFIG","configRepository","scoring","linkedDataUtils",function(e,t,n,r,i,a,o,s,l,c,u){function p(e){return y[e]}function d(e,t){y[e]=t}function f(){n(function(){b=Object.keys(y).map(function(e){return y[e].promise}),a.all(b).then(function(){n(function(){var e=document.querySelector("head"),n=e.querySelector("meta[name=prerender-status-code]");n&&(e.removeChild(n),t.debug("removed 503 prerender tag")),window.prerenderReady=!0,1!==w.promise.$$state.states&&w.resolve(),window.onCaptureReady&&window.onCaptureReady()},0)}),t.debug("prerenderReady (detail view)")},0)}function m(){return w.promise}function g(t){_=t;var n=document.querySelector("head"),i=e.absUrl(),a=e.path();if(n.querySelector("title").innerHTML=t.meta_title,n.querySelector('meta[property="og:title"]').setAttribute("content",t.meta_title),n.querySelector("meta[name=keywords]").setAttribute("content",t.meta_keywords),n.querySelector("meta[name=description]").setAttribute("content",t.meta_description),n.querySelector('meta[property="og:description"]').setAttribute("content",t.meta_description),angular.forEach(n.querySelectorAll("link[rel=alternate]"),function(e){n.removeChild(e)}),angular.forEach(t.href_lang_tags,function(e){var t=document.createElement("link");t.setAttribute("rel","alternate"),t.setAttribute("href",e.href),t.setAttribute("hreflang",e.href_lang),n.appendChild(t)}),angular.forEach([],function(e){var t=document.createElement("link");t.setAttribute("rel","alternate"),t.setAttribute("href",[e.platform,"://",e.identifier,"/","justwatch/",r.location.pathname].join("")),n.appendChild(t)}),3===a.length){var o=document.createElement("link");o.setAttribute("rel","alternate"),o.setAttribute("href","/"),o.setAttribute("hreflang","x-default"),n.appendChild(o)}var s=n.querySelector("link[rel=canonical]");i.indexOf("?")!==-1?i.indexOf("search")!==-1||i.indexOf("Suche")!==-1||i.indexOf("busca")!==-1?s&&n.removeChild(s):(s||(s=document.createElement("link"),s.setAttribute("rel","canonical")),s.setAttribute("href",i.substring(0,i.indexOf("?")))):s&&n.removeChild(s);var l=n.querySelector("meta[name=robots]");t.meta_robots?(l||(l=document.createElement("meta"),l.setAttribute("name","robots"),n.appendChild(l)),l.setAttribute("content",t.meta_robots)):l&&n.removeChild(l)}function h(e,t,n){var r=document.querySelector("head"),i=r.querySelector('script[type="application/ld+json"]');i&&r.removeChild(i);var a=document.createElement("script");a.type="application/ld+json";var o=u.getLinkedDataContent(e,t,n);a.innerHTML=JSON.stringify(o),r.appendChild(a)}function v(e,t,n){var r=document.querySelector("head"),i=r.querySelector(t);i?angular.forEach(n,function(e,t){i.setAttribute(t,e)}):!function(){var e=document.createElement("meta");angular.forEach(n,function(t,n){e.setAttribute(n,t)}),r.appendChild(e)}()}var _={},y={},b=null,w=null;return i.$on("$stateChangeStart",function(){b=[],w=a.defer()}),{urlDataCache:_,setLinkedData:h,setProperty:v,getExternalPromiseByName:p,setExternalPromise:d,setPrerenderReady:f,listenPrerenderReady:m,setHeaders:g}}]),angular.module("jw-webapp").factory("collectionSpecialRepository",["$q","translationFinished","$translate","$filter","pageRepository",function(e,t,n,r,i){function a(r){var i=[];i.push(r),"mobile"===r&&i.push(window.ionic.Platform.isIOS()?"ios":"android");var a=e.defer();return t.whenAvailable().then(function(){n("WEBAPP_SPECIALS").then(function(e){var t={};e&&(t=JSON.parse(e),angular.forEach(t,function(e,n){angular.forEach(e.items,function(e,r){var a=!1;angular.forEach(e.platform_enabled,function(e,t){e&&i.indexOf(t)!==-1&&(a=!0)}),a||t[n].items.splice(r,1)})})),a.resolve(t)})}),a.promise}return{getSpecials:a}}]),angular.module("jw-webapp").directive("collectionSpecialTracker",["jwTrackingManager",function(e){return{scope:{collectionSpecialName:"@",collectionSpecialDate:"@"},link:function(t,n){e.eventTrack(t.collectionSpecialName,{category:"special_loaded",label:t.collectionSpecialDate,nonInteraction:!0}),n.on("click",function(){e.eventTrack(t.collectionSpecialName,{category:"special_clicked",label:t.collectionSpecialDate,nonInteraction:!0})})}}}]),angular.module("jw-webapp").directive("horizontalScrollable",["$timeout","scrollSizeCalculator",function(e,t){return{restrict:"A",scope:{horizontalScrollableStyle:"@"},transclude:!0,templateUrl:"common/scroll/horizontalScrollable.tpl.html",link:function(n,r,i){function a(){o()}function o(){e(function(){u.left=0!==c.scrollLeft,u.right=c.scrollLeft<c.scrollWidth-c.offsetWidth},0)}function s(){c.scrollLeft-d<0?angular.element(c).scrollTo(0,0,350).then(o):angular.element(c).scrollTo(c.scrollLeft-d,0,350).then(o)}function l(){c.scrollLeft+d>c.scrollWidth?angular.element(c).scrollTo(c.scrollWidth,0,350).then(o):angular.element(c).scrollTo(c.scrollLeft+d,0,350).then(o)}var c=angular.element(r)[0].querySelector(".horizontal-scrollable-container"),u={left:!1,right:!1},p=t.getDimension().height,d=c.offsetWidth;n.scrollers=u,n.scrollLeft=s,n.scrollRight=l,n.loaded=a,angular.element(r.find("div").find("div")[0]).css("margin-top",-1*p+"px"),angular.element(c).css("bottom",-1*p+"px"),c&&(r.bind("mousewheel",o),a()),n.$on("$destroy",function(){r.unbind("mousewheel",o)})}}}]),angular.module("jw-webapp").factory("scrollPositionRepository",function(){var e={};return{setScrollPosition:function(t,n){e[t]=n},getScrollPosition:function(t){return e[t]&&e[t]>0?e[t]:0}}}),angular.module("jw-webapp").service("upScroller",["$timeout","$state","CONFIG","watchbarFixedTracker","$document",function(e,t,n,r,i){function a(n){e(function(){var e=t.current.data.collectionType;n===!1&&r[e]?i.scrollToElement(document.querySelector("[all-filter]"),45,400):i.scrollTop(n)},0)}this.scrollUp=a}]),angular.module("jw-webapp").factory("watchbarFixedTracker",function(){var e={};return e}),angular.module("jw-webapp").factory("storageManager",["$rootScope","$log","CONFIG",function(e,t,n){function r(){var e="__storesjs__";try{window.localStorage[e]=e,window.localStorage.getItem(e)!==e&&(c.localStorage=!1),window.localStorage.removeItem(e)}catch(t){c.localStorage=!1}u=!0}function i(){return u||r(),c.localStorage}function a(e){return i()?window.localStorage.getItem(e):null}function o(e,t){window.localStorage.setItem(e,t)}function s(e){window.localStorage.removeItem(e)}function l(){window.localStorage.clear()}var c={localStorage:!0},u=!1;return{hasLocalStorage:i,getItem:a,setItem:o,removeItem:s,clear:l}}]),angular.module("jw-webapp").factory("storageMigrator",["$log","$state","watchListRepository","filterRepository","configRepository","CONFIG","filterStateService","uuidService","storageManager",function(e,t,n,r,i,a,o,s,l){function c(){s.getUuid()}var u={execute:c};l.hasLocalStorage();return u}]),angular.module("jw-webapp").factory("storagePreferences",["$window","storageManager",function(e,t){function n(){t.hasLocalStorage()&&(p=angular.fromJson(t.getItem("jw_preferences"))||{})}function r(e){return e in p?p[e]:null}function i(e,t){null===t?delete p[e]:p[e]=t,l()}function a(){var e=r(u);return e?e:[]}function o(e){if(!s(e)){var t=a();t.push(e),i(u,t)}}function s(e){var t=a(),n=t.indexOf(e);return n>-1}function l(){t.hasLocalStorage()&&t.setItem(c,angular.toJson(p))}var c="jw_preferences",u="onboarding_tags",p={};return{getPreference:r,setPreference:i,loadPreferences:n,getOnboardingTags:a,addOnboardingTag:o,hasOnboardingTag:s}}]),angular.module("jw-webapp").factory("surveyRepository",["$q","translationFinished","inAppMessageManager","userAgentService","storagePreferences",function(e,t,n,r,i){function a(i){return r.isSeo4Ajax()?e.resolve([]):e.all([t.whenLanguageChanges,n.whenSurveysAvailable()]).then(function(t){var n=t[1],r=_(n).filter(function(e){var t=!1;"per_user"===e.frequency_capping_type&&(t=e.id in l);var n=!1;return"per_title"===e.frequency_capping_type&&i&&(n=e.id in l&&l[e.id].indexOf(i)!==-1),!t&&!n});return e.resolve(r.first())})}function o(e,t){_.isArray(l[e])||(l[e]=[]),t&&l[e].indexOf(t)===-1&&l[e].push(t),i.setPreference(s.SURVEY_SEEN_TITLES,l)}var s={SURVEY_SEEN_TITLES:"survey_seen_titles"},l=i.getPreference(s.SURVEY_SEEN_TITLES)||{};return{getSurvey:a,updateStoragePreferences:o}}]),angular.module("jw-webapp").component("survey",{bindings:{titleData:"<?",hasOriginalName:"=?",isShown:"=?",surveyType:"<?",afterLink:"@?",afterText:"@?"},templateUrl:"common/survey/survey.tpl.html",replace:!0,controller:["$rootScope","$timeout","$translate","$location","$stateParams","$q","$sce","$compile","translationFinished","jwTrackingManager","snowplowContext","titleRepository","storagePreferences","userAgentService","uuidService","inAppMessageManager","surveyRepository","jwUtilities",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m,g,h,v){function y(){h.getSurvey(L).then(function(e){switch(N.surveyType=N.surveyType?N.surveyType:"campaign",N.survey=e,N.surveyType){case"campaign":break;case"title":b();break;case"user_feedback":break;default:return console.error("Unsupported Survey Type: ",N.surveyType),!1}if(!N.survey)return!1;try{N.questions=N.survey.questions,w()}catch(n){console.error("Survey could not be loaded : "+n)}t(function(){return N.isShown=!0},800),N.hasSurvey=!!N.currentQuestion,N.hasEnded=!N.currentQuestion})}function b(){if(!N.survey)return console.log("no surveys found "),!1;e.$broadcast("promotionbanner.conceal"),C(N.survey),A(),P();var t=_(N.currentAnswers).flatten().map(function(e){return e.variations}).flatten().map(function(e){return Number(e.translation)}).value(),n={titles:{movie:t}};p.fetchByIds(n).then(function(e){return N.titles=e.data.titles.movie}),c.eventTrack(r.$$url,{category:"survey_question_asked",label:t.join(", "),nonInteraction:!0})}function w(){var e=_.find(N.questions,function(e){return e.id===N.survey.start_question_node_id});e&&C(e)}function $(e){var t=Math.floor(Math.random()*e.length);return e[t]}function x(e){e.__active=!0,P(),O([e]),c.eventTrack(r.$$url,{category:"survey_question_answered",label:e.id+" "+e.activeVariation.translation});var t=E(e);C(t)}function S(){var e=T(),t=e.length?e[0]:null,n=j(D.answers);P(),O(e),c.eventTrack(r.$$url,{category:"survey_question_answered",label:n});var i=E(t);C(i)}function E(e){return e&&e.followup_question_node_id?_.find(N.questions,function(t){return t.id===e.followup_question_node_id}):null}function T(){return _.filter(N.currentAnswers,function(e){return e.__active})}function k(){N.isShown=!1,P();var e=N.hasEnded?"survey_dismissed_finished":"survey_dismissed";c.eventTrack(r.$$url,{category:e,label:"dismissed survey "+N.survey.id}),h.updateStoragePreferences(N.survey.id,L)}function C(e){if(D.answers=[],e){var t=angular.copy(e),n=$(t.variations);"survey_end"===e.element_subtype&&n.translation.indexOf("include-for-watchlist-test")!==-1&&c.eventTrack("survey_end",{category:"tmp_abtest_experiment",label:n.translation.indexOf("</watchlist-button-group>")!==-1}),N.titleData&&n.translation&&(n.translation=[{what:"{title}","with":N.titleData.heading_1},{what:"{objectType}","with":N.titleData.object_type},{what:"{objectId}","with":N.titleData.object_id}].reduce(function(e,t){return e.split(t.what).join(t["with"])},n.translation),n.translation=o.trustAsHtml(n.translation)),t.activeVariation=n,N.currentQuestion=t,N.currentAnswers=I(N.currentQuestion),M++,A(),P();var i=j(N.currentAnswers);c.eventTrack(r.$$url,{category:"survey_question_asked",label:i,nonInteraction:!0})}e&&"survey_end"!==e.element_subtype||(N.hasEnded=!0,c.eventTrack(r.$$url,{category:"survey_finished",label:"finished survey "+N.survey.id,nonInteraction:!0}),h.updateStoragePreferences(N.survey.id,L))}function A(){u.setContext("question",{survey:N.survey,surveySession:R,sequenceNumber:M,currentQuestion:N.currentQuestion,locale:N.survey.locale,tagId:N.survey.tagId})}function P(){u.setContext("answer",{answers:N.currentAnswers})}function O(e){_.forEach(e,function(e){u.setContext("intent",{intents:e.intents})})}function j(e){return _(e).map(function(e){return e.activeVariation}).sortBy("id").reduce(function(e,t,n){return n>0&&(e=e.concat(", ")),e.concat(t.id+" "+t.translation)},"")}function I(e){var t=e.has_ordered_answers?e.answers:angular.copy(v.shuffle(e.answers));return _(t).map(function(e,t){return _.assignIn({},e,{__index:t,activeVariation:$(e.variations)})}).value()}var N=this,D={},R=m.generateUUID();N.survey={},N.currentQuestion=null,N.currentAnswers=[];var L=N.titleData?N.titleData.object_type+"-"+N.titleData.id:null,M=0;N.answer=x,N.answerMultiple=S,N.close=k,N.getSelectedAnswers=T,N.$onInit=y}]}),angular.module("jw-webapp").service("toastManager",["$translate","ngToast",function(e,t){function n(e){var n={web:"",mobile:"",duration:2e3},r=angular.extend(n,e);t.create({content:r.web,timeout:r.duration})}this.show=n}]),angular.module("jw-webapp").component("trailerZapper",{bindings:{titles:"<",bucket:"<"},template:'<div class="detail-infos__watchlist-button" style="position: absolute; right: 10px; top: -20px;">\n\t\t<a href class="" ng-click="$ctrl.openModal()" style="font-size: 13px;">\n\t\t\t<span class="glyphicon glyphicon-play-circle" style="position: relative; top: 2px; margin-right: 3px;"></span>\n\t\t\t<span translate="WEBAPP_TRAILERZAP_WATCHALL" translate-default="Watch all trailers" translate-values="{amount: $ctrl.entries.length}"></span>\n\t\t</a>\n\t</div>',controller:["$q","$rootScope","titleRepository","urlDataRepository","filterRepository","snowplowContext","jwTrackingManager","$ionicSlideBoxDelegate","$ionicModal",function(e,t,n,r,i,a,o,s,l){function c(){x=t.$new(),x.loaded=!1,x.entries=[],x.genres=i.getFilter("genres"),x.dismiss=u,x.setTitleContext=p,x.onSlideChanged=d,x.$on("youtube.player.ready",m),x.$on("modal.hidden",f),x.slideNext=y,x.slidePrev=b,e.all([].concat(_toConsumableArray(this.titles.map(function(t){return e.all([n.getTitle(t.object_type,t.id,!0),r.fetchUrlData(t.full_path,!0)])})))).then(function(e){x.entries=e.map(function(e){var t="trailers"in e[1].html_content?_.isArray(e[1].html_content.trailers)?e[1].html_content.trailers:JSON.parse(e[1].html_content.trailers):[];return{title:e[0],urlData:e[1],clips:[].concat(e[0].clips,t).map(function(e){return e.external_id})}}),v(0),x.loaded=!0}),l.fromTemplateUrl("common/trailer-zapper/trailer-zapper-modal.tpl.html",{scope:x}).then(function(e){S=e,S.show()}),o.eventTrack(this.bucket,{category:"trailerzapper_open"})}function u(){S.hide().then(function(){return S.remove()}),o.eventTrack(null,{category:"trailerzapper_close"})}function p(e){a.setContext("title",e)}function d(e){g(),p(x.entries[e].title),v(e),h(),o.eventTrack(e,{category:"trailerzapper_slide_changed"})}function f(){w.forEach(function(e){return e.destroy()}),w=[]}function m(e,t){w.push(t),t.getVideoUrl().indexOf($)!==-1&&h()}function g(){w.filter(function(e){return e.getVideoUrl().indexOf($)!==-1}).forEach(function(e){return e.stopVideo()})}function h(){w.filter(function(e){return e.getVideoUrl().indexOf($)!==-1}).forEach(function(e){return e.playVideo()})}function v(e){_(x.entries).map(function(e){return _(e.clips).first()}).pick(e).forEach(function(e){console.log("setting active",e),$=e})}function y(){s.next(),o.eventTrack("right",{category:"trailerzapper_slide_button"})}function b(){s.previous(),o.eventTrack("left",{category:"trailerzapper_slide_button"})}var w=[],$=void 0,x=void 0,S=void 0;this.openModal=c}]}),angular.module("jw-webapp").factory("translationFinished",["$q","$rootScope","$timeout",function(e,t,n){function r(){return u}function i(){l=e.defer(),u=!1,a()}function a(){c=t.$on("$translateChangeEnd",function(){n(function(){l.resolve(),u=!0,angular.forEach(p,function(e){return e()}),c()})})}function o(){return l.promise}function s(e){p.push(e),u&&e()}var l=void 0,c=void 0,u=void 0,p=[];return{init:i,isDone:r,whenAvailable:o,whenLanguageChanges:s}}]),angular.module("jw-webapp").component("loginButton",{bindings:{layout:"@"},template:'\n        <div ng-if="::($ctrl.layout === \'default\')">\n\n            <div class="detail-infos__watchlist-button" ng-if="!$ctrl.userData.loggedIn">\n            \t<a href="" ng-click="$ctrl.showModal()">\n            \t\t<span translate="WEBAPP_LOGINS_SIGNIN_CTA" translate-default="Sign in to sync WatchList"></span>\n            \t</a>\n            </div>\n            <!--\n            <div class="detail-infos__watchlist-button" ng-if="$ctrl.userData.loggedIn">\n            \t<a href="" ng-click="$ctrl.logout()">\n            \t\t<span translate="WEBAPP_LOGINS_LOGOUT" translate-default="Logout"></span>\n            \t</a>\n            </div>\n            -->\n        </div>\n\n        <div ng-if="::($ctrl.layout === \'settings\')">\n\n            <ion-list class="settings__list">\n                <ion-item class="settings__item" ng-click="$ctrl.showModal()">\n                    <i class="settings__icons glyphicon glyphicon-user"></i>\n                    <span translate="WEBAPP_LOGINS_USERACCOUNT" translate-default="User Account"></span>\n\n                    <span class="item-note">\n\t\t\t\t\t\t<span ng-if="!$ctrl.userData.loggedIn" class="login-button--sign-in" translate="WEBAPP_LOGINS_SIGNIN" translate-default="Sign in"></span>\n\t\t\t\t\t\t<span ng-if="$ctrl.userData.loggedIn" class="login-button--signed-in" translate="WEBAPP_LOGINS_LOGGEDIN" translate-default="Logged in"></span>\n                    </span>\n                </ion-item>\n            </ion-list>\n        </div>\n\n        <a href\n            ng-if="::($ctrl.layout === \'header\')"\n            class="head__extra__button head__extra__button--login"\n            ng-class="{\'head__extra__button--active\': $ctrl.userData.loggedIn, \'head__extra__button--inactive\': !$ctrl.userData.loggedIn}"\n            ng-click="$ctrl.showModal()">\n            <span class="glyphicon glyphicon-user"></span>\n        </a>\n    ',controller:["toastManager","$rootScope","loginModalManager","userRepository","$translate",function(e,t,n,r,i){function a(){n.show(this.layout)}function o(){r.logoutAll(),e.show({web:'<span class="glyphicon glyphicon-ok"></span> '+i.instant("WEBAPP_LOGINS_LOGGEDOUT_HTML"),mobile:i.instant("WEBAPP_LOGINS_LOGGEDOUT"),duration:2e3})}this.userData=r.userData,this.layout=this.layout?this.layout:"default",this.showModal=a,this.logout=o}]}),angular.module("jw-webapp").service("loginInitialStep",function(){var e={step:null};return{initial:e}}),angular.module("jw-webapp").service("loginModalManager",["$injector","$rootScope","userRepository","jwTrackingManager","loginInitialStep",function(e,t,n,r,i){function a(e){i.initial.step=n.userData.loggedIn?u.LOGGED_IN:u.LOGIN,s(e)}function o(){i.initial.step=u.INTRODUCTION,s("introduction")}function s(e){p=d.open({animation:!0,templateUrl:"login/modal/login-modal.tpl.html",controller:"LoginModal as $ctrl",size:"md",openedClass:"login__modal"}),r.eventTrack("open_login_modal",{category:"userinteraction",label:e})}function l(){p.dismiss("cancelled"),r.eventTrack("close_login_modal",{category:"userinteraction"})}function c(e,t){var i={403:"bad_token",407:"conflict"},a=t.status in i?i[t.status]:"notdefined";r.eventTrack(a,{category:"login_error",label:t.status}),n.logoutAll(),p=d.open({templateUrl:"login/modal/error/error-modal.tpl.html",controller:"LoginModal as $ctrl",size:"md",openedClass:"login__modal"})}var u={LOGIN:"login",MERGE:"merge",END_LOGGED_IN:"end_logged_in",END_LOGGED_OUT:"end_logged_out",LOGGED_IN:"logged_in",INTRODUCTION:"introduction"},p=null;t.$on("login.error",c),this.STEPS=u,this.initialStep=this.STEPS.LOGIN,this.show=a,this.close=l,this.showIntroduction=o;var d=e.get("$uibModal")}]),angular.module("jw-webapp").controller("LoginModal",["$timeout","$rootScope","userLoginManager","loginModalManager","loginProviders","userRepository","watchListRepository","jwTrackingManager","loginInitialStep","CONFIG",function(e,t,n,r,i,a,o,s,l,c){function u(e){return s.eventTrack(e,{category:"login_provider",label:a.userData.loggedIn}),h.hasError=!1,n.authenticate(e).then(function(t){return n.loginWithSync(e,t.token,t.login_id)}).then(function(e){switch(e){case n.SYNC_RESPONSES.MERGE:h.step=h.STEPS.MERGE;break;case n.SYNC_RESPONSES.CLOUD:case n.SYNC_RESPONSES.LOCAL:case n.SYNC_RESPONSES.NONE:n.syncWatchlist(e).then(function(){return g(h.STEPS.END_LOGGED_IN)})}})["catch"](function(e){h.hasError=!0,console.log("[ERROR] unsuccessful login"),s.eventTrack("failed",{category:"login_error",label:e})})}function p(){n.syncWatchlist(n.SYNC_RESPONSES.MERGE).then(function(){s.eventTrack(!0,{category:"login_merge",label:h.stats.titles}),g(h.STEPS.END_LOGGED_IN)})}function d(){s.eventTrack(!1,{category:"login_merge",label:h.stats.titles}),g(h.STEPS.END_LOGGED_IN)}function f(){r.close(),s.eventTrack("login_modal_close",{category:"userinteraction",label:h.step})}function m(){s.eventTrack(null,{category:"logout"}),a.logoutAll(),g(h.STEPS.END_LOGGED_OUT)}function g(n){h.step=n,[h.STEPS.END_LOGGED_IN,h.STEPS.END_LOGGED_OUT].indexOf(n)!==-1&&e(function(){r.close(),t.$broadcast("watchlist.reload")},650)}var h=this;h.STEPS=r.STEPS,h.providers=i.getProviders(),h.step=l.initial.step,h.hasError=!1,h.stats=o.getListStats(),h.domain=c.DOMAIN,h.userData=a.userData,h.login=u,h.merge=p,h.close=f,h.logout=m,h.dontMerge=d}]),angular.module("jw-webapp").component("loginProviders",{
bindings:{currentStep:"<",login:"&"},template:'\n\t\t<div class="login__modal__providers col-sm-8 col-sm-offset-2">\n            <div\n\t\t\t\tng-repeat="provider in ::$ctrl.providers"\n\t\t\t\tclass="detail-infos__watchlist-button"\n\t\t\t\tng-class="{\'login__modal__providers--locked\': $ctrl.processing}">\n                <a\n                    href\n                    class="login__modal__providers__item login__modal__providers__item--{{::provider.type}}"\n\t\t\t\t\tng-class="{\n\t\t\t\t\t\t\'login__modal__providers__item--linked\': $ctrl.userData.providers[provider.type],\n\t\t\t\t\t\t\'login__modal__providers__item--unlinked\': !$ctrl.userData.providers[provider.type],\n\t\t\t\t\t}"\n                    ng-click="$ctrl.loginProvider(provider.type)">\n\n\t\t\t\t\t<span class="login__modal__icon">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\tstyle="position: absolute; height: 25px; transform: translate(2px, -2px)"\n\t\t\t\t\t\tng-src="https://static.{{::$ctrl.DOMAIN}}/static/compile_jw/assets/signin-{{::provider.type}}.png"\n\t\t\t\t\t\talt="{{::provider.name}}">\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span ng-if="$ctrl.userData.providers[provider.type]">\n\t\t\t\t\t\t<span class="hidden-xs">{{::$ctrl.translations.connected[provider.name]}}</span>\n\t\t\t\t\t\t<span class="visible-xs-block">{{::provider.name}}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span ng-if="!$ctrl.userData.providers[provider.type]">\n\t\t\t\t\t\t<span>{{::$ctrl.translations.signin[provider.name]}}</span>\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class="glyphicon glyphicon-ok login__modal__connected login__modal__connected--gold"></span>\n\n\t\t\t\t</a>\n            </div>\n\n            <p ng-if="[$ctrl.STEPS.LOGIN, $ctrl.STEPS.INTRODUCTION].indexOf($ctrl.currentStep) !== -1" class="login__modal__subtext">\n\t\t\t\t<span translate="WEBAPP_LOGINS_NEVERASK" translate-default="We will never post without asking."></span>\n\t\t\t</p>\n\n        </div>\n        <div class="clearfix"></div>\n\t',controller:["loginProviders","userRepository","loginModalManager","$q","CONFIG","translationFinished","$translate",function(e,t,n,r,i,a,o){function s(e){l.processing=!0,r.when(this.login({provider:e}))["finally"](function(){return l.processing=!1})}var l=this;l.providers=e.getProviders(),l.processing=!1,l.userData=t.userData,l.STEPS=n.STEPS,l.DOMAIN=i.DOMAIN,l.loginProvider=s,a.whenAvailable().then(function(){l.translations=l.providers.reduce(function(e,t){return e.signin[t.name]=o.instant("WEBAPP_LOGINS_SIGNIN_WITH_PROVIDER",{provider:t.name})||"Sign in with "+t.name,e.connected[t.name]=o.instant("WEBAPP_LOGINS_CONNECTEDWITH_PROVIDER",{provider:t.name})||"Connected with "+t.name,e},{signin:{},connected:{}})})}]}),angular.module("jw-webapp").config(["$authProvider","$injector","CONFIG",function(e,t,n){var r=!1,i={stage:"794243977319785",prod:"794243977319785"};e.facebook({clientId:r?i.stage:i.prod,url:n.USER_API+"/auth/facebook"}),e.google({clientId:"532718895899-fhbuhnd9nsrae0ivadejq35vsr2sgr0l.apps.googleusercontent.com",url:n.USER_API+"/auth/google"}),e.twitter({url:n.USER_API+"/auth/twitter",redirectUri:n.USER_API,type:"1.0"})}]),angular.module("jw-webapp").factory("mobileBannerService",["storageManager","$window",function(e,t){function n(){return l}function r(e){s[c.promobannerHidden]=e,a()}function i(e){l.isActive=e}function a(){e.hasLocalStorage()&&e.setItem(o,JSON.stringify(s)),l.isHidden=s[c.promobannerHidden]}var o="jw_web",s={},l={isHidden:!1,isActive:!1},c={promobannerHidden:"promobannerHidden"};return e.hasLocalStorage()&&(e.getItem(o)?(s=JSON.parse(e.getItem(o)),s[c.promobannerHidden]=c.promobannerHidden in s&&s[c.promobannerHidden]):s[c.promobannerHidden]=!1,a(),l.isHidden=s[c.promobannerHidden]),{getState:n,setHidden:r,setActive:i}}]),angular.module("jw-webapp").directive("mobileBanner",["$window","jwTrackingManager","$translate","$rootScope","translationFinished","uuidService","$compile","platformTracker","mobileBannerService","$stateParams","$timeout","launchFinished",function(e,t,n,r,i,a,o,s,l,c,u,p){return{scope:{},restrict:"E",transclude:!0,templateUrl:"platform/web/mobile-banner.tpl.html",link:function(e,c,u){function d(e){return"{"+e+"}"}function f(){g("clickout",{category:"promotionbanner"})}function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.setHidden(!0),r.$broadcast("promotionbanner.hidden"),e||g("hide_click",{category:"promotionbanner"})}function g(e,n){p.listen().then(function(){return t.eventTrack(e,n)})}s.getValues().mobile&&angular.element(document.querySelector('[ui-view="head"]')).addClass("is-mobile"),e.promoClick=f,e.promoHide=m,e.available=s.getValues(),e.bannerState=l.getState(),a.getUuid().then(function(t){return e.jwId=t}),i.whenAvailable().then(function(){var t=["campaign_survey","uct_cs","uct_n"].filter(function(e){return location.search.indexOf(e)!==-1}).length>0;t&&m(!0),l.getState().isHidden||n("WEBAPP_PROMOTIONBANNER").then(function(t){if(t){t=t.replace(/\{.+\}/gi,d);var n=o(t)(e);angular.element(c.find("div")[0]).html(""),angular.element(angular.element(c.find("div")[0])).append(n),g("seen",{category:"promotionbanner",nonInteraction:!0})}})}),e.$on("promotionbanner.conceal",function(){l.getState().isHidden||(m(!0),g("external_hide",{category:"promotionbanner",nonInteraction:!0}))})}}}]),angular.module("jw-webapp").component("scrollingTracker",{controller:["$state","$rootScope","$window","$q","$timeout","jwTrackingManager","viewport","experimentRepository",function(e,t,n,r,i,a,o,s){function l(){u.filter(function(e){return!e.tracked}).filter(function(e){return e.position<window.scrollY+window.innerHeight}).forEach(function(e){e.tracked=!0,a.eventTrack(e.section,{category:"scrolldepth",label:e.label,nonInteraction:!0})})}function c(){var e=r.defer();return u=[],i(function(){[].forEach.call(document.querySelectorAll("[data-section]"),function(e,t){var n=angular.element(e)[0];[{label:"start",position:n.getBoundingClientRect().top},{label:"end",position:n.getBoundingClientRect().top+n.getBoundingClientRect().height}].map(function(t){return t.section=angular.element(e).attr("data-section"),t.tracked=!1,t}).forEach(function(e){return u.push(e)})}),e.resolve()},100),e.promise}var u=[],p="app.detail.movies"===e.current.name&&"smartphone"===o()&&s.isSeoTraffic();p&&(angular.element(n).bind("scroll",l),c().then(l))}]}),angular.module("jw-webapp").component("creditsChooser",{bindings:{credits:"<",fetchingState:"="},template:'\n        <div class="credits-chooser">\n            <div class="btn-group" style="width: 100%;" ng-class="{\n                \'credits-chooser--condensed\': $ctrl.totalGroups >= 3,\n\t\t\t\t\'credits-chooser--fetching\': $ctrl.fetchingState.isFetching,\n            }">\n                <button\n                    type="button"\n                    class="additional-filter__button btn btn-default"\n                    ng-click="$ctrl.togglePersonFilter($event, null)"\n                    ng-class="{\n                        active: $ctrl.filteredRole.filter === null,\n                        \'credits-chooser--condensed\': $ctrl.totalGroups >= 3\n                    }">\n                    <span translate="WEBAPP_PERSONS_ALL" translate-default="All"></span> <span class="credits-chooser--amount">({{$ctrl.totalAmount}})</span>\n                </button>\n                <button\n                    type="button"\n                    ng-repeat="group in $ctrl.groups"\n                    ng-if="$ctrl.credits[group].length"\n                    ng-click="$ctrl.togglePersonFilter($event, group)"\n                    ng-class="{\n                        active: $ctrl.filteredRole.filter === group\n                    }"\n                    class="additional-filter__button btn btn-default">\n                    <span translate="WEBAPP_PERSONS_{{::group}}" translate-default="{{::group}}"></span> <span class="credits-chooser--amount">({{$ctrl.credits[group].length}})</span>\n                </button>\n            </div>\n        </div>\n    ',controller:["personFilterRepository","jwTrackingManager","$rootScope",function(e,t,n){function r(n,r){n.preventDefault(),n.stopPropagation(),e.data.filter=r,t.eventTrack(r,{category:"persons_detail_role"})}function i(){this.totalAmount=o(this.credits),this.totalGroups=s(this.credits)}function a(){Object.keys(this.credits).indexOf(e.data.filter)!==-1&&0!==this.credits[e.data.filter].length||(e.data.filter=null),this.totalGroups=s(this.credits),this.totalAmount=o(this.credits)}function o(e){return _(e).values().flatten().value().reduce(function(e,t){return e.indexOf(t)===-1&&e.push(t),e},[]).length}function s(e){return Object.keys(l.credits).map(function(e){return l.credits[e].length>0}).filter(function(e){return e}).length}var l=this;this.groups=Object.keys(e.GROUPS),this.filteredRole=e.data,this.togglePersonFilter=r,this.$onInit=i,this.$onChanges=a}]}),angular.module("jw-webapp").service("personFilterRepository",["$rootScope",function(e){function t(e){return!n.data.filter||e.credits.map(function(e){return e.role}).filter(function(e){return n.GROUPS[n.data.filter].indexOf(e)!==-1}).length>0}var n=this;n.data={filter:null},n.GROUPS={STARRED:["ACTOR","VOICE","CAMEO","SPECIAL_GUEST"],WRITTEN:["AUTHOR","WRITER","CO_WRITER","STORY","MUSIC"],PRODUCED:["PRODUCER","EXECUTIVE_PRODUCER","PRODUZENT","CO_PRODUCER","CO_EXECUTIVE_PRODUCER"],DIRECTED:["DIRECTOR","SPECIAL_GUEST_DIRECTOR"]},n.filterRole=t}]),angular.module("jw-webapp").component("personDescriptionExpander",{bindings:{paragraphes:"=",isOpen:"<"},template:'\n        <div class="person-description-expander text-center" ng-if="$ctrl.paragraphes">\n            <span\n                class="glyphicon person-description-expander__toggler"\n                ng-class="{\'glyphicon-chevron-up\': $ctrl.isOpen, \'glyphicon-chevron-down\': !$ctrl.isOpen}">\n            </span>\n\n            <div class="container person-description-expander__container" ng-if="$ctrl.isOpen">\n                <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 text-justify">\n                    <p ng-repeat="p in $ctrl.paragraphes">\n                        {{::p}}\n                    </p>\n                </div>\n            </div>\n        </div>\n    '}),angular.module("jw-webapp").component("personDetail",{bindings:{person:"<"},template:'\n        <div ng-style="$ctrl.person.backdropStyle" class="search__person--backdrop"></div>\n        <div class="search__person--gradient"></div>\n        <div class="max-width-padding clearfix person-detail" ng-if="$ctrl.person" ng-click="$ctrl.toggle()">\n            <div class="row" style="margin-right: 0;">\n                <div class="text-center">\n                    <img\n                        class="img-responsive poster person-detail--poster"\n                        alt="{{$ctrl.person.full_name}}"\n                        ng-src="{{ ($ctrl.person.portrait) ? ($ctrl.person.portrait | thumborProxy:\'portrait\') : $ctrl.anonPortrait }}"\n                        fader-on-load />\n                </div>\n                <div class="text-center">\n                    <h2 class="search__person--name">{{$ctrl.person.full_name}}</h2>\n                    <p\n                        class="search__person--year"\n                        ng-if="$ctrl.person.birthYear"\n                        translate="WEBAPP_PERSONS_BORN_IN"\n                        translate-values="{year: $ctrl.person.birthYear}">\n                    </p>\n                </div>\n\n                <person-description-expander\n                    paragraphes="$ctrl.person.short_description_paragraphes"\n                    is-open="$ctrl.isOpen">\n                </person-description-expander>\n\n            </div>\n        </div>\n    ',controller:["CONFIG","jwTrackingManager",function(e,t){function n(){this.isOpen=!this.isOpen,t.eventTrack(this.person.full_name,{category:"persons_description",label:this.isOpen})}this.anonPortrait="https://static."+e.DOMAIN+"/static/compile_jw/assets/no-actor.png",this.isOpen=!1,this.toggle=n}]}),angular.module("jw-webapp").directive("backdrop",["$timeout","swipeTracker",function(e,t){return{scope:{backdrops:"=",fullPath:"=",titleData:"=",startSlide:"@",speed:"@",auto:"@",continuous:"@",disableScrolling:"@",stopPropagation:"@"},restrict:"A",templateUrl:"title/detail/backdrop.tpl.html",link:function(e,n,r){function i(n,r){function i(){v=w.children,b=v.length,v.length<2&&(r.continuous=!1),_=new Array(v.length),y=n.getBoundingClientRect().width||n.offsetWidth,w.style.width=v.length*y+"px";for(var e=v.length;e--;){var t=v[e];t.style.width=y+"px",t.setAttribute("data-index",e),h.transitions&&(t.style.left=e*-y+"px",c(e,$>e?-y:$<e?y:0,0))}r.continuous&&h.transitions&&(c(s($-1),-y,0),c(s($+1),y,0)),h.transitions||(w.style.left=$*-y+"px"),n.style.visibility="visible"}function a(){e.preload(),r.continuous?l($-1):$&&l($-1)}function o(){e.preload(),r.continuous?l($+1):$<v.length-1&&l($+1)}function s(e){return(v.length+e%v.length)%v.length}function l(t,n){if(e.preload(),$!=t){if(h.transitions){var i=Math.abs($-t)/($-t);if(r.continuous){var a=i;i=-_[s(t)]/y,i!==a&&(t=-i*v.length+t)}for(var o=Math.abs($-t)-1;o--;)c(s((t>$?t:$)-o-1),y*i,0);t=s(t),c($,y*i,n||x),c(t,0,n||x),r.continuous&&c(s(t-i),-(y*i),0)}else t=s(t),f($*-y,t*-y,n||x);$=t,g(r.callback&&r.callback($,v[$]))}}function c(e,t,n){u(e,t,n),_[e]=t}function u(e,t,n){var r=v[e],i=r&&r.style;i&&(i.webkitTransitionDuration=i.MozTransitionDuration=i.msTransitionDuration=i.OTransitionDuration=i.transitionDuration=n+"ms",i.webkitTransform="translate("+t+"px,0)translateZ(0)",i.msTransform=i.MozTransform=i.OTransform="translateX("+t+"px)")}function p(){S=setTimeout(o,T)}function d(){T=0,clearTimeout(S)}function f(e,t,n){if(!n)return void(w.style.left=t+"px");var i=+new Date,a=setInterval(function(){var o=+new Date-i;return o>n?(w.style.left=t+"px",T&&p(),r.transitionEnd&&r.transitionEnd.call(event,$,v[$]),void clearInterval(a)):void(w.style.left=(t-e)*(Math.floor(o/n*100)/100)+e+"px")},4)}var m=function(){},g=function(e){setTimeout(e||m,0)},h={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(document.createElement("swipe"))};if(n){var v,_,y,b,w=n.children[0];r=r||{};var $=parseInt(r.startSlide,10)||0,x=r.speed||300;r.continuous=void 0===r.continuous||r.continuous;var S,E,T=r.auto||0,k={},C={},A={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":g(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":g(this.transitionEnd(e));break;case"resize":g(i)}r.stopPropagation&&e.stopPropagation()},start:function(e){var t=e.touches[0];k={x:t.pageX,y:t.pageY,time:+new Date},E=void 0,C={},w.addEventListener("touchmove",this,!1),w.addEventListener("touchend",this,!1)},move:function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale)){r.disableScroll&&e.preventDefault();var t=e.touches[0];C={x:t.pageX-k.x,y:t.pageY-k.y},"undefined"==typeof E&&(E=!!(E||Math.abs(C.x)<Math.abs(C.y))),E||(e.preventDefault(),d(),r.continuous?(u(s($-1),C.x+_[s($-1)],0),u($,C.x+_[$],0),u(s($+1),C.x+_[s($+1)],0)):(C.x=C.x/(!$&&C.x>0||$==v.length-1&&C.x<0?Math.abs(C.x)/y+1:1),u($-1,C.x+_[$-1],0),u($,C.x+_[$],0),u($+1,C.x+_[$+1],0)))}},end:function(e){var t=+new Date-k.time,n=Number(t)<250&&Math.abs(C.x)>20||Math.abs(C.x)>y/2,i=!$&&C.x>0||$==v.length-1&&C.x<0;r.continuous&&(i=!1);var a=C.x<0;E||(n&&!i?(a?(r.continuous?(c(s($-1),-y,0),c(s($+2),y,0)):c($-1,-y,0),c($,_[$]-y,x),c(s($+1),_[s($+1)]-y,x),$=s($+1)):(r.continuous?(c(s($+1),y,0),c(s($-2),-y,0)):c($+1,y,0),c($,_[$]+y,x),c(s($-1),_[s($-1)]+y,x),$=s($-1)),r.callback&&r.callback($,v[$])):r.continuous?(c(s($-1),-y,x),c($,0,x),c(s($+1),y,x)):(c($-1,-y,x),c($,0,x),c($+1,y,x))),w.removeEventListener("touchmove",A,!1),w.removeEventListener("touchend",A,!1)},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)==$&&(T&&p(),r.transitionEnd&&r.transitionEnd.call(e,$,v[$]))}};return T&&p(),h.addEventListener?(h.touch&&w.addEventListener("touchstart",A,!1),h.transitions&&(w.addEventListener("webkitTransitionEnd",A,!1),w.addEventListener("msTransitionEnd",A,!1),w.addEventListener("oTransitionEnd",A,!1),w.addEventListener("otransitionend",A,!1),w.addEventListener("transitionend",A,!1)),window.addEventListener("resize",A,!1)):window.onresize=function(){i()},{setup:function(){i(),t.setMax(e.backdrops.length)},slide:function(e,n){d(),$!==e&&t.track({target:"position",to:e}),l(e,n)},prev:function(){d(),a(),t.track({target:"prev",to:null})},next:function(){d(),o(),t.track({target:"next",to:null})},stop:function(){d()},getPos:function(){return $},getNumSlides:function(){return b},kill:function(){if(d(),w.style.width="",w.style.left="",v&&v.length>0)for(var e=v.length;e--;){var t=v[e];t.style.width="",t.style.left="",h.transitions&&u(e,0,0)}h.addEventListener?(w.removeEventListener("touchstart",A,!1),w.removeEventListener("webkitTransitionEnd",A,!1),w.removeEventListener("msTransitionEnd",A,!1),w.removeEventListener("oTransitionEnd",A,!1),w.removeEventListener("otransitionend",A,!1),w.removeEventListener("transitionend",A,!1),window.removeEventListener("resize",A,!1)):window.onresize=null}}}}var a=new i(angular.element(n).children()[0],{startSlide:e.startSlide,speed:e.speed,auto:"true"==e.auto,continuous:"true"==e.continuous,disableScroll:"true"==e.disableScroll,stopPropagation:"true"==e.stopPropagation,callback:function(t,n){1===t&&e.preload()},transitionEnd:function(t,n){e.$applyAsync()}});e.imagesToLoad=2,e.loadingAllImages=!1,e.preload=function(){e.loadingAllImages=!0},e.next=a.next,e.prev=a.prev,e.getPos=a.getPos,e.getNumSlides=a.getNumSlides,e.slide=a.slide,e.setup=a.setup,e.range=function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n},e.$on("$destroy",function(){a.kill(),a=null})}}}]),angular.module("jw-webapp").directive("clip",["$timeout","$filter","jwTrackingManager","$rootScope",function(e,t,n,r){return{scope:{clips:"=",maxClips:"=?",targetTitle:"="},restrict:"A",templateUrl:"title/detail/clip.directive.tpl.html",link:function(e,t,i){function a(e){e.active=!0}var o=[];e.clips=angular.isObject(e.clips)||"undefined"==typeof e.clips?e.clips:JSON.parse(e.clips),e.playerVars={iv_load_policy:3,modestbranding:1,showinfo:0,autohide:1},e.maxClips||(e.maxClips=4),e.play=a,e.error=function(){console.log("error")},angular.forEach([{eventName:"youtube.player.buffering",category:"youtube_buffering"},{eventName:"youtube.player.paused",category:"youtube_paused"},{eventName:"youtube.player.playing",category:"youtube_playing"}],function(t){e.$on(t.eventName,function(i,a){n.eventTrack(e.targetTitle.object_type,{category:t.category,label:e.targetTitle.title}),"youtube.player.playing"===t.eventName&&o.indexOf(a.id)===-1&&(o.push(a.id),n.eventTrack(e.targetTitle.object_type,{category:"youtube_started",label:e.targetTitle.title}),r.$broadcast("youtube.player.playing.once"))})}),e.$on("youtube.player.ready",function(e,t){t.playVideo()});var s=r.$on("$stateChangeStart",function(t,n){angular.forEach(e.clips,function(e){e.active=!1}),s()})}}}]),angular.module("jw-webapp").directive("detailInfo",["configRepository","CONFIG","filterRepository","$state","personFilterRepository","jwTrackingManager","featureFlagProvider","scoring",function(e,t,n,r,i,a,o,s){return{scope:{info:"=",allGenres:"=",mode:"@?"},restrict:"E",templateUrl:"title/detail/detail-info.tpl.html",link:function(t,l,c){function u(){t.genres=_.filter(t.allGenres,function(e){return t.info.genre_ids&&t.info.genre_ids.indexOf(e.id)!==-1}),t.scoring=s.getScorings(t.info.scoring),t.info.runtime?(t.runtime.hours=parseInt(t.info.runtime/60,10),t.runtime.minutes=t.info.runtime-60*t.runtime.hours):t.runtime=!1}function p(t){var i=angular.extend({},n.getAllFilterStates("search"),{locale:e.config.webLocale,q:t.name,person_id:t.person_id});a.eventTrack(t.name,{category:"persons_title_director_click",label:t.person_id}),r.go("app.search.list",i)}function d(e){a.eventTrack("rating_click",{category:"userinteraction",label:e.name})}t.webLocale=e.config.webLocale,t.genres=[],t.scoring=[],t.runtime={hours:0,minutes:0},t.directors=t.info.credits.filter(function(e){return i.GROUPS.DIRECTED.indexOf(e.role)!==-1}),t.ratingCount=t.info.scoring.length,t.enabledFeatures=o.enabledFeatures,t.goToPerson=p,t.trackRatingClick=d,u()}}}]),angular.module("jw-webapp").factory("infoTextHelper",["CONFIG",function(e){function t(t,n,r,i){function a(e){return e in p&&p[e].indexOf(r)!==-1}function o(e,t,n){var r="";return c[e].length>0&&(r+=t+" ",angular.forEach(c[e],function(e){r+=d[e]+", "}),r=r.slice(0,-2),n&&(r+=" "+n)),r}function s(e,t,r,o){var s="",l="- Season";a("en")&&(l="- Season"),a("de")&&(l="- Staffel"),a("pt")&&(l="- Temporada"),a("fr")&&(l="- Saison"),a("es")&&(l="- Temporada"),a("ja")&&(l="- "),a("ko")&&(l="- ");var u={start:a("ja")?"":'"',end:a("ja")?"":'"'};return"none"==e?s+="show_season"==n.object_type&&i?t+(" "+u.start)+i.title+" "+l+" "+n.season_number+(u.end+" ")+r:t+(" "+u.start)+n.title+(u.end+" ")+r:c[e].length>0&&(s+="show_season"==n.object_type&&i?t+(" "+u.start)+i.title+" "+l+" "+n.season_number+(u.end+" ")+r:t+(" "+u.start)+n.title+(u.end+" ")+r,s+=" ",angular.forEach(c[e],function(e){s+=d[e]+", "}),s=s.slice(0,-2),o&&(s+=" "+o)),s}var l="",c={flatrate:[],rent:[],buy:[],ads:[],free:[],cinema:[]},u={flatrate:!1,rent:!1,buy:!1,ads:!1,free:!1,cinema:!1},p={};angular.forEach(e.WEBLOCALES,function(e,t){var n=e.split("_")[0];n in p||(p[n]=[]),p[n].push(t)});var d={},f=i?i.offers:n.offers;return angular.forEach(f,function(e,t){var n=e.monetization_type,r=e.provider_id;u[n]=!0,n in c&&c[n].indexOf(r)===-1&&c[n].push(e.provider_id)}),angular.forEach(t,function(e,t){d[e.id]=e.clear_name}),u.flatrate?u.rent?u.buy?u.ads?(a("en")&&(l+=s("flatrate","Currently you are able to watch","streaming on",""),l+=o("ads"," or for free with ads on",""),l+=". ",l+=s("rent","It is also possible to rent","on","online"),l+=o("buy"," and to download it on",""),l+=". "),a("de")&&(l+=s("flatrate","Du kannst","im Abo bei",""),l+=o("ads"," oder bei","kostenlos mit Werbeunterbrechungen im Stream anschauen"),l+=". ",l+=s("rent","Zustzlich ist","noch bei","online ausleihbar"),l+=o("buy"," und steht bei","als Download zur Verfgung"),l+=". "),a("pt")&&(l+=s("flatrate","Voc pode assistir","com assinatura no",""),l+=o("ads"," ou no","gratuitamente com comerciais nos intervalos"),l+=". ",l+=s("rent","","ainda est disponvel no","para alugar online"),l+=o("buy"," ou no","para comprar o Download"),l+=". "),a("fr")&&(l+=s("flatrate","Actuellement, vous tes capable de regarder","streaming sur",""),l+=o("ads"," ou gratuitement avec publicits sur",""),l+=". ",l+=s("rent","Il est galement possible de louer","sur","en ligne"),l+=o("buy"," et de tlcharger sur",""),l+=". "),a("es")&&(l+=s("flatrate","Actualmente, usted es capaz de ver","streaming en",""),l+=o("ads"," o forma gratuita con anuncios en",""),l+=". ",l+=s("rent","Por lo tanto, es posible alquilar","en","online"),l+=o("buy"," y para comprarlo en","")),a("ja")&&(l+=s("flatrate",""+n.title+"","",""),l+=o("ads","",""),l+=o("rent","",""),l+=o("buy","",""),l+=""),a("ko")&&(l+=o("flatrate"," ",' "'+n.title+'"   . '),l+=o("ads","   ","   . "),l+=o("rent"," ","   "),l+=o("buy","","    . "))):(a("en")&&(l+=s("flatrate","Currently you are able to watch","streaming on",""),l+=". ",l+=s("buy","It is also possible to buy","on","as download"),l+=o("rent"," or rent it on","online"),l+=". "),a("de")&&(l+=s("flatrate","Du kannst","bei","legal im Stream anschauen"),l+=o("rent",", bei","online leihen"),l+=o("buy"," oder auch bei","als Download kaufen"),l+=". "),a("pt")&&(l+=s("flatrate","Voc pode assistir","no","legalmente online"),l+=o("rent",", no","alugar online"),l+=o("buy"," ou tambm no","para comprar o Download"),l+=". "),a("fr")&&(l+=s("flatrate","Actuellement, vous tes capable de regarder","streaming sur",""),l+=". ",l+=s("rent","Il est galement possible de louer","sur","en ligne"),l+=o("buy"," et de tlcharger sur",""),l+=". "),a("es")&&(l+=s("flatrate","Actualmente, usted es capaz de ver","streaming en",""),l+=". ",l+=s("rent","Por lo tanto, es posible alquilar","en","como descarga online"),l+=o("buy"," y para comprarlo en",""),l+=". "),a("ja")&&(l+=s("flatrate",""+n.title+"","",""),l+=o("rent","",""),l+=o("buy","",""),l+=""),a("ko")&&(l+=o("flatrate"," ",' "'+n.title+'"   . '),l+=o("rent"," ","   "),l+=o("buy"," ","    ."))):u.ads?(a("en")&&(l+=s("flatrate","Currently you are able to watch","streaming on",""),l+=o("ads"," or for free with ads on",""),l+=". ",l+=s("rent","It is also possible to rent","on","online"),l+=". "),a("de")&&(l+=s("flatrate","Du kannst","im Abo bei",""),l+=o("ads","oder bei","kostenlos mit Werbeunterbrechungen im Stream anschauen"),l+=". ",l+=s("rent","Zustzlich ist","noch bei","online ausleihbar"),l+=". "),a("pt")&&(l+=s("flatrate","Voc pode assistir","com assinatura no",""),l+=o("ads"," ou no","gratuitamente com comerciais nos intervalos"),l+=". ",l+=s("rent","","Ainda est disponvel no","para alugar online"),l+=". "),a("fr")&&(l+=s("flatrate","Actuellement, vous tes capable de regarder","streaming sur",""),l+=o("ads","ou gratuitement avec publicits sur",""),l+=". ",l+=s("rent","Il est galement possible de louer","sur","en ligne"),l+=". "),a("es")&&(l+=s("flatrate","Actualmente, usted es capaz de ver","streaming en",""),l+=o("ads"," o forma gratuita con anuncios en",""),l+=". ",l+=s("rent","Por lo tanto, es posible comprarlo en","en","online"),l+=". "),a("ja")&&(l+=s("flatrate",""+n.title+"","",""),l+=o("ads","",""),l+=o("rent","",""),l+=""),a("ko")&&(l+=o("flatrate"," ",' "'+n.title+'"   . '),l+=o("ads","   ","   "),l+=o("rent"," ","  ."))):(a("en")&&(l+=s("flatrate","Currently you are able to watch","streaming on",""),l+=o("rent"," or rent it on","online"),l+=". "),a("de")&&(l+=s("flatrate","Du kannst","bei","legal im Stream anschauen"),l+=o("rent"," oder bei","online leihen"),l+=". "),a("pt")&&(l+=s("flatrate","Voc pode assistir","com assinatura no",""),l+=o("rent"," ou no","alugando online"),l+=". "),a("fr")&&(l+=s("flatrate","Actuellement, vous tes capable de regarder","streaming sur",""),l+=o("rent"," ou de louer sur","en ligne"),l+=". "),a("es")&&(l+=s("flatrate","Actualmente, usted es capaz de ver","streaming en",""),l+=o("rent"," o para alquilar en","online"),l+=". "),a("ja")&&(l+=s("flatrate",""+n.title+"","",""),l+=o("rent","",""),l+=""),a("ko")&&(l+=o("flatrate"," ",' "'+n.title+'"   '),l+=o("rent"," ","  ."))):u.buy?u.ads?(a("en")&&(l+=s("flatrate","Currently you are able to watch","streaming on",""),l+=o("ads"," or for free with ads on",""),l+=". ",l+=s("buy","It is also possible to buy","as download on",""),l+=". "),a("de")&&(l+=s("flatrate","Du kannst","im Abo bei",""),l+=o("ads","oder bei","kostenlos mit Werbeunterbrechungen im Stream anschauen"),l+=". ",l+=s("buy","Zustzlich ist","noch bei","als Download zum Kaufen verfgbar"),l+=". "),a("pt")&&(l+=s("flatrate","Voc pode assistir","com assinatura no",""),l+=o("ads"," ou no","gratuitamente com comerciais nos intervalos"),l+=". ",l+=s("buy","","ainda est disponvel no","para comprar o Download"),l+=". "),a("fr")&&(l+=s("flatrate","Actuellement, vous tes capable de regarder","streaming sur",""),l+=o("ads","ou gratuitement avec publicits sur",""),l+=". ",l+=s("buy","Il est galement possible d`acheter","en tlchargement sur",""),l+=". "),a("es")&&(l+=s("flatrate","Actualmente, usted es capaz de ver","streaming en",""),l+=o("ads"," o forma gratuita con anuncios en",""),l+=". ",l+=s("buy","Por lo tanto, es posible comprarlo","como descarga en",""),l+=". "),a("ko")&&(l+=o("flatrate"," ",' "'+n.title+'"   . '),l+=o("ads","   ","    "),l+=o("buy","","    . "))):(a("en")&&(l+=s("flatrate","Currently you are able to watch","streaming on",""),l+=o("buy"," or buy it as download on",""),l+=". "),a("de")&&(l+=s("flatrate","Du kannst","bei","legal im Stream anschauen"),l+=o("buy"," oder bei","als Download kaufen"),l+=". "),a("pt")&&(l+=s("flatrate","Voc pode assistir","no","legalmente online"),l+=o("buy"," ou no","para comprar o Download"),l+=". "),a("fr")&&(l+=s("flatrate","Actuellement, vous tes capable de regarder","streaming sur",""),l+=o("buy"," ou acheter en tlchargement sur",""),l+=". "),a("es")&&(l+=s("flatrate","Actualmente, usted es capaz de ver","streaming en",""),l+=o("buy"," o comprarlo como descarga en",""),l+=". "),a("ja")&&(l+=s("flatrate",""+n.title+"","",""),l+=o("buy","",""),l+=""),a("ko")&&(l+=o("flatrate"," ",' "'+n.title+'"    '),l+=o("buy","","    ."))):u.ads?(a("en")&&(l+=s("flatrate","Currently you are able to watch","streaming on",""),l+=o("ads"," or for free with ads on",""),l+=". "),a("de")&&(l+=s("flatrate","Du kannst","im Abo bei",""),l+=o("ads"," oder bei","kostenloas mit Werbeunterbrechungen im Stream anschauen"),l+=". "),a("pt")&&(l+=s("flatrate","Voc pode assistir","com assinatura no",""),l+=o("ads"," ou no","gratuitamente com comerciais nos intervalos"),l+=". "),a("fr")&&(l+=s("flatrate","Actuellement, vous tes capable de regarder","streaming sur",""),l+=o("ads","ou gratuitement avec publicits sur",""),l+=". "),a("es")&&(l+=s("flatrate","Actualmente, usted es capaz de ver","streaming en",""),l+=o("ads"," o forma gratuita con anuncios en",""),l+=". "),a("ja")&&(l+=s("flatrate",""+n.title+"","",""),l+=o("ads"," ",""),l+=""),a("ko")&&(l+=o("flatrate"," ",' "'+n.title+'"    '),l+=o("ads","   ","   ."))):(a("en")&&(l+=s("flatrate","Currently you are able to watch","streaming on",""),l+=". "),a("de")&&(l+=s("flatrate","Du kannst","bei","legal im Stream anschauen"),l+=". "),a("pt")&&(l+=s("flatrate","Voc pode assistir","no","em Stream legalmente"),l+=". "),a("fr")&&(l+=s("flatrate","Actuellement, vous tes capable de regarder","streaming sur",""),l+=". "),a("es")&&(l+=s("flatrate","Actualmente, usted es capaz de ver","streaming en",""),l+=". "),a("ja")&&(l+=s("flatrate",""+n.title+"","",""),l+=""),a("ko")&&(l+=o("flatrate"," ",' "'+n.title+'"   .'))):u.rent?u.buy?u.ads?(a("en")&&(l+=s("ads","Currently you are able to watch","streaming on","for free with ads"),l+=o("buy"," or buy it as download on",""),l+=". ",l+=s("rent","It is also possible to rent","on","online")),a("de")&&(l+=s("ads","Du kannst","legal bei","kostenlos mit Werbeunterbrechungen im Stream anschauen"),l+=". ",l+=s("rent","Zustzlich ist","noch bei","online ausleihbar"),l+=o("buy"," und steht bei","als Download zur Verfgung"),l+=". "),a("pt")&&(l+=s("ads","Voc pode assistir","legalmente no","gratuitamente com comerciais nos intervalos"),l+=o("buy"," ou no","para compar o Download"),l+=". ",l+=s("rent","","Ainda est disponvel no","para alugar online")),a("fr")&&(l+=s("ads","Actuellement, vous tes capable de regarder","streaming sur",""),l+=o("buy"," ou gratuitement avec publicits sur",""),l+=". ",l+=s("rent","Il est galement possible de louer","sur","en ligne"),l+=". "),a("es")&&(l+=s("ads","Actualmente, usted es capaz de ver","forma gratuita con anuncios",""),l+=o("buy"," o comprarlo como descarga en",""),l+=". ",l+=s("rent","Por lo tanto, es posible alquilar","en","online"),
l+=". "),a("ja")&&(l+=s("ads",""+n.title+"","",""),l+=o("buy","",""),l+=o("rent","",""),l+=""),a("ko")&&(l+=o("ads"," ",'   "'+n.title+'"    . '),l+=o("buy"," ","   "),l+=o("rent","","    ."))):(a("en")&&(l+=s("buy","You can buy","on","as download"),l+=o("rent"," or rent it on","online"),l+=". "),a("de")&&(l+=s("rent","Du kannst","bei","online leihen"),l+=o("buy"," oder bei","als Download kaufen"),l+=". "),a("pt")&&(l+=s("buy","Voc pode assistir","no","para comprar o Download"),l+=o("rent"," ou no","alugando online"),l+=". "),a("fr")&&(l+=s("rent","Il est possible de louer","sur","en ligne"),l+=o("buy"," et de tlcharger sur",""),l+=". "),a("es")&&(l+=s("rent","Es posible alquilar","en","online"),l+=o("buy"," y comprarlo como descarga en",""),l+=". "),a("ja")&&(l+=s("rent",""+n.title+"","",""),l+=o("buy","",""),l+=""),a("ko")&&(l+=o("rent"," ",' "'+n.title+'"   '),l+=o("rent","","    ."))):u.ads?(a("en")&&(l+=s("ads","Currently you are able to watch","streaming on","for free with ads"),l+=o("rent"," or rent it on","online"),l+=". "),a("de")&&(l+=s("ads","Du kannst","legal bei","kostenlos mit Werbeunterbrechungen im Stream anschauen"),l+=o("rent"," oder bei","online leihen"),l+=". "),a("pt")&&(l+=s("ads","Voc pode assistir","legalmente no","gratuitamente com comerciais nos intervalos"),l+=o("rent"," ou no","alugando online"),l+=". "),a("fr")&&(l+=s("ads","Actuellement, vous tes capable de regarder","streaming gratuitement avec publicits sur",""),l+=o("rent"," ou de louer sur","en ligne"),l+=". "),a("es")&&(l+=s("ads","Actualmente, usted es capaz de ver","forma gratuita con anuncios",""),l+=o("rent"," o para alquilar en","online"),l+=". "),a("ja")&&(l+=s("ads",""+n.title+"","",""),l+=o("rent","",""),l+=""),a("ko")&&(l+=o("rent"," ",'   "'+n.title+'"     '),l+=o("rent","","  ."))):(a("en")&&(l+=s("rent","You can rent","on","online"),l+=". "),a("de")&&(l+=s("rent","Du kannst","bei","online ausleihen"),l+=". "),a("pt")&&(l+=s("rent","Voc pode assistir","no","e alugar online"),l+=". "),a("fr")&&(l+=s("rent","Vous pouvez louer","sur","en ligne"),l+=". "),a("es")&&(l+=s("rent","Actualmente, usted es capaz de alquilar","en","online"),l+=". "),a("ja")&&(l+=o("rent",""+n.title+"",""),l+=""),a("ko")&&(l+=o("rent"," ",' "'+n.title+'"  .'))):u.buy?u.ads?(a("en")&&(l+=s("ads","Currently you are able to watch","streaming on","for free with ads"),l+=o("buy"," or buy it as download on",""),l+=". "),a("de")&&(l+=s("ads","Du kannst","legal bei","kostenlos mit Werbeunterbrechungen im Stream anschauen"),l+=o("buy"," oder bei","als Download kaufen"),l+=". "),a("pt")&&(l+=s("ads","Voc pode assistir","legalmente no","gratuitamente com comerciais nos intervalos"),l+=o("buy"," ou no","para compar o Download"),l+=". "),a("fr")&&(l+=s("ads","Actuellement, vous tes capable de regarder","en streaming gratuitement avec publicits sur",""),l+=o("buy"," et de tlcharger sur",""),l+=". "),a("es")&&(l+=s("ads","Actualmente, usted es capaz de ver","forma gratuita con anuncios",""),l+=o("buy"," y comprarlo como descarga en",""),l+=". "),a("ja")&&(l+=s("ads",""+n.title+"","",""),l+=o("buy","",""),l+=". "),a("ko")&&(l+=o("ads"," ","   "+n.title+"     "),l+=o("buy","","    ."))):(a("en")&&(l+=s("buy","You are able to buy","on","as download"),l+=". "),a("de")&&(l+=s("buy","Du kannst","bei","online als Download kaufen"),l+=". "),a("pt")&&(l+=s("buy","Voc pode assistir","no","para fazer o download online"),l+=". "),a("fr")&&(l+=s("buy","Vous pouvez acheter","sur","en tlchargement"),l+=". "),a("es")&&(l+=s("buy","Actualmente, usted es capaz de comprarlo","en","online"),l+=". "),a("ja")&&(l+=s("buy",""+n.title+"","",""),l+=""),a("ko")&&(l+=o("buy"," ",' "'+n.title+'"     '),l+=".")):u.ads?(a("en")&&(l+=s("ads","Currently you are able to watch","streaming on","for free with ads"),l+=". "),a("de")&&(l+=s("ads","Du kannst","legal bei","kostenlos mit Werbeunterbrechungen im Stream anschauen"),l+=". "),a("pt")&&(l+=s("ads","Voc pode assistir","legalmente no","gratuitamente com comerciais nos intervalos"),l+=". "),a("fr")&&(l+=s("ads","Actuellement, vous tes capable de regarder","streaming gratuitement avec publicits sur",""),l+=". "),a("es")&&(l+=s("ads","Actualmente, usted es capaz de ver","forma gratuita con anuncios",""),l+=". "),a("ja")&&(l+=s("ads",""+n.title+"","",""),l+=""),a("ko")&&(l+=o("ads"," ",'   "'+n.title+'"    '),l+=".")):u.free?(a("en")&&(l+=s("free","Currently you are able to watch","streaming on","for free"),l+=". "),a("de")&&(l+=s("free","Du kannst","legal bei","kostenlos im Stream anschauen"),l+=". "),a("pt")&&(l+=s("free","Voc pode assistir","legalmente no","gratuitamente nos intervalos"),l+=". "),a("fr")&&(l+=s("free","Actuellement, vous tes capable de regarder","streaming sur","gratuit"),l+=". "),a("es")&&(l+=s("free","Actualmente, usted es capaz de ver","forma gratuita con anuncios",""),l+=". "),a("ja")&&(l+=s("free",""+n.title+"","",""),l+=""),a("ko")&&(l+=o("free"," ",' "'+n.title+'"    '),l+=". ")):u.cinema?(a("en")&&(l+=s("cinema","Currently you are able to watch","exclusively in a cinema and find tickets for it at","playing near you"),l+=". "),a("de")&&(l+=s("cinema","Du kannst derzeit","exklusiv im Kino anschauen. Bei","findest du Tickets fr ein Kino in deiner Nhe"),l+=". "),a("pt")&&(l+=s("cinema","Voc pode assistir","legalmente no","gratuitamente nos intervalos"),l+=". "),a("fr")&&(l+=s("cinema","Voc pode assistir","legalmente no","gratuitamente nos intervalos"),l+=". "),a("es")&&(l+=s("cinema","Voc pode assistir","legalmente no","gratuitamente nos intervalos"),l+=". "),a("ja")&&(l+=s("cinema",""+n.title+"","",""),l+=""),a("ko")&&(l+=s("cinema"," ","     . ","    "))):(a("en")&&(l+=s("none","We try to add new providers constantly but we couldn't find an offer for","online. Please come back again soon to check if there's something new",""),l+=". "),a("de")&&(l+=s("none","Wir versuchen fortwhrend neue Anbieter hinzuzufgen, aber leider haben wir keine Angebote gefunden. Komm doch bald wieder um zu sehen, ob","jetzt online verfgbar ist",""),l+=". "),a("pt")&&(l+=s("none","","em breve disponvel novamente",""),l+=". "),a("fr")&&(l+=s("none","Il n'existe pas d'offre VOD pour","en ce moment",""),l+=". "),a("es")&&(l+=s("none","No hay oferta para","en este momento",""),l+=". "),a("ja")&&(l+="JustWatch"+n.title+""+n.title+""),a("ko")&&(l+="JustWatch     TV      .   "+n.title+"    .     .")),l}return{getInfoText:t}}]),angular.module("jw-webapp").controller("titleDetailMovieCtrl",["$scope","$timeout","$log","$state","infoTextHelper","configRepository","metaService","filters","thumborProxyFilter","$q","$stateParams","$filter","titleRepository","urlDataRepository","jwTrackingManager","snowplowContext","swipeTracker","titleListRepository","featureFlagProvider",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m,g,h,v,_){function y(){var e=[],t=c.defer(),n=null;if(angular.forEach(["new","popular"],function(e){if(e in d.getTitles()&&d.getTitles()[e]&&"items"in d.getTitles()[e]){var t=p("filter")(d.getTitles()[e].items,{full_path:f.getCurrentUrl()},!0);t&&1==t.length&&(n=t[0])}}),n){var r=d.mapContentType(n.object_type);e.push(d.getTitle(r,n.id)),e.push(f.fetchUrlData())}else{var i=c.defer();f.fetchUrlData().then(function(e){var t=d.mapContentType(e.object_type);d.getTitle(t,e.object_id).then(function(e){i.resolve(e)})}),e.push(i.promise)}return c.all(e).then(function(e){t.resolve(e[0])}),t.promise}e.title=null,e.filters=s,e.infoText="",e.hasCampaignSurvey=u.campaign_survey||u.uct_cs,e.ui={surveyIsShowing:!1},e.trackSwipe=h.track,e.setSwipeMax=h.setMax,e.$on("$stateChangeSuccess",function(e,n,r,i,a){t(function(){angular.element(document).scrollTop(0)},0)}),e.entered=!0;var b=m.registerDelayedPageView();m.trackPageView(),y().then(function(t){t.offers=t.offers?t.offers:[],e.title=angular.copy(t),e.title.offers=t.offers.filter(function(e){return!("buy"===e.monetization_type&&["dvd","bluray"].indexOf(e.presentation_type)!==-1)}),e.title.offers_physical=t.offers.filter(function(e){return"buy"===e.monetization_type&&["dvd","bluray"].indexOf(e.presentation_type)!==-1}),e.title.backdrops=!!t.backdrops&&t.backdrops,e.infoText=i.getInfoText(s.providers_all,e.title,a.config.webLocale),e.cinemaTitle=t.offers.filter(function(e){return"cinema"===e.monetization_type}).length===t.offers.length&&t.offers.length>0,e.onlyCinemaOffers=t.offers.filter(function(e){return"cinema"===e.monetization_type}).length===t.offers.length&&t.offers.length>0,e.hasPhysicalOffers=t.offers.filter(function(e){return["bluray","dvd"].indexOf(e.presentation_type)!==-1}).length>0,o.setProperty("meta",'meta[property="og:image"]',{property:"og:image",content:l(e.title.poster,"poster_detail")}),f.fetchUrlData().then(function(e){o.setLinkedData(e,t,s)}),o.setPrerenderReady(),g.setContext("title",t),b.resolve()})}]),angular.module("jw-webapp").controller("titleDetailSeasonCtrl",["$scope","$timeout","$log","CONFIG","infoTextHelper","configRepository","metaService","filters","thumborProxyFilter","$q","$stateParams","$filter","titleRepository","urlDataRepository","jwTrackingManager","snowplowContext",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m,g){function h(){var e=[],t=c.defer(),n=d.findCachedTitleByFullPath(f.getCurrentUrl());if(n){var r=d.mapContentType(n.object_type);e.push(d.getTitle(r,n.id)),e.push(d.getTitle("show",n.show_id)),e.push(f.fetchUrlData())}else{var i=c.defer();f.fetchUrlData().then(function(e){var t=d.mapContentType(e.object_type);d.getTitle(t,e.object_id).then(function(e){d.getTitle("show",e.show_id).then(function(t){var n=[e,t];i.resolve(n)})})}),e.push(i.promise)}return c.all(e).then(function(e){t.resolve({season:e[0][0],title:e[0][1],urlData:e[0][2]})}),t.promise}e.title=void 0,e.show=void 0,e.seasonNumber=u.season,e.filters=s,e.infoText="",e.seasonState={requestDone:!1},e.ENV=r.ENV,e.$on("$stateChangeSuccess",function(e,n,r,i,a){t(function(){angular.element(document).scrollTop(0)},0)}),e.entered=!0,e.$on("$stateChangeStart",function(e,t,n,r,i){g.setContext("season",null),g.setContext("episode",null)});var v=m.registerDelayedPageView();m.trackPageView(e),h().then(function(t){e.title=t.title,e.title.backdrops=!!t.title.backdrops&&t.title.backdrops,e.show=t.season,e.infoText=i.getInfoText(s.providers_all,e.title,a.config.webLocale,e.show),e.noOffers=null===t.season.offers,o.setProperty("meta",'meta[property="og:image"]',{property:"og:image",content:l(e.show.poster,"poster_detail")}),f.fetchUrlData().then(function(e){o.setLinkedData(e,t.title,s)}),o.setPrerenderReady(),e.seasonState.requestDone=!0,g.setContext("title",t.title),g.setContext("season",t.season),v.resolve()})}]),angular.module("jw-webapp").controller("titleDetailShowCtrl",["$rootScope","$scope","$timeout","$log","CONFIG","infoTextHelper","configRepository","metaService","filters","thumborProxyFilter","$q","$stateParams","$filter","titleRepository","urlDataRepository","jwTrackingManager","snowplowContext","$state","swipeTracker",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m,g,h,v,_){function y(){var e=!angular.isUndefined(t.seasonNumber),n=[],r=u.defer(),i=f.findCachedTitleByFullPath(m.getCurrentUrl()),a=3;if(i){var s=f.mapContentType(i.object_type);n.push(f.getTitle(s,i.id)),n.push(f.getNewestEpisodes(i.id,a)),n.push(m.fetchUrlData(!1,e))}else{var l=u.defer(),c=v.href("app.detail.show",{locale:o.config.webLocale,title:p.title});m.fetchUrlData(c,e).then(function(e){var t=f.mapContentType(e.object_type),n=[];n.push(f.getTitle(t,e.object_id)),n.push(f.getNewestEpisodes(e.object_id,a)),u.all(n).then(function(e){l.resolve(e)})}),n.push(l.promise)}return u.all(n).then(function(e){r.resolve({title:e[0][0],episodes:e[0][1],urlData:e[0][2]})}),r.promise}t.title=void 0,t.newestEpisodes=[],t.seasonNumber=v.params.season,t.filters=l,t.infoText="",t.ENV=i.ENV,t.trackSwipe=_.track,t.setSwipeMax=_.setMax,t.$on("$stateChangeSuccess",function(e,t,r,i,a){n(function(){angular.element(document).scrollTop(0)},0)}),t.entered=!0;var b=null;t.seasonNumber||(b=g.registerDelayedPageView(),g.trackPageView(t)),y().then(function(e){t.title=e.title,t.title.backdrops=!!e.title.backdrops&&e.title.backdrops,t.newestEpisodes=e.episodes.items,t.infoText=a.getInfoText(l.providers_all,t.title,o.config.webLocale),s.setProperty("meta",'meta[property="og:image"]',{property:"og:image",content:c(t.title.poster,"poster_detail")}),m.fetchUrlData().then(function(t){s.setLinkedData(t,e.title,l)}),t.seasonNumber||s.setPrerenderReady(),h.setContext("title",e.title),null!==b&&b.resolve()}),t.$on("$stateChangeStart",function(e,t,n,r,i){n.season||n.title!=i.title||(h.setContext("season",null),g.trackPageView())})}]),angular.module("jw-webapp").factory("scrollSizeCalculator",function(){function e(){var e=document.createElement("div");e.style.display="hidden",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth,r=e.offsetHeight-e.clientHeight;document.body.removeChild(e),n.width=t,n.height=r}function t(){return r||e(),n}var n={width:0,height:0},r=!1;return{getDimension:t}}),angular.module("jw-webapp").directive("titleCard",function(){return{restrict:"E",scope:{targetTitle:"="},templateUrl:"title/title-card/title-card.tpl.html",controller:["$rootScope","$scope","$injector","titleRepository",function(e,t,n,r){function i(n){var i=e.$new();i.data={},i.data.trailerModal=a.open({animation:!0,templateUrl:"title/title-card/trailer-modal/trailer-modal.tpl.html",controller:"trailerModalCtrl as $ctrl",size:"xl",openedClass:"main-content__poster__trailer__modal jw-modal",scope:i,resolve:{title:function(){return r.getTitle(t.targetTitle.object_type,t.targetTitle.id)}}})}var a=n.get("$uibModal");t.playTrailer=i}]}});var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();angular.module("jw-webapp").service("experimentRepository",["$q","jwTrackingManager","translationFinished","$translate","$rootScope","storageManager","$timeout","configRepository","$location",function(e,t,n,r,i,a,o,s,l){function c(){n.whenAvailable().then(function(){var e=r.instant("WEBAPP_EXPERIMENT_CONFIG")||"{}";E.resolve(JSON.parse(e))});var e=l.search().preferred_variant;if(e){var t=e.split(":"),i=_slicedToArray(t,2);C.experiment=i[0],C.variant=i[1],a.setItem("alephbet",'{"'+C.experiment+':in_sample":true,"'+C.experiment+':variant":"'+C.variant+'"}'),C.testMode=!0}}function u(t,n){E.promise.then(function(r){var i={name:t.name,sample:b(r,t.name)?1:0,trigger:t.trigger,variants:t.variants.reduce(function(e,n,r){return e[n]={activate:function(){return m(t.name,r)}},e},{})},a=new window.AlephBet.Experiment(_.assignIn({},A,i));w.push(a),x[a.name]=a.name in x?x[a.name]:e.defer(),n.forEach(function(e){return f(a,e)}),C.testMode&&C.experiment===a.name&&(console.log("======== A/B TEST TESTING ========"),console.log("Experiment\t",C.experiment),console.log("Variant\t\t",C.variant),console.log("Sample Size\t",r[C.experiment].sample),console.log("Platforms\t",r[C.experiment].platforms.join(", ")),console.log("Triggered\t","trigger"in t?t.trigger():"N/A"))})}function p(e,t,n,r){_.isUndefined(r)&&console.error("[ERROR] prepareExperiment needs a valid pageTriggerPromise");var i={name:e,variants:t},o=JSON.parse(a.getItem("alephbet")),s=o&&e+":in_sample"in o&&o[e+":in_sample"];s&&!C.testMode&&u(i,n),r.then(function(r){var i={name:e,variants:t,trigger:r};u(_.assignIn({},i,{trigger:r}),n)})}function d(t){$.push(t),S[t.name]=t.name in S?S[t.name]:e.defer(),S[t.name].resolve(t)}function f(t,n){S[n]=S[n]?S[n]:e.defer(),S[n].promise.then(function(e){return e.add_experiment(t)})}function m(t,n){x[t]=t in x?x[t]:e.defer(),x[t].resolve(n),i.abTestGlobal=i.abTestGlobal||{},i.abTestGlobal[t]=n}function g(t){return x[t]=x[t]?x[t]:e.defer(),x[t].promise}function h(){return!!document.referrer.match(/https:\/\/www.google/g)}function v(e){return e.indexOf(s.config.webLocale)!==-1}function y(){return _(["campaign_survey","uct_cs","uct_n"]).some(function(e){return location.search.indexOf(e)!==-1})}function b(e,t){if(!(t in e))return!1;_.isArray(e[t].sample)&&2!==e[t].sample.length&&console.error("[ERROR] Only array of size 2 is allowed");var n=e[t].sample,r=Object.keys(e).filter(function(t){return e[t].sample}).filter(function(t){return e[t].platforms.indexOf(T)!==-1}).filter(function(e){var n=JSON.parse(a.getItem("alephbet"));return!!(n&&t+":in_sample"in n)&&n[t+":in_sample"]}),i=_.isArray(n)?n[0]:0,o=_.isArray(n)?n[1]:n;return 0===r.length&&i<=k&&o>k}var w=[],$=[],x={},S={},E=e.defer(),T="web",k=Math.random(),C={testMode:!1,experiment:null,variant:null},A={tracking_adapter:{experiment_start:function(e,n){C.testMode?console.log("[EXPERIMENT ACTIVATED]",e):t.eventTrack(n,{category:"EXP_"+e,label:"__ACTIVATED__",nonInteraction:!0})},goal_complete:function(e,n,r){C.testMode?console.log("[GOAL COMPLETED]",r):t.eventTrack(n,{category:"EXP_"+e,label:"GOAL_"+r,nonInteraction:!0})}}};c(),this.prepareExperiment=p,this.addGoal=d,this.setVariant=m,this.getVariantPromise=g,this.isSeoTraffic=h,this.isAcceptedWeblocale=v,this.isCampaignTraffic=y}]),angular.module("jw-webapp").config(["$analyticsProvider",function(e){var t=null;e.registerEventTrack(function(e,n,r,i){t||(t=window.angular.element(document.querySelector("html")).injector()),r=r?r:t.get("uuidService").getUuidFromCache(),r&&window.snowplow("setUserId",r),window.snowplow("trackStructEvent",n.category,e,n.label,"","",i),t.get("snowplowContext").removeOneTimeValues()})}]),angular.module("jw-webapp").run(["$location","snowplowContext",function(e,t){function n(){var n={uct_p:"placement",uct_cid:"campaignId",uct_adid:"adgroupId",uct_c:"creativeId",uct_k:"keyword",uct_adt:"audienceType",uct_n:"network"},r=Object.keys(n).reduce(function(t,r){var i=n[r];return t[i]=e.$$search[r],t},{});r.targetUrl=e.protocol()+"://"+e.host()+e.path(),t.setContext("campaign",r),t.addSessionContext("campaign")}e.$$search.uct_n&&n()}]),angular.module("jw-webapp").factory("pageViewTracker",["$log","$q","$rootScope","$location","snowplowContext","uuidService","CONFIG",function(e,t,n,r,i,a,o){function s(){p.length>0?p[p.length-1].promise.then(i.getAvailableContext).then(l).then(c):(e.debug("[trackPageView] tracking right away"),l(i.getAvailableContext()))}function l(t){a.getUuid().then(function(n){e.debug("[trackPageView] Snowplow trackPageView");var i=_.isArray(t)||_.isNull(t)?t:[t];window.snowplow("setCustomUrl","https://www."+o.DOMAIN+r.$$path),window.snowplow("setUserId",n),window.snowplow("trackPageView",null,i)})}function c(){e.debug("[trackPageView] removing last entry from pool"),p.pop()}function u(){var n=t.defer();return e.debug("[trackPageView] registering delayed pageview"),n.promise.then(function(){p.indexOf(n)!==-1&&p.splice(p.indexOf(n),1)}),p.push(n),n}var p=[];return{registerDelayedPageView:u,trackPageView:s}}]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("jw-webapp").factory("snowplowContext",["$state","$rootScope","CONFIG","userRepository",function(e,t,n,r){function i(e,t){e in b&&(b[e]=t)}function a(e){x.push({category:e,timestamp:Date.now()})}function o(e){var t=Date.now();angular.forEach(x,function(n){t-$<n.timestamp&&(n.timestamp=t,e.push.apply(e,_toConsumableArray(l(n.category))))})}function s(t){var n=[];if(t&&0===t.indexOf("EXP_")||"pageload"===t)return n;if(((w.currentCollectionType||w.lastCollectionType)&&!w.blacklistFilter||t&&_.filter.indexOf(t)!==-1)&&y.filter.indexOf(t)===-1){var i;(i=n).push.apply(i,_toConsumableArray(l("filter",!t)))}if(e.params.person_id&&y.person.indexOf(t)===-1||t&&_.person.indexOf(t)!==-1&&y.person.indexOf(t)===-1){var a;(a=n).push.apply(a,_toConsumableArray(l("person")))}if(["title","mobile","question","answer","intent"].forEach(function(e){if((!w.currentCollectionType&&"title"===e&&!w.blacklistTitle||t&&_[e].indexOf(t)!==-1)&&y[e].indexOf(t)===-1){var r;(r=n).push.apply(r,_toConsumableArray(l(e)))}}),o(n),r.userData&&r.userData.loggedIn){var s;(s=n).push.apply(s,_toConsumableArray(l("login")))}return n=0===n.length?null:1===n.length?n[0]:n,angular.copy(n)}function l(t,n){var i,a,o,s,l,c={},v=function(){switch(t){case"filter":return i="shared"in b.filters?"shared":w.lastCollectionType&&n||!w.lastCollectionType?w.currentCollectionType:w.lastCollectionType,a=i&&null===b.filters[i].providers?b.providers_all:b.filters[i].providers,o=i&&null===b.filters[i].genres?b.genres_all:b.filters[i].genres,s=i&&null===b.filters[i].monetization_types?b.monetization_types:b.filters[i].monetization_types,l=i&&null===b.filters[i].scoring_filter_types?b.scoring_filter_types:b.filters[i].scoring_filter_types,c={searchString:b.search,isProviderFiltered:null!==b.filters[i].providers,providerId:a?a.split(","):null,isGenreFiltered:null!==b.filters[i].genres,genreId:o?o.split(","):null,releaseYearFrom:b.filters[i].release_year_from,releaseYearUntil:b.filters[i].release_year_until,objectTypeFilter:g(b.filters[i].content_types),pageId:b.page?b.page.id:null,countryCode:h(1),languageCode:h(0),minPrice:b.filters[i].min_price,maxPrice:b.filters[i].max_price,isMonetizationTypeFiltered:null!==b.filters[i].monetization_types,monetizationType:s?s.split(","):null,isScoringFiltered:null!==b.filters[i].scoring_filter_types,scoring:b.filters[i].scoring_filter_types?b.filters[i].scoring_filter_types:JSON.stringify(b.scoring_filter_types)},p(c,["releaseYearFrom","releaseYearUntil"]),d(c,["minPrice","maxPrice"]),u(c),f(c),{v:[{schema:"iglu:com.justwatch/filter_context/jsonschema/1-0-0",data:c}]};case"title":return c={titleId:b.title.id,objectType:m(b.title.object_type),jwEntityId:"t"+("movie"==m(b.title.object_type)?"m":"s")+b.title.id,seasonNumber:b.season?b.season.season_number:b.episode?b.episode.season_number:null,episodeNumber:b.episode?b.episode.episode_number:null},u(c),{v:[{schema:"iglu:com.justwatch/title_context/jsonschema/1-0-0",data:c}]};case"notification":return c=angular.copy(b.notification),p(c,["pushCampaignId","pushId","messageId"]),u(c),{v:[{schema:"iglu:com.justwatch/push_context/jsonschema/1-0-0",data:c}]};case"campaign":return c=angular.copy(b.campaign),p(c,["adgroupId","creativeId","campaignId"]),u(c),{v:[{schema:"iglu:com.justwatch/campaign_context/jsonschema/1-0-0",data:c}]};case"person":return c=angular.copy(b.person),null===c?{v:[]}:(p(c,["personId"]),u(c),{v:[{schema:"iglu:com.justwatch/person_context/jsonschema/1-0-0",data:c}]});case"mobile":return c=angular.copy(b.mobile),u(c),{v:[{schema:"iglu:com.snowplowanalytics.snowplow/mobile_context/jsonschema/1-0-0",data:c}]};case"question":if(b.question){var v=b.question.currentQuestion;c={tagId:b.question.tagId,surveyId:b.question.survey.id,surveySession:b.question.surveySession,sequenceNumber:b.question.sequenceNumber,nodeId:v.id,elementId:v.element_id,subtype:v.element_subtype,translationId:v.activeVariation.translation_id,variationId:v.activeVariation.id,locale:b.question.locale},p(c,["tagId","surveyId","sequenceNumber","nodeId","translationId","variationId","elementId"]),u(c)}return{v:[{schema:"iglu:com.justwatch/question_context/jsonschema/1-0-0",data:c}]};case"answer":return b.answer&&b.answer.answers&&(c=b.answer.answers.map(function(e){var t={isSelected:!!e.__active,answerIndex:e.__index,textualAnswer:e.__textualAnswer||null,nodeId:e.id,elementId:e.element_id,subtype:e.element_subtype,translationId:e.activeVariation.translation_id,variationId:e.activeVariation.id};return p(t,["nodeId","translationId","variationId","elementId"]),u(t),t})),{v:[].concat(_toConsumableArray(c)).map(function(e){return{schema:"iglu:com.justwatch/answer_context/jsonschema/1-0-0",data:e}})};case"intent":return b.intent&&b.intent.intents?(c=b.intent.intents.map(function(e){var t={id:e.id,technicalName:e.technical_name};return p(t,["id"]),u(t),t}),{v:[].concat(_toConsumableArray(c)).map(function(e){return{schema:"iglu:com.justwatch/intent_context/jsonschema/1-0-0",data:e}})}):{v:[]};case"login":return c={jwLid:r.userData.jwLoginId},{v:[{schema:"iglu:com.justwatch/login_context/jsonschema/1-0-0",data:c}]};case"url":var _=function(e,t){return e.length>t?e[t]:null},y=b.page||null;if(null===y)return console.log("dropping url context."),{v:[]};var $=y.full_path?y.full_path.split("/"):[];return c={objectType:y.object_type,objectId:y.object_id,fullLocale:y.locale,folder:y.full_path?y.full_path.substring(1,3):null,viewType:"data"in e.current&&"collectionType"in e.current.data?e.current.data.collectionType:null,subfolder1:_($,2),subfolder2:_($,3),subfolder3:_($,4)},u(c),{v:[{schema:"iglu:com.justwatch/url_context/jsonschema/1-0-0",data:c}]};default:return{v:[{}]}}}();if("object"===("undefined"==typeof v?"undefined":_typeof(v)))return v.v}function c(){angular.forEach(["episode","intent"],function(e){b[e]=null})}function u(e){angular.forEach(e,function(t,n){null===t&&delete e[n]})}function p(e,t){angular.forEach(t,function(t){t in e&&(e[t]=e[t]?parseInt(e[t],10):null)})}function d(e,t){angular.forEach(t,function(t){t in e&&(e[t]=e[t]?parseFloat(e[t]):null)})}function f(e){angular.forEach(e,function(t,n){(angular.isArray(t)||angular.isObject(t))&&(e[n]=JSON.stringify(t))})}function m(e){var t="";return["movie"].indexOf(e)!==-1?t="movie":["show","show_season"].indexOf(e)!==-1&&(t="show"),t}function g(e){var t=0;return["movie"].indexOf(e)!==-1&&(t+=1),["show","show_season"].indexOf(e)!==-1&&(t+=2),t}function h(e){var t=null;return t=window.location.pathname.split("/")[1],n.WEBLOCALES[t].split("_")[e].toLowerCase()}var v={title:["app.static.content","app.onboarding","app.offers.list"],filter:["app.detail.movies","app.detail.show","app.detail.season","app.detail.show.season","app.static.content"],notification:[],person:[],mobile:[],question:[],answer:[],intent:[],login:[],url:[]},_={title:["clickout","clickout_sd","clickout_hd","clickout_4k","clickout_cancel","persons_detail_click","search_suggest_click","watchlist_add","watchlist_remove","youtube_buffering","youtube_paused","youtube_playing"],filter:[],notification:[],person:["persons_description","persons_detail_click","persons_detail_role","persons_title_click","persons_title_director_click","persons_suggest_click"],mobile:["app_open"],question:["survey_question_asked","survey_question_answered","survey_dismissed"],answer:["survey_question_asked","survey_question_answered","survey_dismissed"],intent:["survey_question_answered"],login:[],url:[]},y={title:["app_open","app_install","pageload","ota_update"],filter:["search_suggest_click","notification","app_open","app_install","pageload","ota_update","picksurvey_revisit","picksurvey_reanswer","survey_question_asked","survey_question_answered","survey_finished"],notification:[],person:["pageload"],mobile:[],question:[],answer:[],intent:[],login:[],url:[]},b={filters:null,title:null,season:null,search:null,page:null,episode:null,providers_all:null,genres_all:null,monetization_types:null,scoring_filter_types:null,notification:null,campaign:null,person:null,mobile:null,question:null,answer:null},w={lastCollectionType:null,currentCollectionType:null,blacklistTitle:null,blacklistFilter:null},$=18e5,x=[];return w.lastCollectionType=null,w.currentCollectionType=!!(e.current&&e.current.data&&"collectionType"in e.current.data),w.blacklistTitle=!e.current.name||v.title.indexOf(e.current.name)!==-1,w.blacklistFilter=v.filter.indexOf(e.current.name)!==-1,t.$on("$stateChangeSuccess",function(e,t,n,r,i){w.lastCollectionType="data"in r&&"collectionType"in r.data&&r.data.collectionType,w.currentCollectionType="data"in t&&"collectionType"in t.data&&t.data.collectionType,w.blacklistTitle=v.title.indexOf(t.name)!==-1,w.blacklistFilter=v.filter.indexOf(t.name)!==-1}),{setContext:i,addSessionContext:a,getAvailableContext:s,removeOneTimeValues:c}}]),angular.module("jw-webapp").directive("snowplowDataContextable",["snowplowContext",function(e){return{restrict:"A",scope:{contextableType:"@",contextableData:"="},priority:10,link:function(t,n,r){function i(){e.setContext(t.contextableType,t.contextableData)}n.on("touchstart",i),n.on("mousedown",i)}}}]),angular.module("jw-webapp").directive("personClickTrackable",["jwTrackingManager","$timeout",function(e,t){return{scope:{personClickTrackable:"="},link:function(t,n){n[0].addEventListener("click",function(){t.personClickTrackable&&e.eventTrack(t.personClickTrackable.full_name,{category:"persons_detail_click",label:t.personClickTrackable.id})})}}}]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("jw-webapp").factory("uuidService",["CONFIG","$q","storageManager",function(e,t,n){function r(e,t){var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split("");e=e||22,t=t||n.length;for(var r=[],i=0;i<e;i++)r[i]=n[0|Math.random()*t];return r.join("")}function i(t,r,i){m||n.setItem(t,r),g(t)!==r&&g.remove(t),g(t,r,{expires:i,path:"/",domain:"."+e.DOMAIN}),f.resolve()}function a(){return c().then(o)}function o(){return m?g(p):n.getItem(p)||g(p)}function s(){return p}function l(){return d}function c(){return f.promise}function u(){function e(e){try{return decodeURIComponent(e)}catch(t){}}return function(){function t(t,n,r){var i,a,o,s,l,c,u,p,d;if(r=r||{},void 0!==n)return n="object"===("undefined"==typeof n?"undefined":_typeof(n))?JSON.stringify(n):String(n),"number"==typeof r.expires&&(d=r.expires,r.expires=new Date,d===-1?r.expires=new Date("Thu, 01 Jan 1970 00:00:00 GMT"):void 0!==r.expirationUnit?"hours"===r.expirationUnit?r.expires.setHours(r.expires.getHours()+d):"minutes"===r.expirationUnit?r.expires.setMinutes(r.expires.getMinutes()+d):"seconds"===r.expirationUnit?r.expires.setSeconds(r.expires.getSeconds()+d):r.expires.setDate(r.expires.getDate()+d):r.expires.setDate(r.expires.getDate()+d)),document.cookie=[encodeURIComponent(t),"=",encodeURIComponent(n),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("");for(a=[],p=document.cookie,p&&(a=p.split("; ")),i={},u=!1,o=0;o<a.length;++o)if(a[o]){if(s=a[o],l=s.indexOf("="),c=s.substring(0,l),n=e(s.substring(l+1)),angular.isUndefined(n))continue;if(void 0===t||t===c){try{i[c]=JSON.parse(n)}catch(f){i[c]=n}if(t===c)return i[c];u=!0}}return u&&void 0===t?i:void 0}return t.remove=function(e,n){var r=void 0!==t(e);return r&&(n||(n={}),n.expires=-1,t(e,"",n)),r},t}()}var p="jw_id",d=730,f=t.defer(),m=!n.hasLocalStorage(),g=new u;return{setUuid:i,getUuid:a,getUuidFromCache:o,getUuidName:s,getCookieExpiration:l,generateUUID:r,whenIdAvailable:c}}]),angular.module("jw-webapp").service("withCredentialsInterceptor",["$q","CONFIG",function(e,t){function n(t){return o.filter(function(e){return t.url.indexOf(e)!==-1}).length>0&&(t.withCredentials=!0),t||e.when(t)}function r(t){return e.reject(t);
}function i(t){return t||e.when(i)}function a(t){return e.reject(t)}var o=["i.tw.cx","i.twcx.de"];this.request=n,this.requestError=r,this.response=i,this.responseError=a}]),angular.module("jw-webapp").component("deleteWatchlistButton",{template:'\n\t\t<div class="watchlist__mobile-delete">\n\t\t\t<a\n\t\t\t\tclass="watchlist__mobile-delete__clear-button additional-filter__button"\n\t\t\t\tng-click="$ctrl.clearList()"\n\t\t\t\thref="">\n\n\t\t\t\t<span class="glyphicon glyphicon-remove"></span>\n\t\t\t\t<span translate="WEBAPP_CLEAR_LIST" translate-default="Delete WatchList"></span>\n\t\t\t</a>\n\t\t</div>\n\t',controller:["watchListRepository","$q","toastManager","$uibModal",function(e,t,n,r){function i(){var i=t.defer();i.promise.then(function(){n.show({mobile:"WatchList has been deleted",web:"WatchList has been deleted",duration:2e3})});var a=r.open({template:'\n\t\t\t\t\t<div class="login__modal--close" ng-if="$ctrl.step !== $ctrl.STEPS.END_LOGGED_IN">\n\t\t\t\t\t\t<span ng-click="$ctrl.close()">&times;</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="container-fluid text-center login__modal--content">\n\t\t\t\t\t\t<div class="login__modal--flashy">\n\t\t\t\t\t\t\t<span class="glyphicon glyphicon-exclamation-sign"></span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="container-fluid text-center login__modal--content">\n\t\t\t\t\t\t\t<div class="login__modal__heading">\n\t\t\t\t\t\t\t\t<h4>Are you sure you want to delete your WatchList?</h4>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="col-sm-8 col-sm-offset-2">\n\t\t\t\t\t\t\t<div class="detail-infos__watchlist-button">\n\t\t\t\t\t\t\t\t<a href="" ng-click="$ctrl.deleteList()">Yes</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a href="" ng-click="$ctrl.cancel()">Cancel</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t',controller:["$uibModalInstance",function(t){function n(){t.dismiss("cancel")}function r(){e.clear(),t.close()}this.cancel=n,this.deleteList=r}],controllerAs:"$ctrl",size:"md",openedClass:"login__modal"});a.result.then(function(e){return i.resolve()})["catch"](function(e){return i.reject()})}this.clearList=i}]}),angular.module("jw-webapp").directive("cinemaReleaseFilter",["filterManager","filterRepository","$state","configRepository","$translate","translationFinished","filterStateService",function(e,t,n,r,i,a,o){return{restrict:"E",scope:{},templateUrl:"common/filter/cinema-release/cinema-release.tpl.html",link:function(n,r,s){function l(t){return e.isFilterPropertyActive(d,t.isUpcoming)}function c(t,n){n.preventDefault(),e.setFilterProperties(d,t.isUpcoming)}function u(e){if(e.label in g&&g[e.label])return g[e.label];var n="cinema",r=angular.copy(t.getAllFilterStates(n));return r.cinema_release=e.isUpcoming,g[e.label]=o.getStateUrl(n,r),g[e.label]}var p={WEBAPP_CINEMA_UPCOMING:"Upcoming",WEBAPP_CINEMA_INTHEATERS:"Now in theaters"},d="cinema_release",f=[{label:"WEBAPP_CINEMA_UPCOMING",isUpcoming:!0},{label:"WEBAPP_CINEMA_INTHEATERS",isUpcoming:null}],m=f[0];f[0]=f[1],f[1]=m;var g={};n.cinemaTypes=f,n.translations=p,n.setCinemaRelease=c,n.isTypeActive=l,n.getStateUrl=u,e.setDefaultState(d,!1),e.initState(d),a.whenAvailable().then(function(){i(Object.keys(p)).then(function(e){angular.forEach(p,function(e,t){p[t]=i.instant(t)})})})}}}]),angular.module("jw-webapp").directive("contentTypeFilter",["filterManager","filterRepository","$state","configRepository",function(e,t,n,r){return{restrict:"A",scope:{collectionType:"="},templateUrl:"common/filter/content-type/contentTypeFilter.tpl.html",link:function(t,i,a){function o(n,r){if(r.preventDefault(),l())e.setFilterProperties(u,null);else{var i;angular.forEach(p,function(e){e.collectionTypeShown.indexOf(t.collectionType)!==-1&&e.id!=n.id&&(i=e.id)}),e.setFilterProperties(u,i)}}function s(t){return t.acceptables.indexOf(e.getFilterProperties(u))!==-1||null===e.getFilterProperties(u)}function l(){return e.isFilterActive(u)}function c(e){if("data"in n.current&&"collectionType"in n.current.data){var t=angular.extend({},{locale:r.config.webLocale});return n.href("app.titles."+n.current.data.collectionType+"."+e,t,{inherit:!1})}return""}var u="content_types",p=[{id:"movie",acceptables:["movie"],label:"WEBAPP_MOVIES",collectionTypeShown:["popular","new","watchlist","search","pricedrops"]},{id:"show",acceptables:["show","show_season"],label:"WEBAPP_TVSHOWS",collectionTypeShown:["popular","watchlist","search"]},{id:"show_season",acceptables:["show","show_season"],label:"WEBAPP_TVSHOWS",collectionTypeShown:["new","pricedrops"]}];t.types=p,t.setContentTypeFilter=o,t.isContentTypeActive=s,t.isFilterActive=l,t.getStateUrl=c,e.setDefaultState(u,[]),e.initState(u)}}}]),angular.module("jw-webapp").component("freeFilter",{bindings:{},template:'\n\t\t<div style="display: inline-block;">\n\t\t\t<div class="additional-filter__dropdown-filter additional-filter__checkbox">\n\t\t\t\t<a\n\t\t\t\t\tclass="additional-filter__button"\n\t\t\t\t\tng-class="{\'additional-filter__button--active\': $ctrl.isFilterActive()}"\n\t\t\t\t\thref=""\n\t\t\t\t\tng-click="$ctrl.toggleFilter($event)"\n\t\t\t\t\tanalytics-on="click"\n\t\t\t\t\tanalytics-event="toggle_content_type_filter"\n\t\t\t\t\tanalytics-category="userinteraction"\n\t\t\t\t\tanalytics-properties="{ label: \'free\' }">\n\n\t\t\t\t\t<span class="glyphicon glyphicon-usd"></span>\n\t\t\t\t\t<span translate="WEBAPP_HYBRIDAPP_FILTER_FREE" translate-default="Free only"></span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t',controller:["filterManager","filterRepository","$rootScope",function(e,t,n){function r(){e.setDefaultState(s,[]),e.initState(s,!0),t.getAvailableMonetizationTypesPromise().then(function(e){return e.forEach(function(e){return c.push(e)})}),n.$on("filter.update",o)}function i(){return 0!==(e.getFilterProperties(s)||[]).filter(function(e){return l.indexOf(e)!==-1}).length}function a(t){t.preventDefault();var n=i()?null:c.filter(function(e){return l.indexOf(e)!==-1});e.setFilterProperties(s,n)}function o(){}var s="monetization_types",l=["free","ads"],c=[];this.$onInit=r,this.isFilterActive=i,this.toggleFilter=a}]}),angular.module("jw-webapp").directive("genreFilter",["filterManager",function(e){return{restrict:"A",scope:{genres:"="},templateUrl:"common/filter/genre/genreFilter.tpl.html",link:function(t,n,r){function i(t){return e.isFilterPropertyActive(c,t.short_name)}function a(){return e.isFilterActive(c)}function o(n,r){r.preventDefault(),t.noneSelected=!1,e.toggleFilterProperty(c,n.short_name)}function s(){t.noneSelected=!1,e.resetFilter(c)}function l(){t.noneSelected=!0,e.resetFilter(c)}var c="genres";e.setDefaultState(c,[]),e.initState(c,!0),t.isGenreFilterActive=i,t.isFilterActive=a,t.toggleGenre=o,t.selectAll=s,t.unselectAll=l,t.noneSelected=!1}}}]),angular.module("jw-webapp").directive("presentationTypeFilter",["filterManager","filterRepository",function(e,t){return{restrict:"A",scope:{},templateUrl:"common/filter/presentation-type/presentationTypeFilter.tpl.html",link:function(n,r,i){function a(t){var n=null!==t.value?t.value[0]:null;return e.isFilterPropertyActive(s,n)}function o(t,n){n.preventDefault();var r=null===t.value||a(t)?null:t.value[0];e.setFilterProperties(s,r)}var s="presentation_types",l=[{value:null,label:"WEBAPP_QUALITY_ALL",labelDefault:"All"}];angular.forEach(t.getPresentationTypes(),function(e){l.push(e)}),n.presentationTypes=l,e.setDefaultState(s,null),e.initState(s),e.registerEventReset(s,"filter.reset.quality"),n.isPresentationTypeActive=a,n.setPresentationType=o}}}]),angular.module("jw-webapp").directive("monetizationTypeFilter",["filterManager","filterRepository",function(e,t){return{restrict:"A",scope:{providers:"="},templateUrl:"common/filter/price/monetization-filter.tpl.html",link:function(n,r,i){function a(t){return e.isFilterPropertyActive(u,t.label)}function o(){return e.isFilterActive(u)}function s(e){return d.indexOf(e.label)!==-1}function l(t,n){n.preventDefault(),"cinema"!=t.label||o()||(e.setFilterProperties("providers",[],!0),e.setFilterProperties("content_types",null,!0)),e.toggleFilterProperty(u,t.label)}function c(){n.monetizationTypes=[],p=0,angular.forEach(t.getMonetizations().general,function(e){angular.forEach(e.shows,function(e){t.getAvailableTypes().monetization.indexOf(e)!==-1&&(n.monetizationTypes.push({label:e,order:p}),p++)})})}var u="monetization_types",p=0,d=["cinema"];n.monetizationTypes=[],n.isMonetizationFilterActive=a,n.isFilterActive=o,n.isNonDefault=s,n.toggleMonetizationType=l,e.setDefaultState(u,[]),e.initState(u,!0),e.registerEventReset(u,"filter.reset."+u),n.$on("filter.init",c),t.getAvailableMonetizationTypesPromise().then(function(e){angular.forEach(t.getMonetizations().general,function(t){angular.forEach(t.shows,function(t){e.indexOf(t)!==-1&&"cinema"!==t&&(n.monetizationTypes.push({label:t,order:p}),p++)})})})}}}]),angular.module("jw-webapp").directive("priceFilter",["$rootScope","$translate","translationFinished","filterRepository","filterStateService","configRepository",function(e,t,n,r,i,a){return{restrict:"A",scope:{},templateUrl:"common/filter/price/price-filter.tpl.html",link:function(e,o,s){function l(){e.states[g.min_price]=h.min_price,e.states[g.max_price]=h.max_price}function c(){var t=[];angular.forEach([g.min_price,g.max_price],function(e){u(e)&&t.push(e)}),t.length>0&&(angular.forEach(t,function(t){var n=e.states[t]!=h[t]?e.states[t]:null;r.setFilterState(t,n),e.states[t]=parseFloat(e.states[t])}),i.updateState())}function u(t){return!isNaN(parseFloat(e.states[t]))}function p(t,n){if(t||n){if(t==e.states.min_price&&n==e.states.max_price)return l(),void c();t!=e.states.min_price&&(e.states.min_price=t),n!=e.states.max_price&&(e.states.max_price=n),c()}}function d(t,n){return t==e.states.min_price&&n==e.states.max_price}function f(){var e={};return angular.forEach([g.min_price,g.max_price],function(t){var n=r.getFilterState(t);e[t]=n?n:h[t]}),e}var m=[{webLocale:"jp",amplifier:100},{webLocale:"kr",amplifier:1e3}].filter(function(e){return a.config.webLocale===e.webLocale}).concat([{amplifier:1}]).reduce(function(e,t){return t.amplifier*e},1),g={min_price:"min_price",max_price:"max_price"},h={min_price:0,max_price:50*m};e.prices={min:h.min_price,max:h.max_price},e.presetPrices={buttons:[{min_price:0,max_price:1*m,label:"WEBAPP_PRICEFILTER_UPTO",value:1*m},{min_price:0,max_price:2*m,label:"WEBAPP_PRICEFILTER_UPTO",value:2*m},{min_price:0,max_price:3*m,label:"WEBAPP_PRICEFILTER_UPTO",value:3*m},{min_price:0,max_price:5*m,label:"WEBAPP_PRICEFILTER_UPTO",value:5*m},{min_price:5*m,max_price:h.max_price,label:"WEBAPP_PRICEFILTER_MORETHAN",value:5*m}]},e.currency=null,e.states=f(),e.isPriceActive=d,e.setPriceFilter=p,n.whenLanguageChanges(function(){t("WEBAPP_STANDARD_CURRENCY").then(function(t){e.currency=t})}),e.$on("filter.update",function(t,n){e.states=f()}),e.$on("filter.reset.price",function(){l(),c()}),e.$on("filter.reset",l),e.$on("filter.angular-slider.done",function(){c()})}}}]),angular.module("jw-webapp").directive("providerFilter",["filterManager","$state","configRepository","bigBrotherManager",function(e,t,n,r){return{restrict:"A",scope:{providers:"=",providerModalHandler:"&"},templateUrl:"common/filter/provider/providerFilter.tpl.html",link:function(i,a,o){function s(t){return e.isFilterPropertyActive(p,t.short_name)||!e.isFilterActive(p)}function l(t,n){n.preventDefault(),e.toggleFilterProperty(p,t.short_name)}function c(e){var r="";if("data"in t.current&&"collectionType"in t.current.data){var i=angular.extend({},{locale:n.config.webLocale},{provider:e.slug});r=t.href("app.titles."+t.current.data.collectionType+".provider",i,{inherit:!1})}return r}function u(){i.providerModalHandler()}var p="providers";e.setDefaultState(p,[]),e.initState(p,!0),i.isProviderActive=s,i.toggleProvider=l,i.getProviderLink=c,i.openProviderSettings=u,r.isBeingLookedAt().then(function(e){return i.inReview=e})}}}]),angular.module("jw-webapp").directive("ratingFilter",["filterManager","CONFIG","viewport","ratingRepository",function(e,t,n,r){return{restrict:"A",scope:{},templateUrl:"common/filter/rating/rating-filter.tpl.html",link:function(t,i,a){function o(){var t={};angular.forEach(l,function(e){c[e.provider]&&(t[e.provider]=r.createEntry(c[e.provider],0))}),e.setFilterProperties(u,Object.keys(t).length?t:null)}function s(){var t=e.getFilterProperties(u);angular.forEach(l,function(e){c[e.provider]=t&&e.provider in t?t[e.provider].min_scoring_value:null})}var l=r.ratings,c={},u=r.filterName,p=n();e.setDefaultState(u,null),e.initState(u),e.registerEventReset(u,"filter.reset.rating"),s(),t.ratings=l,t.local=c,t.styles={width:"smartphone"==p?89:92,"margin-left":"smartphone"==p?11:8},t.$on("filter.angular-slider.done",o),t.$on("filter.reset",s),t.$on("filter.reset.rating",s),angular.forEach(e.getFilterProperties(u),function(e,t){c[t]=e.min_scoring_value})}}}]),angular.module("jw-webapp").factory("ratingRepository",["CONFIG",function(e){function t(e,t){return{min_scoring_value:e,max_scoring_value:t}}var n="scoring_filter_types",r="https://static."+e.DOMAIN+"/static/compile_jw/assets/",i=[{name:"IMDB",provider:"imdb:score",filterName:"rating_imdb",append:"",min:0,max:10,step:.1,decimals:1,image:r+"imdb-logo.png"},{name:"Rotten Tomatoes",provider:"tomato:meter",filterName:"rating_tomato",append:"%",min:0,max:100,step:1,decimals:0,image:r+"rotten-tomatoes-logo.png"}];return{filterName:n,ratings:i,createEntry:t}}]),angular.module("jw-webapp").directive("releaseFilter",["filterManager",function(e){return{restrict:"A",scope:{},templateUrl:"common/filter/release/releaseFilter.tpl.html",link:function(t,n,r){function i(){var t;angular.forEach(m,function(n,r){t=f[r]==m[r]?null:f[r],e.setFilterProperties(u[r],t)}),c()}function a(){angular.forEach(m,function(t,n){f[n]=e.getFilterProperties(u[n])?e.getFilterProperties(u[n]):m[n]}),c()}function o(t,n){var r=!0;f.minRelease==t&&f.maxRelease==n?(f.minRelease=m.minRelease,f.maxRelease=m.maxRelease,e.setFilterProperties(u.minRelease,null,r),e.setFilterProperties(u.maxRelease,null)):(f.minRelease=t,f.maxRelease=n,e.setFilterProperties(u.maxRelease,f.maxRelease,r),e.setFilterProperties(u.minRelease,f.minRelease)),c()}function s(t,n){return e.isFilterPropertyActive(u.minRelease,t)&&e.isFilterPropertyActive(u.maxRelease,n)}function l(){t.selectedDecadeIndex?o(d.decades[t.selectedDecadeIndex].year_from,d.decades[t.selectedDecadeIndex].year_until):o(m.minRelease,m.maxRelease)}function c(){!t.selectedDecadeIndex||f.minRelease==d.decades[t.selectedDecadeIndex].year_from&&f.maxRelease==d.decades[t.selectedDecadeIndex].year_until||(t.selectedDecadeIndex=null)}var u={minRelease:"release_year_from",maxRelease:"release_year_until"},p=(new Date).getFullYear(),d={buttons:[{year_from:p,year_until:p,label:"WEBAPP_RELEASEYEAR_THIS"},{year_from:p-1,year_until:p,label:"WEBAPP_RELEASEYEAR_LAST"}],decades:[{year_from:2010,year_until:p,label:"WEBAPP_RELEASEYEAR_2010s"},{year_from:2e3,year_until:2009,label:"WEBAPP_RELEASEYEAR_2000s"},{year_from:1990,year_until:1999,label:"WEBAPP_RELEASEYEAR_1990s"},{year_from:1980,year_until:1989,label:"WEBAPP_RELEASEYEAR_1980s"},{year_from:1970,year_until:1979,label:"WEBAPP_RELEASEYEAR_1970s"},{year_from:1960,year_until:1969,label:"WEBAPP_RELEASEYEAR_1960s"},{year_from:1950,year_until:1959,label:"WEBAPP_RELEASEYEAR_1950s"},{year_from:1940,year_until:1949,label:"WEBAPP_RELEASEYEAR_1940s"},{year_from:1930,year_until:1939,label:"WEBAPP_RELEASEYEAR_1930s"},{year_from:1920,year_until:1929,label:"WEBAPP_RELEASEYEAR_1920s"},{year_from:1910,year_until:1919,label:"WEBAPP_RELEASEYEAR_1910s"},{year_from:1900,year_until:1909,label:"WEBAPP_RELEASEYEAR_1900s"}]},f={},m={minRelease:1900,maxRelease:p};t.presetYears=d,t.local=f,t.defaultYear=m,t.selectedDecadeIndex=null,angular.forEach(m,function(t,n){e.setDefaultState(u[n],null),e.initState(u[n]),e.registerEventReset(u[n],"filter.reset.releaseYear")}),a(),t.setReleaseYearFilter=o,t.isYearActive=s,t.updateDecade=l,t.$on("filter.angular-slider.done",i),t.$on("filter.reset",a),t.$on("filter.reset.releaseYear",a)}}}]),angular.module("jw-webapp").component("watchlistButtonGroup",{bindings:{contentType:"<",contentId:"<",targetTitle:"<"},template:'\n        <div class="detail-infos__watchlist-button" ng-if="!$ctrl.inWatchlist">\n            <a href="" ng-click="$ctrl.add($ctrl.contentType, $ctrl.contentId, $ctrl.targetTitle, \'button\')">\n                <span class="glyphicon {{$ctrl.glyphicon}}"></span> <span translate="WEBAPP_ADD_TO_WATCHLIST" translate-default="Add to WatchList"></span>\n            </a>\n        </div>\n        <div class="detail-infos__watchlist-button" ng-if="$ctrl.inWatchlist">\n            <a href="" ng-click="$ctrl.remove($ctrl.contentType, $ctrl.contentId, $ctrl.targetTitle, \'button\')">\n                <span class="glyphicon glyphicon-minus"></span> <span translate="WEBAPP_REMOVE_FROM_WATCHLIST" translate-default="Delete from WatchList"></span>\n            </a>\n        </div>\n    ',controller:["$rootScope","watchListRepository","experimentRepository",function(e,t,n){function r(n){a.contentType&&a.contentId&&(a.inWatchlist=!!t.get(a.contentType,a.contentId),e.$on("watchlist.added",i),e.$on("watchlist.removed",i),e.$on("watchlist.refreshed",i))}function i(e,n){a.inWatchlist=!!t.get(a.contentType,a.contentId)}var a=this;a.glyphicon="glyphicon-plus",n.getVariantPromise("SEO_USER_TEST_3").then(function(e){console.log("===",e),a.glyphicon=2===e?"glyphicon-star-empty":a.glyphicon}),a.$onChanges=r,a.add=t.add,a.remove=t.remove}]}),angular.module("jw-webapp").component("watchlistRibbon",{bindings:{contentType:"<",contentId:"<",targetTitle:"<"},template:'\n\t\t<div\n\t\t\tclass="bookmark"\n\t\t\tng-click="$ctrl.toggle($ctrl.contentType, $ctrl.contentId)">\n\t\t</div>\n\t',controller:["$scope","$element","$attrs","watchListRepository",function(e,t,n,r){function i(){var t=[];switch(n.pageType){case"detail":t.push("bookmark--large");break;case"new":t.push("bookmark--new")}r.get(u.contentType,u.contentId)&&(c=!0,t.push(l)),s().addClass(t.join(" ")),e.$on("watchlist.added",o),e.$on("watchlist.removed",o),e.$on("watchlist.refreshed",o)}function a(){var e=u.targetTitle.show_title?u.targetTitle.show_title+" (S"+u.targetTitle.season_number+")":""+u.targetTitle.title;r.get(u.contentType,u.contentId)?r.remove(u.contentType,u.contentId,e,"ribbon"):r.add(u.contentType,u.contentId,e,"ribbon")}function o(e,t){var n=t.watchlist.indexOf(u.contentType+"-"+u.contentId)!==-1;c&&!n?(s().removeClass(l),c=!1):!c&&n&&(s().addClass(l),c=!0)}function s(){return angular.element(t).find("div")}var l="bookmark--active",c=!1,u=this;u.toggle=a,u.$onInit=i}]}),angular.module("jw-webapp").component("timelineSection",{bindings:{sections:"=",specials:"=",fetchingState:"=",disableSpecials:"=",isNewEndReached:"=",displayHeight:"<",addMoreItems:"&",hasRendered:"&",activeCollectionType:"@"},templateUrl:"common/timeline/section/timeline-section.tpl.html",controller:["$filter","$interval","$rootScope","filterRepository",function(e,t,n,r){function i(){return r.getAllFilterStates().min_price||r.getAllFilterStates().max_price}function a(e){var t=[];return null===r.getFilterState("providers")?t:(angular.forEach(r.get().filters.providers,function(n){angular.forEach(r.getFilterState("providers").split(","),function(r){n.short_name==r&&angular.forEach(e,function(e){n.monetization_types.indexOf(e)!==-1&&t.push(n)})})}),t)}this.today=e("date")(new Date,"yyyy-MM-dd"),this.yesterday=e("date")((new Date).setDate((new Date).getDate()-1),"yyyy-MM-dd"),this.currentDay=(new Date).getTime(),this.limitNewByDate=new Date("2015-03-31").getTime(),this.isDisabledOnMobile=!1,this.getSelectedProviders=a,this.isPriceFilterActive=i,this.getActiveVariant=n.getActiveVariant}]}),angular.module("jw-webapp").controller("ratingSurveyModalCtrl",["$rootScope","$scope","$timeout","$location","$http","$translate","CONFIG","configRepository","filterRepository","uuidService","userRepository","storageManager","jwTrackingManager","translationFinished","toastManager",function(e,t,n,r,i,a,o,s,l,c,u,p,d,f,m){function g(){d.eventTrack("user_feedback_shown",{category:w,label:$})}function h(e){d.eventTrack("user_feedback_submitted",{category:w,label:e["class"]+" ("+e.translateDefault+")"}),t.ui.page=e.nextPage?e.nextPage:"rate_us"}function v(){y();var e="";switch($){case"ios":e="https://itunes.apple.com/app/id979227482?mt=8";break;default:e="market://details?id=com.justwatch.justwatch"}d.eventTrack("user_feedback_rate_us_clicked",{category:w,label:$}),window.open(e,"_system","location=yes")}function _(){d.eventTrack("user_feedback_text",{category:w,label:t.ui.feedbackText}),y();var e=a.instant(b+"THANKYOU");e===b+"THANKYOU"&&(e="Thank you for your feedback!"),m.show({mobile:e,web:e,duration:3e3})}function y(){t.modal.dismiss()}var b="WEBAPP_HYBRIDAPP_APPRATE_",w="user_feedback",$=window.ionic.Platform.isIOS()?"ios":"android";t.ratings=[{icon:"https://static."+o.DOMAIN+"/static/compile_jw/assets/happy-2.svg","class":"very-good",translate:b+"RATING_VERYGOOD",translateDefault:"I love it!",nextPage:"rate_us"},{icon:"https://static."+o.DOMAIN+"/static/compile_jw/assets/happy.svg","class":"good",translate:b+"RATING_GOOD",translateDefault:"It's good.",nextPage:"rate_us"},{icon:"https://static."+o.DOMAIN+"/static/compile_jw/assets/sad.svg","class":"bad",translate:b+"RATING_BAD",translateDefault:"It's bad.",nextPage:"feedback"},{icon:"https://static."+o.DOMAIN+"/static/compile_jw/assets/sad-2.svg","class":"very-bad",translate:b+"RATING_VERYBAD",translateDefault:"I hate it!",nextPage:"feedback"}],t.ui={page:"start",feedbackText:"",translateValues:{storeName:window.ionic.Platform.isIOS()?"App Store":"Play Store"}},t.submitRating=h,t.rateUs=v,t.sendFeedback=_,t.dismiss=y,t.$on("modal.hidden",function(){d.eventTrack("user_feedback_dismissed",{category:w,label:"page: "+t.ui.page})}),g()}]),angular.module("jw-webapp").component("backdropTrailer",{bindings:{currentTitle:"<",filters:"<"},template:'\n\t<div\n\t\tclass="detail-infos__video__container--play"\n\t\tng-if="$ctrl.currentTitle.clips.length > 0"\n\t\tng-click="$ctrl.play()">\n\t</div>',controller:["$rootScope","jwTrackingManager",function(e,t){function n(){i.clip=_(this.currentTitle.clips).slice(0,1).first(),i.dismiss=r,i.title=this.currentTitle,i.genres=this.filters.genres,i.$on("youtube.player.ready",function(e,t){t.playVideo()}),t.eventTrack(this.currentTitle.object_type,{category:"backdrop_trailer_open",label:this.currentTitle.title})}function r(){console.log("dismiss"),a.hide().then(function(){return a.remove()})}var i=e.$new(),a=null;this.play=n}]}),angular.module("jw-webapp").component("firstChoiceSurvey",{bindings:{afterLink:"@",afterText:"@"},templateUrl:"title/detail/first-choice/first-choice-survey.tpl.html",controller:"FirstChoiceSurveyCtrl as $ctrl"}),angular.module("jw-webapp").controller("FirstChoiceSurveyCtrl",["translationFinished","inAppMessageManager","titleRepository","jwTrackingManager","$location","snowplowContext","jwUtilities","uuidService","storagePreferences","$timeout","$rootScope","$state","$window",function(e,t,n,r,i,a,o,s,l,c,u,p,d){function f(){e.whenLanguageChanges(function(){t.whenSurveysAvailable().then(function(e){var t=_(e).filter(function(e){return!("per_user"===e.frequency_capping_type&&e.id in T)}).first();t?m(t):e.length>0?(k=!0,S.hasEnded=!0,S.displayThankYou=!0):console.log("no surveys found ")})})}function m(e){S.surveyId=e.id,u.$broadcast("promotionbanner.conceal"),S.currentQuestion=b(e),v(e,1,s.generateUUID()),S.currentAnswers=w(S.currentQuestion),h(S.currentAnswers);var t=_(S.currentAnswers).flatten().map(function(e){return e.variations}).flatten().map(function(e){return Number(e.translation)}).value(),a={titles:{movie:t}};n.fetchByIds(a).then(function(e){return S.titles=e.data.titles.movie}),k?r.eventTrack(i.$$url,{category:"picksurvey_revisit",nonInteraction:!0}):r.eventTrack(i.$$url,{category:"survey_question_asked",label:t.join(", "),nonInteraction:!0})}function g(e){if(!S.hasEnded){e.__selected=!0,S.hasEnded=!0;var t=_(S.currentAnswers).filter(function(t){return e.id===Number(t.activeVariation.translation)}).first();t&&(t.__active=!0,y([t]),k?r.eventTrack(i.$$url,{category:"picksurvey_reanswer",label:e.id}):(r.eventTrack(i.$$url,{category:"survey_question_answered",label:t.id+" "+t.activeVariation.translation}),r.eventTrack(i.$$url,{category:"survey_finished",label:"finished survey "+S.surveyId,nonInteraction:!0})),x(S.surveyId),c(function(){S.displayThankYou=!0},1250))}}function h(e){a.setContext("answer",{answers:e})}function v(e,t,n){a.setContext("question",{survey:e,surveySession:n,sequenceNumber:t,currentQuestion:S.currentQuestion,locale:e.locale,tagId:e.tagId})}function y(e){e.forEach(function(e){a.setContext("intent",{intents:e.intents})})}function b(e){var t=void 0;t=_(e.questions).filter(function(t){return t.id===e.start_question_node_id}).first();var n=_(t.variations).flatten().value();return t.activeVariation=$(n),t}function w(e){var t=S.currentQuestion.has_ordered_answers?S.currentQuestion.answers:o.shuffle(angular.copy(S.currentQuestion.answers));return t.forEach(function(e,t){e.__index=t,e.activeVariation=$(e.variations)}),t}function $(e){var t=Math.floor(Math.random()*e.length);return e[t]}function x(e){_.isArray(T[e])||(T[e]=[]),l.setPreference(E.SEEN_SURVEYS,T)}var S=this,E={SEEN_SURVEYS:"survey_seen_titles"},T=l.getPreference(E.SEEN_SURVEYS)||{},k=!1;this.hasEnded=!1,this.displayThankYou=!1,this.currentQuestion=void 0,this.currentAnswers=void 0,this.surveyId=void 0,this.titles=void 0,this.$onInit=f,this.selectTitle=g}]),angular.module("jw-webapp").directive("monetizations",["filterRepository","$filter","$translate","$timeout","jwTrackingManager","$log","$window","$state","storagePreferences","bigBrotherManager","experimentRepository","$q","$rootScope",function(e,t,n,r,i,a,o,s,l,c,u,p,d){return{scope:{offers:"=",monetizationType:"@",filters:"=",search:"@",objectType:"=",fullPath:"=",titleName:"=",titleObject:"=",isFixed:"=?"},restrict:"A",templateUrl:"title/detail/monetizations/monetizations.tpl.html",link:function(n,a,o){function s(e,r,i){var a=e;switch(i){case"general":a=t("has")(a,"monetization_type",r.shows),a=t("has")(a,"presentation_type",["bluray","dvd"],!0),a=t("filter")(a,h(n.monetizations[S])),a=t("filter")(a,v(n.monetizations[S])),a=t("orderBy")(a,"__sorting");break;case"physical":a=t("has")(a,"presentation_type",["bluray","dvd"]),a=t("orderBy")(a)}return a}function p(e){var t=null===e.value?null:e.value[0];return n.monetizations[S]==t}function f(e){var t=T,n=e.provider_id===E,r=l.getPreference("hide_netflix_trial_info");return t&&n&&!r}function m(e){e.__hideAdditionalInfo=!0,r(function(){l.setPreference("hide_netflix_trial_info",!0)},2e3)}function g(e){return function(e){return!0}}function h(e){return function(e){return n.monetizations.general[0].shows.indexOf(e.monetization_type)===-1||(e.provider_id in n.sdOffers&&n.sdOffers[e.provider_id].presentation_type==e.presentation_type||!(e.provider_id in n.sdOffers)&&"hd"==e.presentation_type)}}function v(e){return function(t){var r=null;return angular.forEach(n.monetizations.general,function(e){e.shows.indexOf(t.monetization_type)!==-1&&(r=e.key)}),null===e?"stream"==r||"cinema"==r||t.provider_id in n.bestOffers[r]&&n.bestOffers[r][t.provider_id].presentation_type==t.presentation_type:"stream"==r||"cinema"==r||e==t.presentation_type}}function y(e,t){t.preventDefault();var r=null==e.value?null:e.value[0];n.monetizations[S]!=r&&(n.monetizations[S]=r,l.setPreference("presentation_type",r),i.eventTrack(r,{category:"presentationtype_change"}))}function b(e,t){w(e,t,n.inReview)}function w(e,r){var i=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],t("filter")(n.filters.providers_all,{id:e.provider_id},!0)),a=i[0],o={object_type:n.objectType||"not set",provider_clear_name:a.clear_name,monetization_type:e.monetization_type,price_dropped:r,presentation_type:e.presentation_type,retail_price:"retail_price"in e?e.retail_price:"",pricedrop:"last_change_percent"in e?parseInt(e.last_change_percent):"",currency:"currency"in e?e.currency:""};x(o,!1)}function $(e){var t=_.find(n.filters.providers_all,function(t){return t&&t.short_name&&t.short_name===e});return t?t.id:null}function x(e,t){if(t===!0)i.eventTrack(e.monetization_type,{category:"clickout_cancel",label:e.provider_clear_name});else{var r="clickout";n.monetizations.general[0].shows.indexOf(e.monetization_type)===-1&&(e.presentation_type&&(r=r.concat("_"+e.presentation_type)),e.price_dropped&&(r=r.concat("_percent"))),"clickout"!==r&&i.eventTrack(e.monetization_type,{category:r,label:e.provider_clear_name}),i.eventTrack(e.monetization_type,{category:"clickout",label:e.provider_clear_name}),d.$broadcast("clickout.clicked")}}var S="__filterPresentationType",E=$("nfx"),T=void 0;n.monetizations=e.getMonetizations(),n.presentationTypes=[],n.showPriceDrops=3===d.getActiveVariant("PRICEDROP_WORDING_SEO"),n.onlyCinemaOffers=void 0,n.filterActiveState=e.filterActiveState,n.getFilteredOffers=s,n.canBeShown=g,n.clickOuting=b,n.setPresentationType=y,n.isPresentationTypeActive=p,n.isPresentationType=v,n.noDoubledStreams=h,n.isNetflixTrialInfoShown=f,n.hideNetflixTrialInfo=m,u.getVariantPromise("FIRST_SESSION_GROUPIE_3").then(function(e){return T=1===e}),c.isBeingLookedAt().then(function(e){return n.inReview=e}),"undefined"!=typeof n.search&&n.search&&(n.search=!0,n.activeProviders=e.getFilterState("providers"),n.$watch(function(){return e.getFilterState("providers")},function(e,t){e!=t&&(n.activeProviders=e)}));var k=[{value:null,label:"WEBAPP_QUALITY_BESTPRICE",translationDefault:"Best Price"}];angular.forEach(e.getPresentationTypes(),function(e){k.push(e)}),n.presentationTypes=k,n.sdOffers={};var C=!1,A=!0;angular.forEach(n.offers,function(e,t){if(A=!0,e.__sorting=0,"free"===e.monetization_type&&angular.forEach(n.offers,function(t){n.monetizations.general[0].shows.indexOf(t.monetization_type)!==-1&&t.monetization_type!==e.monetization_type&&t.provider_id===e.provider_id&&(A=!1,"show_season"==n.objectType&&t.element_count++)}),A){n.monetizations.general[0].shows.indexOf(e.monetization_type)!==-1&&("sd"!=e.presentation_type||e.provider_id in n.sdOffers||(n.sdOffers[e.provider_id]=e));var r=!1;e.__sorting=n.filters.providers_all[e.provider_id]?n.filters.providers_all[e.provider_id].display_priority:0,"aggregated"!=e.type&&e.retail_price?e.__sorting+=1e3*e.retail_price:("aggregated"==e.type||"aggregated"!=e.type&&!e.retail_price&&e.element_count)&&(e.__sorting+=1e3*-e.element_count+(r?1e4:-1e4)),n.ignoredProviders&&n.ignoredProviders.indexOf(e.provider_id)===-1&&(e.__sorting-=1e5),C="cinema"==e.monetization_type}else n.offers.splice(t,1)}),n.onlyCinemaOffers=C,n.bestOffers={},angular.forEach(n.monetizations.general,function(e){e.key in n.bestOffers||(n.bestOffers[e.key]={}),angular.forEach(n.offers,function(t){if(e.shows.indexOf(t.monetization_type)!==-1){var r=null;t.provider_id in n.bestOffers[e.key]&&(r=n.bestOffers[e.key][t.provider_id]),(null===r||t.retail_price<r.retail_price||null!==r&&t.retail_price==r.retail_price&&"hd"==t.presentation_type&&"sd"==r.presentation_type)&&(n.bestOffers[e.key][t.provider_id]=t)}})}),angular.forEach(n.presentationTypes,function(t,r){var i=null===t.value?null:t.value[0];n.search?i==e.getFilterState("presentation_types")&&(n.monetizations[S]=i):i==l.getPreference("presentation_type")&&(n.monetizations[S]=i)})}}}]),angular.module("jw-webapp").component("offerReporter",{bindings:{titleObject:"="},template:'\n        <div class="offer-reporter">\n            <a\n                href=""\n                ng-click="$ctrl.report()"\n                isolate-click\n\t            translate="WEBAPP_REPORT_BADOFFERS"\n                translate-default="Report wrong or missing offers">\n\t\t\t</a>\n        </div>\n    ',controller:["jwTrackingManager","$injector","$rootScope",function(e,t,n){function r(){e.eventTrack("open_offer_reporter",{category:"offer_reporter"});var t=n.$new();t.data={titleObject:this.titleObject},
t.data.reportModal=i.open({animation:!0,templateUrl:"title/detail/offer-reporter/offer-reporter-modal/offer-reporter-modal.tpl.html",controller:"offerReporterModalCtrl as $ctrl",size:"md",openedClass:"offer-reporter__modal jw-modal",scope:t})}var i=t.get("$uibModal");this.reportModal=null,this.report=r}]}),angular.module("jw-webapp").service("recommendedTitles",["CONFIG",function(e){this.eligibleTitles=[],"justwatch.com"!==e.DOMAIN&&(this.eligibleTitles=[{name:"The Revenant",id:139729,object_type:"movie",title_list:{james_id:174,other_id:178}},{name:"Deadpool",id:123777,object_type:"movie",title_list:{james_id:176,other_id:181}},{name:"50 First Dates",id:86355,object_type:"movie",title_list:{james_id:185,other_id:0}},{name:"Smoke Signals",id:48910,object_type:"movie",title_list:{james_id:186,other_id:0}},{name:"Getting That Girl",id:178114,object_type:"movie",title_list:{james_id:187,other_id:0}},{name:"Jurassic World",id:142876,object_type:"movie",title_list:{james_id:177,other_id:184}},{name:"Captn America Winter",id:159149,object_type:"movie",title_list:{james_id:188,other_id:249}},{name:"Jungle Book",id:143708,object_type:"movie",title_list:{james_id:189,other_id:0}},{name:"Miracles from Heaven",id:210011,object_type:"movie",title_list:{james_id:190,other_id:0}}]),"justwatch.com"===e.DOMAIN&&(this.eligibleTitles=[{name:"The Revenant",id:139729,object_type:"movie",title_list:{james_id:234,other_id:178}},{name:"Deadpool",id:123777,object_type:"movie",title_list:{james_id:238,other_id:181}},{name:"50 First Dates",id:86355,object_type:"movie",title_list:{james_id:266,other_id:0}},{name:"Smoke Signals",id:48910,object_type:"movie",title_list:{james_id:263,other_id:0}},{name:"Getting That Girl",id:178114,object_type:"movie",title_list:{james_id:233,other_id:0}},{name:"Jurassic World",id:142876,object_type:"movie",title_list:{james_id:242,other_id:184}},{name:"Captn America Winter",id:159149,object_type:"movie",title_list:{james_id:247,other_id:249}},{name:"Jungle Book",id:143708,object_type:"movie",title_list:{james_id:265,other_id:0}},{name:"Miracles from Heaven",id:210011,object_type:"movie",title_list:{james_id:262,other_id:0}}])}]),angular.module("jw-webapp").service("titleListRepository",["$http","CONFIG","configRepository",function(e,t,n){function r(r){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e({url:t.API+"/title_list/"+r+"/full/locale/"+t.WEBLOCALES[n.config.webLocale],method:"GET"})}function i(){}this.getTitleListbyId=r,this.getTitleListByName=i}]),angular.module("jw-webapp").component("titleRecommendations",{bindings:{targetTitle:"<",pos:"@"},template:'\n        <div ng-if="$ctrl.titles && $ctrl.isVisible" style="margin-top: 20px; margin-bottom: 20px;">\n            <p class="detail-infos__subheading" translate="WEBAPP_RECOMMENDATIONS_SIMILAR" translate-default="Similar Movies"></p>\n\n            <div horizontal-scrollable horizontal-scrollable-style="basic-gradient">\n                <div class="horizontal-scrollable-container timeline__provider-block__titles" style="">\n\n                    <div\n                        ng-repeat="title in ::$ctrl.titles"\n                        style="position: relative; display: inline-block;"\n                        snowplow-data-contextable\n                        contextable-type="title"\n                        contextable-data="::title">\n\n                        <watchlist-ribbon\n                            content-type="::title.object_type"\n                            content-id="::title.id"\n                            target-title="::title">\n                        </watchlist-ribbon>\n\n                        <a\n                            ng-if="::title.poster"\n                            ng-hide="::!title.poster"\n                            class="timeline__provider-block__title"\n                            ng-click="$ctrl.clickRecommendation(title, $index)"\n                            ng-href="{{::title.full_path}}">\n\n                            <div ng-class="::{\'tv-show\': title.object_type == \'show_season\' || title.object_type == \'show\'}">\n                                <div\n                                    ng-if="::(title.object_type == \'show\' || title.object_type == \'show_season\')"\n                                    class="tv-show__badge"\n                                    translate="WEBAPP_SHOW_BADGE"\n                                    translate-default="TV"></div>\n                                <img\n                                    class="poster"\n                                    style="width: 130px; height: 184px;"\n                                    ng-src="{{::title.poster|thumborProxy:\'poster\'}}"\n                                    alt="{{::title.title}}"\n                                    fader-on-load />\n                            </div>\n                        </a>\n\n                    </div>\n\n                </div>\n\n            </div>\n\n        </div>\n    ',controller:["CONFIG","titleListRepository","featureFlagProvider","jwTrackingManager","userAgentService","recommendedTitles",function(e,t,n,r,i,a){function o(e){l(this.targetTitle)}function s(e,t){r.eventTrack(t,{category:"recommendation_click",label:e.title})}function l(e){return e?_.find(c,function(t){return t.id===e.id&&t.object_type===e.object_type}):null}var c=a.eligibleTitles;this.isVisible=!i.isSeo4Ajax(),this.$onChanges=o,this.clickRecommendation=s}]}),angular.module("jw-webapp").component("releaseReminder",{bindings:{titleData:"<",highlighted:"<?"},templateUrl:"title/detail/release-reminder/release-reminder.tpl.html",controller:["filterRepository","CONFIG","configRepository","$state","$filter","scrollPositionRepository","jwTrackingManager","deviceInfo",function(e,t,n,r,i,a,o,s){function l(){f.remindMeOpened=!f.remindMeOpened,f.remindMeOpened&&!d&&o.eventTrack("expanded",{category:p}),d=!0}function c(e){if("push"===e)f.sorry||(o.eventTrack("remind_via",{category:p,label:e}),f.sorry=!0);else{var t=u(e);t&&window.open(t,"_blank"),o.eventTrack("remind_via",{category:p,label:e})}}function u(e){var t="Release: "+f.titleData.heading_1,n="https://justwatch.com"+f.titleData.full_path,r=f.releaseDate.toISOString().replace(/-|:|\.\d\d\d/g,"").slice(0,8),i=f.releaseDate.toISOString().replace(/-|:|\.\d\d\d/g,"").slice(0,8);switch(e){case"google-calendar":return"https://www.google.com/calendar/event?action=TEMPLATE&text="+t+"&dates="+r+"/"+i+"&details="+n;case"ical":return"https://static.moviecycle.com/static/compile_jw/assets/ical/"+f.titleData.object_type+"-"+f.titleData.object_id+".ics";default:return console.warn("No supported link type defined: ",e),""}}var p="release_reminder",d=!1,f=this;f.deviceType=s.getDeviceType(),f.remindMeOpened=!1,f.expand=l,f.remindVia=c,f.$onChanges=function(e){if(f.titleData&&f.titleData.html_content&&f.titleData.html_content.release_date){var t=new Date;f.releaseDate=new Date(f.titleData.html_content.release_date);f.releaseDate>t;o.eventTrack("shown",{category:p,label:f.titleData.html_content.release_date,nonInteraction:!0})}}}]}),angular.module("jw-webapp").component("titleCredits",{bindings:{credits:"=",roles:"="},templateUrl:"title/detail/title-credits/title-credits.tpl.html",controller:["filterRepository","CONFIG","configRepository","$state","$filter","scrollPositionRepository","jwTrackingManager",function(e,t,n,r,i,a,o){function s(e){return e.portrait?i("thumborProxy")(e.portrait,"poster"):"https://static."+t.DOMAIN+"/static/compile_jw/assets/no-actor-portrait.png"}function l(t){var i=angular.extend({},e.getAllFilterStates("search"),{locale:n.config.webLocale,q:t.name,person_id:t.person_id});o.eventTrack(t.name,{category:"persons_title_click",label:t.person_id}),r.go("app.search.list",i)}this.getPortraitUrl=s,this.goToPerson=l}]}),angular.module("jw-webapp").factory("swipeTracker",["jwTrackingManager","$rootScope",function(e,t){function n(e){o=e}function r(t){var n=t.target,r=t.to,s={category:"swipe_backdrops",nonInteraction:!0};if(r&&(s.label=r),e.eventTrack(n,s),o>0){switch(n){case"next":a+1>o?a=1:a+=1;break;case"prev":a-1<1?a=o:a-=1;break;case"position":a=r}i.indexOf(a)===-1&&i.push(a)}}var i=[1],a=1,o=0;return{track:r,setMax:n}}]),angular.module("jw-webapp").run(["$state","$rootScope","experimentRepository",function(e,t,n){var r="CLICKOUT",i=new window.AlephBet.Goal(r);t.$on("clickout.clicked",function(){i.complete()}),n.addGoal(i)}]),angular.module("jw-webapp").run(["$state","$rootScope","experimentRepository",function(e,t,n){var r="NOT_BOUNCED",i=new window.AlephBet.Goal(r);n.addGoal(i)}]),angular.module("jw-webapp").run(["$state","$rootScope","experimentRepository",function(e,t,n){var r="PAGEVIEWS",i=new window.AlephBet.Goal(r,{unique:!1});t.$on("$stateChangeStart",function(e,t,n,r,a){i.complete()}),n.addGoal(i)}]),angular.module("jw-webapp").run(["$rootScope","experimentRepository",function(e,t){var n="TRAILERVIEWS",r=new window.AlephBet.Goal(n,{unique:!1});e.$on("youtube.player.playing.once",function(){r.complete()}),t.addGoal(r)}]),angular.module("jw-webapp").run(["$rootScope","experimentRepository",function(e,t){var n="WATCHLIST",r=new window.AlephBet.Goal(n,{unique:!1});e.$on("watchlist.added",function(){return r.complete()}),t.addGoal(r)}]),angular.module("jw-webapp").controller("trailerModalCtrl",["$scope","$timeout","jwTrackingManager","title",function(e,t,n,r){function i(){e.clip=_.find(r.clips,function(e){return"trailer"===e.type}),angular.isObject(e.clip)&&(e.clip.active=!0)}function a(){e.data.trailerModal.dismiss()}e.dismiss=a,e.title=r,i(),e.$on("modal.closing",function(){})}]),function(){var e,t,n,r,i,a,o,s,l,c,u,p,d,f,m,g,h;e="ui.slider",t="slider",n=function(e){return angular.element(e)},p=function(e){return""+e+"px"},s=function(e){return e.css({opacity:0})},m=function(e){return e.css({opacity:1})},c=function(e,t){return e.css({left:t})},o=function(e){return e[0].offsetWidth/2},u=function(e){return e[0].offsetLeft},h=function(e){return e[0].offsetWidth},a=function(e,t){return u(t)-u(e)-h(e)},r=function(e){return isNaN(e)?e:Math.min(Math.max(0,e),100)},f=function(e,t,n,r){var i,a,o,s;return null==r&&(r=0),null==n&&(n=1/Math.pow(10,t)),a=(e-r)%n,s=a>n/2?e+n-a:e-a,i=Math.pow(10,t),o=s*i/i,parseFloat(o.toFixed(t))},i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend"}},g=function(e){return{restrict:"E",scope:{floor:"@",ceiling:"@",values:"=?",step:"@",highlight:"@",precision:"@",buffer:"@",dragstop:"@",prepend:"=",append:"@",ngModel:"=?",ngModelLow:"=?",ngModelHigh:"=?"},template:['<div class="slider-bar"><div class="selection"></div></div>','<div class="handle low"></div><div class="handle high"></div>','<div class="bubble limit low" ng-show="ngModelLow > (floor + (ceiling - floor) * 0.10)">{{::prepend}}{{ values.length ? values[floor || 0] : floor }}{{::append}}</div>','<div class="bubble limit high" ng-show="ngModelHigh < (ceiling - (ceiling - floor) * 0.10)">{{::prepend}}{{ values.length ? values[ceiling || values.length - 1] : ceiling }}{{::append}}</div>','<div class="bubble value low">{{::prepend}}{{ values.length ? values[local.ngModelLow || local.ngModel || 0] : local.ngModelLow || local.ngModel || 0 }}{{::append}}</div>','<div class="bubble value high">{{::prepend}}{{ values.length ? values[local.ngModelHigh] : local.ngModelHigh }}{{::append}}</div>'].join(""),compile:function(t,a){var s,l,d,m;return d=null==a.ngModel&&null!=a.ngModelLow&&null!=a.ngModelHigh,l=d?"ngModelLow":"ngModel",s="ngModelHigh",m=["floor","ceiling","values",l],d&&m.push(s),{post:function(t,a,g){var v,_,y,b,w,$,x,S,E,T,k,C,A,P,O,j,I,N,D,R,L,M,F,z,U,B,W,V,q;if(V=function(){var e,t,r,i;for(r=a.children(),i=[],e=0,t=r.length;e<t;e++)$=r[e],i.push(n($));return i}(),v=V[0],O=V[1],C=V[2],x=V[3],b=V[4],T=V[5],E=V[6],D=n(v.children()[0]),!d){for(q=[C,E],z=0,B=q.length;z<B;z++)L=q[z],L.remove();g.highlight||D.remove()}for(t.local={},t.local[l]=t[l],t.local[s]=t[s],y=!1,I=n(document),S=_=P=k=j=A=M=N=void 0,w=function(){var e,n,r,i;for(null==t.step&&(t.step=1),null==t.floor&&(t.floor=0),null==t.precision&&(t.precision=0),d||(t.ngModelLow=t.ngModel),(null!=(i=t.values)?i.length:void 0)&&null==t.ceiling&&(t.ceiling=t.values.length-1),t.local[l]=t[l],t.local[s]=t[s],n=0,r=m.length;n<r;n++)e=m[n],"number"==typeof e&&(t[e]=f(parseFloat(t[e]),parseInt(t.precision,10),parseFloat(t.step),parseFloat(t.floor)));return S=o(O),_=h(v),P=0,k=_-h(O),j=parseFloat(t.floor),A=parseFloat(t.ceiling),M=A-j,N=k-P},R=function(){var e,n,m,v,$,x;return w(),n=function(e){return r((e-P)/N*100)},m=function(e){return r((e-j)/M*100)},v=function(e){return p(e*N/100)},x=function(){var e,n;switch(setTimeout(function(){c(b,p(_-h(b)))},0),n=m(t.local[l]),c(O,v(n)),c(T,p(u(O)-o(T)+S)),c(D,p(u(O)+S)),!0){case d:return e=m(t.local[s]),c(C,v(e)),c(E,p(u(C)-o(E)+S)),D.css({width:v(e-n)});case"right"===g.highlight:return D.css({width:v(110-n)});case"left"===g.highlight:return D.css({width:v(n)}),c(D,0)}},e=function(e,r,i,o){var c,u,p,m;return c=i,u=function(){return r.removeClass("active"),e.removeClass("active"),I.unbind(o.move),I.unbind(o.end),t.dragstop&&(t[s]=t.local[s],t[l]=t.local[l]),c=i,t.$emit("filter.angular-slider.done"),t.$applyAsync()},p=function(e){var r,i,o,u,p,m,g,h;if(r=e.clientX||(null!=(p=e.touches)&&null!=(m=p[0])?m.clientX:void 0)||(null!=(g=e.originalEvent)&&null!=(h=g.changedTouches)?h[0].clientX:void 0)||0,i=r-a[0].getBoundingClientRect().left-S,i=Math.max(Math.min(i,k),P),o=n(i),u=j+M*o/100,d)switch(c){case l:u>t.local[s]?(c=s,O.removeClass("active"),T.removeClass("active"),C.addClass("active"),E.addClass("active"),x()):t.buffer>0&&(u=Math.min(u,t.local[s]-t.buffer));break;case s:u<t.local[l]?(c=l,C.removeClass("active"),E.removeClass("active"),O.addClass("active"),T.addClass("active"),x()):t.buffer>0&&(u=Math.max(u,parseInt(t.local[l],10)+parseInt(t.buffer,10)))}return u=f(u,parseInt(t.precision,10),parseFloat(t.step),parseFloat(t.floor)),t.local[c]=u,t.dragstop||(t[c]=u),x(),t.$applyAsync()},m=function(t){return w(),r.addClass("active"),e.addClass("active"),x(),t.stopPropagation(),t.preventDefault(),I.bind(o.move,p),I.bind(o.end,u)},e.bind(o.start,m)},$=function(){var t,n,r,a;for(a=["touch","mouse"],n=0,r=a.length;n<r;n++)t=a[n],e(O,T,l,i[t]),e(C,E,s,i[t]);return y=!0},y||$(),x()},e(R),U=0,W=m.length;U<W;U++)F=m[U],t.$watch(F,R,!0);return t.$on("filter.angular-slider.updateDOM",function(){e(R)}),t.$on("$destroy",function(){window.removeEventListener("resize",R)}),window.addEventListener("resize",R)}}}}},d=["$timeout",g],(l=function(n,r){return r.module(e,[]).directive(t,d)})(window,window.angular)}.call(void 0),angular.module("jw-webapp").controller("offerReporterModalCtrl",["$scope","$timeout","$location","$http","$translate","CONFIG","configRepository","filterRepository","uuidService","userRepository","storageManager","jwTrackingManager","translationFinished",function(e,t,n,r,i,a,o,s,l,c,u,p,d){function f(){d.whenAvailable().then(function(t){x&&x.object_type&&(e.translateValues.object_type=i.instant("WEBAPP_"+x.object_type.toUpperCase()),e.translateValues.object_type_capitalized=e.translateValues.object_type.charAt(0).toUpperCase()+e.translateValues.object_type.slice(1)),_.forEach(e.taskTypes,function(e){return e.name=m(e)})}),e.feedback={reporter_info:{jw_id:null,jw_login_id:c.userData.jwLoginId,email:"",url:n.$$url},task_type:null,payload:{object_id:x.id,object_type:x.object_type,locale:a.WEBLOCALES[o.config.webLocale],provider:null,freetext:"",popularity:g(x),has_cinema_offers:h(x)}},l.getUuid().then(function(t){e.feedback.reporter_info.jw_id=t})}function m(t){var n="WEBAPP_REPORT_ISSUE_"+t.technical_name.toUpperCase(),r=i.instant(n,e.translateValues);return r&&r!==n?r:t.name}function g(e){var t=_.find(e.scoring,function(e){return"tmdb:popularity"===e.provider_type});return t?t.value:0}function h(e){return _(e.offers).some(function(e){return"cinema"===e.monetization_type})}function v(e){var t=s.getFilters().providers_all;if(!t||!t.length)return[];var n=e?e.offers.map(function(e){return e.provider_id}):[],r=t.filter(function(t){return e?n.indexOf(t.id)!==-1:t.technical_name&&t.clear_name}),a=i.instant("WEBAPP_REPORT_MISSINGPROVIDER");return"WEBAPP_REPORT_MISSINGPROVIDER"===a&&(a="Missing provider"),r.push({technical_name:"missing",clear_name:"("+a+")"}),_.sortBy(r,function(e){return e.clear_name})}function y(n){e.ui.form.email&&(e.ui.form.email.$touched=!1),n&&t(function(){var e=document.querySelector(".offer-reporter__modal form #email");e&&e.select()})}function b(){var t=e.ui.form.$valid;return t}function w(){e.ui.error=!1;var t=angular.copy(e.feedback);return t.task_type.__subSelection?t.task_type=t.task_type.__subSelection.selectedAnswer:t.task_type=t.task_type.technical_name,p.eventTrack("send_feedback",{category:"offer_reporter",label:t.task_type?t.task_type:""}),r({method:"POST",url:a.FEEDBACK_API+"/add_task",headers:{"Content-Type":"application/json"},data:t}).then(function(){e.ui.page=2})["catch"](function(t){e.ui.error=!0})}function $(){e.data.reportModal.dismiss()}var x=e.data.titleObject;e.translateValues={object_type:"movie/show",object_type_capitalized:"Movie/Show"},e.taskTypes=[{order:1,name:x.object_type+" is also available elsewhere",technical_name:"missing_offer"},{order:2,name:"The price is wrong",technical_name:"wrong_price"},{order:3,name:"I can't watch this "+x.object_type,technical_name:"cant_watch",__subSelection:{question:{name:"Why not?",technical_name:"whynot"},selectedAnswer:"",answers:[{name:x.object_type+" is not available anymore",technical_name:"title_not_available"},{name:x.object_type+" is linked to a wrong Movie/Show",technical_name:"wrong_offer"}]}},{order:5,name:"Other issue",technical_name:"other"}],e.titleProviders=v(x),e.allProviders=v(),e.ui={page:1,stayUpdated:!1,error:!1},e.changedStayUpdated=y,e.isSubmissionAllowed=b,e.report=w,e.dismiss=$,f(),e.$on("modal.closing",function(){p.eventTrack("close_offer_reporter",{category:"offer_reporter",label:2===e.ui.page?"finished":"unfinished"})})}]),angular.module("jw-webapp").component("mobileBannerTest",{template:'\n\t\t<a ng-click="$ctrl.clickOut()">\n\t\t\t<img\n\t\t\t\tng-style="::$ctrl.bannerStyle"\n\t\t\t\tng-src="{{::$ctrl.getImageUrl()}}"\n\t\t\t\talt="mobile banner" />\n\t\t</a>\n\t',bindings:{variant:"<"},controller:["configRepository","jwTrackingManager","$location",function(e,t,n){function r(){return _([{is:function(){return a()},url:"https://static.justwatch.com/static/img/applp/app-banner-destop-EN-2.png"},{is:function(){return o()},url:"https://static.justwatch.com/static/img/applp/app-banner-destop-EN-2.png"},{is:function(){return!a()&&!o()},url:"https://static.justwatch.com/static/img/applp/app-banner-destop-EN-2.png"}]).filter(function(e){return e.is()}).map(function(e){return e.url}).first()}function i(){var r=_([{is:function(){return a()},url:"https://itunes.apple.com/app/apple-store/id979227482?pt=117751271&ct=mobilebanner_variant_"+this.variant+"&mt=8"},{is:function(){return o()},url:"https://play.google.com/store/apps/details?id=com.justwatch.justwatch&referrer=utm_source%3Djustwatch%26utm_medium%3Dmobilebanner_variant_"+this.variant},{is:function(){return!a()&&!o()},url:e.config.webLocale+"/apps"}]).filter(function(e){return e.is()}).map(function(e){return e.url}).first();t.eventTrack("clickout_banner",{category:"tmp_abtest_experiment",label:"variant_"+this.variant}),n.url(r)}function a(){return/iPad|iPhone|iPod/i.test(s)}function o(){return/android/i.test(s)}var s=navigator.userAgent||navigator.vendor||window.opera,l={width:"100%",padding:"6px",border:"1px solid #fbc500","margin-top":"5px","margin-bottom":"25px"};this.bannerStyle=l,this.clickOut=i,this.getImageUrl=r}]}),angular.module("jw-webapp").run(["experimentRepository","$timeout","$rootScope","$q","urlDataRepository","titleRepository","configRepository",function(e,t,n,r,i,a,o){function s(t){var n=r.defer();if(t&&["movie","show","show_season"].indexOf(t.object_type)!==-1){({titles:{movie:[t.object_id]}});a.getTitle(t.object_type,t.object_id,!0).then(function(r){var i=_(r.offers).some(function(e){return"canvas"===e.presentation_type}),a=function(){return e.isSeoTraffic()&&!e.isCampaignTraffic()&&!i&&e.isAcceptedWeblocale(["us","au","nz","ca","uk","ie","za","nl","fi","no","dk","se"])&&["movie"].indexOf(t.object_type)!==-1};n.resolve(a)})["catch"](function(){return n.reject()})}else n.reject();return n.promise}var l="MOBILE_BANNER_SEO_2",c=["control","bottom","under_buybox","above_trailer","after_trailer"],u=["WATCHLIST","CLICKOUT","TRAILERVIEWS","NOT_BOUNCED","PAGEVIEWS"],p=r.defer();e.prepareExperiment(l,c,u,p.promise),t(function(){i.getActiveUrlPromise().then(function(e){return s(e)}).then(function(e){return p.resolve(e)})["catch"](function(){return p.reject("not triggered")})}),e.getVariantPromise(l).then(function(e){if(1===e){var t=document.createElement("style");t.innerHTML='\n\t\t\t\t\tbody.promotion mobile-banner {\n\t\t\t\t\t\tborder-bottom: 0;\n\t\t\t\t\t\tborder-top: 1px solid #27323C;\n\t\t\t\t\t\ttop: initial;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t}\n\t\t\t\t\tbody.promotion [ui-view="head"], body.promotion [ui-view="main"] {\n\t\t\t\t\t\tmargin-top: 0;\n\t\t\t\t\t}\n\t\t\t\t\t@media (min-width: 480px) {\n\t\t\t\t\t\tbody.promotion .filter__wrapper--fixed {\n\t\t\t\t\t\t\ttop: 50px !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t@media (max-width: 479px) {\n\t\t\t\t\t\tbody.promotion .filter__wrapper--fixed {\n\t\t\t\t\t\t\ttop: 96px !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t',document.body.appendChild(t)}else if(e>=1){var n=document.createElement("style");n.innerHTML='\n\t\t\t\t\tbody.promotion mobile-banner {\n\t\t\t\t\t\tborder-bottom: 0;\n\t\t\t\t\t\tborder-top: 1px solid #27323C;\n\t\t\t\t\t\ttop: initial;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\tdisplay: none !important;\n\t\t\t\t\t}\n\t\t\t\t\tbody.promotion [ui-view="head"], body.promotion [ui-view="main"] {\n\t\t\t\t\t\tmargin-top: 0;\n\t\t\t\t\t}\n\t\t\t\t\t@media (min-width: 480px) {\n\t\t\t\t\t\tbody.promotion .filter__wrapper--fixed {\n\t\t\t\t\t\t\ttop: 50px !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t@media (max-width: 479px) {\n\t\t\t\t\t\tbody.promotion .filter__wrapper--fixed {\n\t\t\t\t\t\t\ttop: 96px !important;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t',document.body.appendChild(n)}})}]),angular.module("jw-webapp").run(["experimentRepository","$timeout","$rootScope","$q","urlDataRepository","titleRepository","configRepository",function(e,t,n,r,i,a,o){function s(t){var n=r.defer();return t&&["movie"].indexOf(t.object_type)!==-1?a.getTitle(t.object_type,t.object_id,!0).then(function(t){var r=_(t.offers).some(function(e){return"canvas"===e.presentation_type}),i=_(t.clips).length>0,a=_(t.offers).length>0,o=function(){return!e.isCampaignTraffic()&&e.isSeoTraffic()&&!r&&i&&a};n.resolve(o)})["catch"](function(){return n.reject()}):n.reject(),n.promise}var l="TRAILER_BUYBOX_BACKDROP",c=["control","after_buybox","no_backdrop","combined"],u=["WATCHLIST","CLICKOUT","TRAILERVIEWS","NOT_BOUNCED","PAGEVIEWS"],p=r.defer();e.prepareExperiment(l,c,u,p.promise),t(function(){i.getActiveUrlPromise().then(function(e){return s(e)}).then(function(e){return p.resolve(e)})["catch"](function(){return p.reject("not triggered")})}),e.getVariantPromise(l).then(function(e){if([2,3].indexOf(e)!==-1){var t=document.createElement("style");t.innerHTML="[backdrop] { display: none; } .detail-infos--backdrop { margin-top: 70px; }",document.body.appendChild(t)}})}]),angular.module("jw-webapp").run(["experimentRepository","$timeout","$rootScope","$location","$q","urlDataRepository","titleRepository",function(e,t,n,r,i,a,o){var s="WORDING_SEO_2",l=["WATCHLIST","CLICKOUT","TRAILERVIEWS","PAGEVIEWS"],c=["control","wording_1","wording_2","wording_3","wording_4","wording_5","wording_6","wording_7","wording_8","wording_1_colored","wording_2_colored","wording_3_colored","wording_4_colored","wording_5_colored","wording_6_colored","wording_7_colored","wording_8_colored"],u=i.defer(),p=["/de/Film/Smaragdgruen","/de/Film/SMS-fuer-Dich","/de/Film/The-First-Avenger-Civil-War","/de/Film/Dont-Breathe","/de/Film/Halloweentown-4-Das-Hexencollege","/de/Film/Willkommen-bei-den-Hartmanns","/de/Film/Captain-Fantastic","/de/Film/Suicide-Squad","/de/Film/Die-Unfassbaren-2","/de/Film/Fruehstueck-bei-Monsieur-Henri","/de/Film/Snowden","/de/Film/Star-Wars-Episode-VII-Das-Erwachen-der-Macht","/de/Film/Blind-Side-Die-grosse-Chance","/de/Film/Der-Teufel-traegt-Prada","/de/Film/Sausage-Party","/de/Film/Conni-und-Co","/de/Film/Alphabet-Angst-oder-Liebe","/de/Film/Nebel-im-August","/de/Film/X-Men-Apocalypse","/de/Film/Zoomania","/de/Film/Zeiten-Aendern-Dich","/de/Film/Die-wilden-Huehner-und-das-Leben","/de/Film/Zum-Teufel-mit-der-Wahrheit","/de/Film/Findet-Dorie","/de/Film/Das-Parfum-Die-Geschichte-eines-Moerders","/de/Film/Bibi-Blocksberg","/de/Film/Practical-Magic-Zauberhafte-Schwestern","/de/Film/The-Secret-Life-of-Pets","/de/Film/Ant-Man","/de/Film/Demain-2015","/de/Film/The-Secret-Das-Geheimnis","/de/Film/Harry-Potter-und-die-Kammer-des-Schreckens","/de/Film/Die-Kinder-des-Monsieur-Mathieu","/de/Film/Le-Gout-des-merveilles","/de/Film/Der-Schamane-und-die-Schlange","/de/Film/Trennung-mit-Hindernissen","/de/Film/Alice-im-Wunderland-Hinter-den-Spiegeln","/de/Film/Traumschiff-Surprise","/de/Film/Der-seltsame-Fall-des-Benjamin-Button","/de/Film/Die-Suenderin-2000","/de/Film/American-High-Probieren-geht-ueber-studieren","/de/Film/Charlie-und-die-Schokoladenfabrik","/de/Film/Toni","/de/Film/Groupies-bleiben-nicht-zum-Fruehstueck","/de/Film/Fast-und-Furious-7","/de/Film/Agent-Ranjid-rettet-die-Welt","/de/Film/Der-ewige-Gaertner","/de/Film/Harry-Potter-und-der","/de/Film/Charlie-und-Louise-Das-doppelte-Lottchen","/de/Film/Breaking-Dawn-Bis-s-zum-Ende-der-Nacht-Teil-2","/us/movie/bridget-jones-diary","/us/movie/jurassic-world","/us/movie/captain-america-civil-war","/us/movie/the-big-short","/us/movie/finding-dory","/us/movie/fifty-shades-of","/us/movie/emerald-green","/us/movie/gangs-of-wasseypur","/us/movie/pitch-perfect-2-theatrical-trailer","/us/movie/back-to-the-future-part-i","/us/movie/ex-machina","/us/movie/django-unchained","/us/movie/snowden","/us/movie/the-revenant","/us/movie/the-neon-demon","/us/movie/john-wick","/us/movie/star-wars-the-force-awakens","/us/movie/sinister","/us/movie/the-guvnor","/us/movie/trainspotting","/us/movie/getting-that-girl","/us/movie/idiocracy","/us/movie/zootopia","/us/movie/alice-through-the-looking-glass-2016","/us/movie/x-men-apocalypse","/us/movie/notting-hill","/us/movie/star-trek-beyond","/us/movie/jurassic-park-i","/us/movie/10-cloverfield-lane","/us/movie/ant-man","/us/movie/serenity","/us/movie/deadpool","/us/movie/ghostbusters-1","/us/movie/my-best-friends-wedding","/us/movie/mike-and-dave-need-wedding-dates","/us/movie/the-huntsman-winters-war","/us/movie/daddys-home","/us/movie/trainwreck","/us/movie/the-nice-guys","/us/movie/groundhog-day","/us/movie/stellaluna","/us/movie/the-da-vinci-code-1","/us/movie/eye-in-the-sky-2016","/us/movie/jurassic-park-iii","/us/movie/avengers-age-of","/us/movie/how-the-grinch-stole-christmas","/us/movie/50-first-dates","/us/movie/independence-day-resurgence","/us/movie/o-brother-where-art-thou"];e.prepareExperiment(s,c,l,u.promise),t(function(){a.getActiveUrlPromise().then(function(e){return o.getTitle(e.object_type,e.object_id,!0)}).then(function(t){if(!t)return u.reject();var n=_(t.offers).some(function(e){return"canvas"===e.presentation_type}),i=function(){return e.isSeoTraffic()&&!n&&!e.isCampaignTraffic()&&p.indexOf(r.url())!==-1};u.resolve(i)})})}]),angular.module("jw-webapp").component("watchnowWordingTest",{bindings:{titleName:"<"},template:'\n\t\t<p class="detail-infos__subheading"\n\t\t\ttranslate="WEBAPP_WATCHNOW"\n\t\t\ttranslate-default="Watch Now"\n\t\t\tng-if="!$ctrl.translation">\n\t\t</p>\n\t\t<p\n\t\t\tng-if="$ctrl.translation"\n\t\t\tclass="detail-infos__subheading"\n\t\t\tstyle="font-size: 20px; font-weight: normal; {{::$ctrl.colorStyle}} text-transform: none;">\n\t\t\t{{::$ctrl.translation}}\n\t\t</p>',controller:["$rootScope","experimentRepository","configRepository",function(e,t,n){var r=this,i={de:["de"],en:["us","au","nz","ca","uk","ie","za","nl","fi","no","dk","se"]},a=_(Object.keys(i)).filter(function(e){return i[e].indexOf(n.config.webLocale)!==-1}).first(),o=[{de:"Hier kannst du es anschauen:",en:"You can find the title on these providers:"},{de:"Klicke auf das Symbol deines Anbieters um es anzuschauen:",en:"Click on your provider to watch it now:"},{de:"Klicke auf deinen Anbieter um "+this.titleName+" anzuschauen:",en:"Here you can find this title:"},{de:"Hier kannst du es sofort anschauen:",en:"The title is available on those providers:"},{de:"Sofort anschauen:",en:"Stream "+this.titleName+" on"},{de:"Hier findest du diesen Titel:",en:"Price comparison for "+this.titleName+":"},{de:"Hier ist der Titel verfgbar:",en:this.titleName+" is available at on the following providers:"},{de:"Preisvergleich fr "+this.titleName,en:"Choose your favourite provider to watch "+this.titleName+":"}];t.getVariantPromise("WORDING_SEO_2").then(function(e){e>=1&&(r.translation=o[(e-1)%o.length][a],e>=9&&(r.colorStyle="color: #9bacb9;"))})}]});